/*! For license information please see main.a44bc33a.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},75:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,t:()=>r});var s=console;function r(){return s}function a(e){s=e}},153:(e,t,n)=>{"use strict";var s=n(43),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,a={},c=null,d=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,s)&&!o.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},168:(e,t,n)=>{"use strict";function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s.apply(null,arguments)}n.d(t,{A:()=>s})},198:(e,t,n)=>{"use strict";n.d(t,{E:()=>w});var s=n(168),r=n(870);function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}var i=n(991),o=n(75),c=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(e){var t=this,n=e||function(){};return this.listeners.push(n),this.onSubscribe(),function(){t.listeners=t.listeners.filter(function(e){return e!==n}),t.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),d=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!r.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},t}l(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()})},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(e){e()})},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},t}(c)),u=new(function(e){function t(){var t;return(t=e.call(this)||this).setup=function(e){var t;if(!r.S$&&(null==(t=window)?void 0:t.addEventListener)){var n=function(){return e()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},t}l(t,e);var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)},n.setEventListener=function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()})},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(e){e()})},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},t}(c));function m(e){return Math.min(1e3*Math.pow(2,e),3e4)}function h(e){return"function"===typeof(null==e?void 0:e.cancel)}var f=function(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent};function p(e){return e instanceof f}var x=function(e){var t,n,s,a,l=this,i=!1;this.abort=e.abort,this.cancel=function(e){return null==t?void 0:t(e)},this.cancelRetry=function(){i=!0},this.continueRetry=function(){i=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(e,t){s=e,a=t});var o=function(t){l.isResolved||(l.isResolved=!0,null==e.onSuccess||e.onSuccess(t),null==n||n(),s(t))},c=function(t){l.isResolved||(l.isResolved=!0,null==e.onError||e.onError(t),null==n||n(),a(t))};!function s(){if(!l.isResolved){var a;try{a=e.fn()}catch(p){a=Promise.reject(p)}t=function(e){if(!l.isResolved&&(c(new f(e)),null==l.abort||l.abort(),h(a)))try{a.cancel()}catch(t){}},l.isTransportCancelable=h(a),Promise.resolve(a).then(o).catch(function(t){var a,o;if(!l.isResolved){var h=null!=(a=e.retry)?a:3,f=null!=(o=e.retryDelay)?o:m,p="function"===typeof f?f(l.failureCount,t):f,x=!0===h||"number"===typeof h&&l.failureCount<h||"function"===typeof h&&h(l.failureCount,t);!i&&x?(l.failureCount++,null==e.onFail||e.onFail(l.failureCount,t),(0,r.yy)(p).then(function(){if(!d.isFocused()||!u.isOnline())return new Promise(function(t){n=t,l.isPaused=!0,null==e.onPause||e.onPause()}).then(function(){n=void 0,l.isPaused=!1,null==e.onContinue||e.onContinue()})}).then(function(){i?c(t):s()})):c(t)}})}}()},g=function(){function e(e){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=e.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(e){var t;this.options=(0,s.A)({},this.defaultOptions,e),this.meta=null==e?void 0:e.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(t=this.options.cacheTime)?t:3e5)},t.setDefaultOptions=function(e){this.defaultOptions=e},t.scheduleGc=function(){var e=this;this.clearGcTimeout(),(0,r.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){e.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(e,t){var n,s,a=this.state.data,l=(0,r.Zw)(e,a);return(null==(n=(s=this.options).isDataEqual)?void 0:n.call(s,a,l))?l=a:!1!==this.options.structuralSharing&&(l=(0,r.BH)(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt}),l},t.setState=function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})},t.cancel=function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(r.lQ).catch(r.lQ):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(e){return!1!==e.options.enabled})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(e){return e.getCurrentResult().isStale})},t.isStaleByTime=function(e){return void 0===e&&(e=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,r.j3)(this.state.dataUpdatedAt,e)},t.onFocus=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnWindowFocus()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.onOnline=function(){var e,t=this.observers.find(function(e){return e.shouldFetchOnReconnect()});t&&t.refetch(),null==(e=this.retryer)||e.continue()},t.addObserver=function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))},t.removeObserver=function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(function(t){return t!==e}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:e}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(e,t){var n,s,a,l=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var i;return null==(i=this.retryer)||i.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var c=this.observers.find(function(e){return e.options.queryFn});c&&this.setOptions(c.options)}var d=(0,r.HN)(this.queryKey),u=(0,r.jY)(),m={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(u)return l.abortSignalConsumed=!0,u.signal}});var h,f,g={fetchOptions:t,options:this.options,queryKey:d,state:this.state,fetchFn:function(){return l.options.queryFn?(l.abortSignalConsumed=!1,l.options.queryFn(m)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(h=this.options.behavior)||h.onFetch(g));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(s=g.fetchOptions)?void 0:s.meta))||this.dispatch({type:"fetch",meta:null==(f=g.fetchOptions)?void 0:f.meta});return this.retryer=new x({fn:g.fetchFn,abort:null==u||null==(a=u.abort)?void 0:a.bind(u),onSuccess:function(e){l.setData(e),null==l.cache.config.onSuccess||l.cache.config.onSuccess(e,l),0===l.cacheTime&&l.optionalRemove()},onError:function(e){p(e)&&e.silent||l.dispatch({type:"error",error:e}),p(e)||(null==l.cache.config.onError||l.cache.config.onError(e,l),(0,o.t)().error(e)),0===l.cacheTime&&l.optionalRemove()},onFail:function(){l.dispatch({type:"failed"})},onPause:function(){l.dispatch({type:"pause"})},onContinue:function(){l.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(e){var t=this;this.state=this.reducer(this.state,e),i.j.batch(function(){t.observers.forEach(function(t){t.onQueryUpdate(e)}),t.cache.notify({query:t,type:"queryUpdated",action:e})})},t.getDefaultState=function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof e.initialData?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0,s="undefined"!==typeof t;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:s?"success":"idle"}},t.reducer=function(e,t){var n,r;switch(t.type){case"failed":return(0,s.A)({},e,{fetchFailureCount:e.fetchFailureCount+1});case"pause":return(0,s.A)({},e,{isPaused:!0});case"continue":return(0,s.A)({},e,{isPaused:!1});case"fetch":return(0,s.A)({},e,{fetchFailureCount:0,fetchMeta:null!=(n=t.meta)?n:null,isFetching:!0,isPaused:!1},!e.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,s.A)({},e,{data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(r=t.dataUpdatedAt)?r:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=t.error;return p(a)&&a.revert&&this.revertState?(0,s.A)({},this.revertState):(0,s.A)({},e,{error:a,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,s.A)({},e,{isInvalidated:!0});case"setState":return(0,s.A)({},e,t.state);default:return e}},e}(),y=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.queries=[],n.queriesMap={},n}l(t,e);var n=t.prototype;return n.build=function(e,t,n){var s,a=t.queryKey,l=null!=(s=t.queryHash)?s:(0,r.F$)(a,t),i=this.get(l);return i||(i=new g({cache:this,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a),meta:t.meta}),this.add(i)),i},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(function(t){return t!==e}),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;i.j.batch(function(){e.queries.forEach(function(t){e.remove(t)})})},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,t){var n=(0,r.b_)(e,t)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find(function(e){return(0,r.MK)(n,e)})},n.findAll=function(e,t){var n=(0,r.b_)(e,t)[0];return Object.keys(n).length>0?this.queries.filter(function(e){return(0,r.MK)(n,e)}):this.queries},n.notify=function(e){var t=this;i.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){var e=this;i.j.batch(function(){e.queries.forEach(function(e){e.onFocus()})})},n.onOnline=function(){var e=this;i.j.batch(function(){e.queries.forEach(function(e){e.onOnline()})})},t}(c),b=function(){function e(e){this.options=(0,s.A)({},e.defaultOptions,e.options),this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=e.meta}var t=e.prototype;return t.setState=function(e){this.dispatch({type:"setState",state:e})},t.addObserver=function(e){-1===this.observers.indexOf(e)&&this.observers.push(e)},t.removeObserver=function(e){this.observers=this.observers.filter(function(t){return t!==e})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(r.lQ).catch(r.lQ)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var e,t=this,n="loading"===this.state.status,s=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){null==t.mutationCache.config.onMutate||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return null==t.options.onMutate?void 0:t.options.onMutate(t.state.variables)}).then(function(e){e!==t.state.context&&t.dispatch({type:"loading",context:e,variables:t.state.variables})})),s.then(function(){return t.executeMutation()}).then(function(n){e=n,null==t.mutationCache.config.onSuccess||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return null==t.options.onSuccess?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(e){return null==t.mutationCache.config.onError||t.mutationCache.config.onError(e,t.state.variables,t.state.context,t),(0,o.t)().error(e),Promise.resolve().then(function(){return null==t.options.onError?void 0:t.options.onError(e,t.state.variables,t.state.context)}).then(function(){return null==t.options.onSettled?void 0:t.options.onSettled(void 0,e,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:e}),e})})},t.executeMutation=function(){var e,t=this;return this.retryer=new x({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(e){var t=this;this.state=function(e,t){switch(t.type){case"failed":return(0,s.A)({},e,{failureCount:e.failureCount+1});case"pause":return(0,s.A)({},e,{isPaused:!0});case"continue":return(0,s.A)({},e,{isPaused:!1});case"loading":return(0,s.A)({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return(0,s.A)({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return(0,s.A)({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,s.A)({},e,t.state);default:return e}}(this.state,e),i.j.batch(function(){t.observers.forEach(function(t){t.onMutationUpdate(e)}),t.mutationCache.notify(t)})},e}();var v=function(e){function t(t){var n;return(n=e.call(this)||this).config=t||{},n.mutations=[],n.mutationId=0,n}l(t,e);var n=t.prototype;return n.build=function(e,t,n){var s=new b({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(s),s},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter(function(t){return t!==e}),e.cancel(),this.notify(e)},n.clear=function(){var e=this;i.j.batch(function(){e.mutations.forEach(function(t){e.remove(t)})})},n.getAll=function(){return this.mutations},n.find=function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find(function(t){return(0,r.nJ)(e,t)})},n.findAll=function(e){return this.mutations.filter(function(t){return(0,r.nJ)(e,t)})},n.notify=function(e){var t=this;i.j.batch(function(){t.listeners.forEach(function(t){t(e)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter(function(e){return e.state.isPaused});return i.j.batch(function(){return e.reduce(function(e,t){return e.then(function(){return t.continue().catch(r.lQ)})},Promise.resolve())})},t}(c);function j(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function N(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var w=function(){function e(e){void 0===e&&(e={}),this.queryCache=e.queryCache||new y,this.mutationCache=e.mutationCache||new v,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var e=this;this.unsubscribeFocus=d.subscribe(function(){d.isFocused()&&u.isOnline()&&(e.mutationCache.onFocus(),e.queryCache.onFocus())}),this.unsubscribeOnline=u.subscribe(function(){d.isFocused()&&u.isOnline()&&(e.mutationCache.onOnline(),e.queryCache.onOnline())})},t.unmount=function(){var e,t;null==(e=this.unsubscribeFocus)||e.call(this),null==(t=this.unsubscribeOnline)||t.call(this)},t.isFetching=function(e,t){var n=(0,r.b_)(e,t)[0];return n.fetching=!0,this.queryCache.findAll(n).length},t.isMutating=function(e){return this.mutationCache.findAll((0,s.A)({},e,{fetching:!0})).length},t.getQueryData=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data},t.getQueriesData=function(e){return this.getQueryCache().findAll(e).map(function(e){return[e.queryKey,e.state.data]})},t.setQueryData=function(e,t,n){var s=(0,r.vh)(e),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(t,n)},t.setQueriesData=function(e,t,n){var s=this;return i.j.batch(function(){return s.getQueryCache().findAll(e).map(function(e){var r=e.queryKey;return[r,s.setQueryData(r,t,n)]})})},t.getQueryState=function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state},t.removeQueries=function(e,t){var n=(0,r.b_)(e,t)[0],s=this.queryCache;i.j.batch(function(){s.findAll(n).forEach(function(e){s.remove(e)})})},t.resetQueries=function(e,t,n){var a=this,l=(0,r.b_)(e,t,n),o=l[0],c=l[1],d=this.queryCache,u=(0,s.A)({},o,{active:!0});return i.j.batch(function(){return d.findAll(o).forEach(function(e){e.reset()}),a.refetchQueries(u,c)})},t.cancelQueries=function(e,t,n){var s=this,a=(0,r.b_)(e,t,n),l=a[0],o=a[1],c=void 0===o?{}:o;"undefined"===typeof c.revert&&(c.revert=!0);var d=i.j.batch(function(){return s.queryCache.findAll(l).map(function(e){return e.cancel(c)})});return Promise.all(d).then(r.lQ).catch(r.lQ)},t.invalidateQueries=function(e,t,n){var a,l,o,c=this,d=(0,r.b_)(e,t,n),u=d[0],m=d[1],h=(0,s.A)({},u,{active:null==(a=null!=(l=u.refetchActive)?l:u.active)||a,inactive:null!=(o=u.refetchInactive)&&o});return i.j.batch(function(){return c.queryCache.findAll(u).forEach(function(e){e.invalidate()}),c.refetchQueries(h,m)})},t.refetchQueries=function(e,t,n){var a=this,l=(0,r.b_)(e,t,n),o=l[0],c=l[1],d=i.j.batch(function(){return a.queryCache.findAll(o).map(function(e){return e.fetch(void 0,(0,s.A)({},c,{meta:{refetchPage:null==o?void 0:o.refetchPage}}))})}),u=Promise.all(d).then(r.lQ);return(null==c?void 0:c.throwOnError)||(u=u.catch(r.lQ)),u},t.fetchQuery=function(e,t,n){var s=(0,r.vh)(e,t,n),a=this.defaultQueryOptions(s);"undefined"===typeof a.retry&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},t.prefetchQuery=function(e,t,n){return this.fetchQuery(e,t,n).then(r.lQ).catch(r.lQ)},t.fetchInfiniteQuery=function(e,t,n){var s=(0,r.vh)(e,t,n);return s.behavior={onFetch:function(e){e.fetchFn=function(){var t,n,s,a,l,i,o,c=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,d=null==(s=e.fetchOptions)||null==(a=s.meta)?void 0:a.fetchMore,u=null==d?void 0:d.pageParam,m="forward"===(null==d?void 0:d.direction),f="backward"===(null==d?void 0:d.direction),p=(null==(l=e.state.data)?void 0:l.pages)||[],x=(null==(i=e.state.data)?void 0:i.pageParams)||[],g=(0,r.jY)(),y=null==g?void 0:g.signal,b=x,v=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(e,t,n,s){return b=s?[t].concat(b):[].concat(b,[t]),s?[n].concat(e):[].concat(e,[n])},k=function(t,n,s,r){if(v)return Promise.reject("Cancelled");if("undefined"===typeof s&&!n&&t.length)return Promise.resolve(t);var a={queryKey:e.queryKey,signal:y,pageParam:s,meta:e.meta},l=w(a),i=Promise.resolve(l).then(function(e){return S(t,s,e,r)});return h(l)&&(i.cancel=l.cancel),i};if(p.length)if(m){var _="undefined"!==typeof u,C=_?u:j(e.options,p);o=k(p,_,C)}else if(f){var E="undefined"!==typeof u,P=E?u:N(e.options,p);o=k(p,E,P,!0)}else!function(){b=[];var t="undefined"===typeof e.options.getNextPageParam,n=!c||!p[0]||c(p[0],0,p);o=n?k([],t,x[0]):Promise.resolve(S([],x[0],p[0]));for(var s=function(n){o=o.then(function(s){if(!c||!p[n]||c(p[n],n,p)){var r=t?x[n]:j(e.options,s);return k(s,t,r)}return Promise.resolve(S(s,x[n],p[n]))})},r=1;r<p.length;r++)s(r)}();else o=k([]);var O=o.then(function(e){return{pages:e,pageParams:b}});return O.cancel=function(){v=!0,null==g||g.abort(),h(o)&&o.cancel()},O}}},this.fetchQuery(s)},t.prefetchInfiniteQuery=function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(r.lQ).catch(r.lQ)},t.cancelMutations=function(){var e=this,t=i.j.batch(function(){return e.mutationCache.getAll().map(function(e){return e.cancel()})});return Promise.all(t).then(r.lQ).catch(r.lQ)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(e){return this.mutationCache.build(this,e).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(e){this.defaultOptions=e},t.setQueryDefaults=function(e,t){var n=this.queryDefaults.find(function(t){return(0,r.Od)(e)===(0,r.Od)(t.queryKey)});n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})},t.getQueryDefaults=function(e){var t;return e?null==(t=this.queryDefaults.find(function(t){return(0,r.Cp)(e,t.queryKey)}))?void 0:t.defaultOptions:void 0},t.setMutationDefaults=function(e,t){var n=this.mutationDefaults.find(function(t){return(0,r.Od)(e)===(0,r.Od)(t.mutationKey)});n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})},t.getMutationDefaults=function(e){var t;return e?null==(t=this.mutationDefaults.find(function(t){return(0,r.Cp)(e,t.mutationKey)}))?void 0:t.defaultOptions:void 0},t.defaultQueryOptions=function(e){if(null==e?void 0:e._defaulted)return e;var t=(0,s.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==e?void 0:e.queryKey),e,{_defaulted:!0});return!t.queryHash&&t.queryKey&&(t.queryHash=(0,r.F$)(t.queryKey,t)),t},t.defaultQueryObserverOptions=function(e){return this.defaultQueryOptions(e)},t.defaultMutationOptions=function(e){return(null==e?void 0:e._defaulted)?e:(0,s.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==e?void 0:e.mutationKey),e,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,p(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,s){var r,a={},l=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return{$$typeof:n,type:e,key:l,ref:i,props:a,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case s:o=!0}}if(o)return l=l(o=e),e=""===a?"."+E(o,0):a,j(l)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),P(l,t,r,"",function(e){return e})):null!=l&&(_(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+E(i=e[c],c);o+=P(i,t,r,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,r,d=a+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function O(e,t,n){if(null==e)return e;var s=[],r=0;return P(e,s,"","",function(e){return t.call(n,e,r++)}),s}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:w};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=l,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=F,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),a=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:a,ref:l,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<a(r,t)))break e;e[s]=t,e[n]=r,n=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,l=r>>>1;s<l;){var i=2*(s+1)-1,o=e[i],c=i+1,d=e[c];if(0>a(o,n))c<r&&0>a(d,o)?(e[s]=d,e[c]=n,s=c):(e[s]=o,e[i]=n,s=i);else{if(!(c<r&&0>a(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=s(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=s(d)}}function j(e){if(x=!1,v(e),!p)if(null!==s(c))p=!0,L(N);else{var t=s(d);null!==t&&A(j,t.startTime-e)}}function N(e,n){p=!1,x&&(x=!1,y(_),_=-1),f=!0;var a=h;try{for(v(n),m=s(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===s(c)&&r(c),v(n)}else r(c);m=s(c)}if(null!==m)var o=!0;else{var u=s(d);null!==u&&A(j,u.startTime-n),o=!1}return o}finally{m=null,h=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,k=null,_=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function O(){if(null!==k){var e=t.unstable_now();E=e;var n=!0;try{n=k(!0,e)}finally{n?w():(S=!1,k=null)}}else S=!1}if("function"===typeof b)w=function(){b(O)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=O,w=function(){R.postMessage(null)}}else w=function(){g(O,0)};function L(e){k=e,S||(S=!0,w())}function A(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,L(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(d,e),null===s(c)&&e===s(d)&&(x?(y(_),_=-1):x=!0,A(j,a-l))):(e.sortIndex=i,n(c,e),p||f||(p=!0,L(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},298:()=>{},391:(e,t,n)=>{"use strict";var s=n(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},524:(e,t,n)=>{"use strict";n.d(t,{QueryClientProvider:()=>u});var s=n(991),r=n(950).unstable_batchedUpdates;s.j.setBatchNotifyFunction(r);var a=n(75),l=console;(0,a.B)(l);var i=n(43),o=i.createContext(void 0),c=i.createContext(!1);function d(e){return e&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=o),window.ReactQueryClientContext):o}var u=function(e){var t=e.client,n=e.contextSharing,s=void 0!==n&&n,r=e.children;i.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var a=d(s);return i.createElement(c.Provider,{value:s},i.createElement(a.Provider,{value:t},r))}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var s=n(43),r=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,s,r,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,s){var r=x.hasOwnProperty(t)?x[t]:null;(null!==r?0!==r.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,s)&&(n=null),s||null===r?function(e){return!!u.call(f,e)||!u.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,s=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);x[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,z=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function I(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=s.stack.split("\n"),l=r.length-1,i=a.length-1;1<=l&&0<=i&&r[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(r[l]!==a[i]){if(1!==l||1!==i)do{if(l--,0>--i||r[l]!==a[i]){var o="\n"+r[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Q(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),s=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),r=pe(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ge=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,Se=null;function ke(e){if(e=br(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=jr(t),Ne(e.stateNode,e.type,t))}}function _e(e){we?Se?Se.push(e):Se=[e]:we=e}function Ce(){if(we){var e=we,t=Se;if(Se=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Oe=!1;function Te(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ee(e,t,n)}finally{Oe=!1,(null!==we||null!==Se)&&(Pe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var s=jr(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){Le=!1}function Fe(e,t,n,s,r,a,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,ze=null,Me=!1,Ue=null,Ie={onError:function(e){De=!0,ze=e}};function Be(e,t,n,s,r,a,l,i,o){De=!1,ze=null,Fe.apply(Ie,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(s=r.return)){n=s;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return He(r),e;if(l===s)return He(r),t;l=l.sibling}throw Error(a(188))}if(n.return!==s.return)n=r,s=l;else{for(var i=!1,o=r.child;o;){if(o===n){i=!0,n=r,s=l;break}if(o===s){i=!0,s=r,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,s=r;break}if(o===s){i=!0,s=l,n=r;break}o=o.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Je=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,st=r.unstable_IdlePriority,rt=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~r;0!==i?s=ut(i):0!==(a&=l)&&(s=ut(a))}else 0!==(l=n&~r)?s=ut(l):0!==a&&(s=ut(a));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)r=1<<(n=31-lt(t)),s|=e[n],t&=~r;return s}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-lt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,St,kt,_t=!1,Ct=[],Et=null,Pt=null,Ot=null,Tt=new Map,Rt=new Map,Lt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,s,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&Nt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zt(e){var t=yr(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&Nt(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);ve=s,n.target.dispatchEvent(s),ve=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function It(){_t=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Ot&&Mt(Ot)&&(Ot=null),Tt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,It)))}function qt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var s=Ct[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Pt&&Bt(Pt,e),null!==Ot&&Bt(Ot,e),Tt.forEach(t),Rt.forEach(t),n=0;n<Lt.length;n++)(s=Lt[n]).blockedOn===e&&(s.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)zt(n),null===n.blockedOn&&Lt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function Qt(e,t,n,s){var r=bt,a=Vt.transition;Vt.transition=null;try{bt=1,$t(e,t,n,s)}finally{bt=r,Vt.transition=a}}function Wt(e,t,n,s){var r=bt,a=Vt.transition;Vt.transition=null;try{bt=4,$t(e,t,n,s)}finally{bt=r,Vt.transition=a}}function $t(e,t,n,s){if(Ht){var r=Jt(e,t,n,s);if(null===r)Hs(e,t,s,Kt,n),Ft(e,s);else if(function(e,t,n,s,r){switch(t){case"focusin":return Et=Dt(Et,e,t,n,s,r),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,s,r),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return Tt.set(a,Dt(Tt.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Rt.set(a,Dt(Rt.get(a)||null,e,t,n,s,r)),!0}return!1}(r,e,t,n,s))s.stopPropagation();else if(Ft(e,s),4&t&&-1<At.indexOf(e)){for(;null!==r;){var a=br(r);if(null!==a&&jt(a),null===(a=Jt(e,t,n,s))&&Hs(e,t,s,Kt,n),a===r)break;r=a}null!==r&&s.stopPropagation()}else Hs(e,t,s,null,n)}}var Kt=null;function Jt(e,t,n,s){if(Kt=null,null!==(e=yr(e=je(s))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,s=n.length,r="value"in Yt?Yt.value:Yt.textContent,a=r.length;for(e=0;e<s&&n[e]===r[e];e++);var l=s-e;for(t=1;t<=l&&n[s-t]===r[a-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function rn(e){function t(t,n,s,r,a){for(var l in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=z({},cn,{view:0,detail:0}),mn=rn(un),hn=z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(an=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=an=0,on=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=rn(hn),pn=rn(z({},hn,{dataTransfer:0})),xn=rn(z({},un,{relatedTarget:0})),gn=rn(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),vn=rn(z({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function kn(){return Sn}var _n=z({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(_n),En=rn(z({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=rn(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=z({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=rn(Tn),Ln=[9,13,27,32],An=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Dn=d&&"TextEvent"in window&&!Fn,zn=d&&(!An||Fn&&8<Fn&&11>=Fn),Mn=String.fromCharCode(32),Un=!1;function In(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Qn(e,t,n,s){_e(s),0<(t=Ws(t,"onChange")).length&&(n=new dn("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Wn=null,$n=null;function Kn(e){Ms(e,0)}function Jn(e){if($(vr(e)))return e}function Gn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var es=document.createElement("div");es.setAttribute("oninput","return;"),Zn="function"===typeof es.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ts(){Wn&&(Wn.detachEvent("onpropertychange",ns),$n=Wn=null)}function ns(e){if("value"===e.propertyName&&Jn($n)){var t=[];Qn(t,$n,e,je(e)),Te(Kn,t)}}function ss(e,t,n){"focusin"===e?(ts(),$n=n,(Wn=t).attachEvent("onpropertychange",ns)):"focusout"===e&&ts()}function rs(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function as(e,t){if("click"===e)return Jn(t)}function ls(e,t){if("input"===e||"change"===e)return Jn(t)}var is="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function os(e,t){if(is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!u.call(t,r)||!is(e[r],t[r]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n,s=cs(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cs(s)}}function us(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?us(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ms(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fs(e){var t=ms(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&us(n.ownerDocument.documentElement,n)){if(null!==s&&hs(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=void 0===s.end?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=ds(n,a);var l=ds(n,s);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ps=d&&"documentMode"in document&&11>=document.documentMode,xs=null,gs=null,ys=null,bs=!1;function vs(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bs||null==xs||xs!==K(s)||("selectionStart"in(s=xs)&&hs(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&os(ys,s)||(ys=s,0<(s=Ws(gs,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=xs)))}function js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},ws={},Ss={};function ks(e){if(ws[e])return ws[e];if(!Ns[e])return e;var t,n=Ns[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ss)return ws[e]=n[t];return e}d&&(Ss=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);var _s=ks("animationend"),Cs=ks("animationiteration"),Es=ks("animationstart"),Ps=ks("transitionend"),Os=new Map,Ts="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){Os.set(e,t),o(t,[e])}for(var Ls=0;Ls<Ts.length;Ls++){var As=Ts[Ls];Rs(As.toLowerCase(),"on"+(As[0].toUpperCase()+As.slice(1)))}Rs(_s,"onAnimationEnd"),Rs(Cs,"onAnimationIteration"),Rs(Es,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(Ps,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ds=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function zs(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,r,l,i,o,c){if(Be.apply(this,arguments),De){if(!De)throw Error(a(198));var d=ze;De=!1,ze=null,Me||(Me=!0,Ue=d)}}(s,t,void 0,e),e.currentTarget=null}function Ms(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var l=s.length-1;0<=l;l--){var i=s[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==a&&r.isPropagationStopped())break e;zs(r,i,c),a=o}else for(l=0;l<s.length;l++){if(o=(i=s[l]).instance,c=i.currentTarget,i=i.listener,o!==a&&r.isPropagationStopped())break e;zs(r,i,c),a=o}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Us(e,t){var n=t[pr];void 0===n&&(n=t[pr]=new Set);var s=e+"__bubble";n.has(s)||(Vs(t,e,2,!1),n.add(s))}function Is(e,t,n){var s=0;t&&(s|=4),Vs(n,e,s,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Bs]){e[Bs]=!0,l.forEach(function(t){"selectionchange"!==t&&(Ds.has(t)||Is(t,!1,e),Is(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bs]||(t[Bs]=!0,Is("selectionchange",!1,t))}}function Vs(e,t,n,s){switch(Gt(t)){case 1:var r=Qt;break;case 4:r=Wt;break;default:r=$t}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hs(e,t,n,s,r){var a=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var i=s.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===l)for(l=s.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;l=l.return}for(;null!==i;){if(null===(l=yr(i)))return;if(5===(o=l.tag)||6===o){s=a=l;continue e}i=i.parentNode}}s=s.return}Te(function(){var s=a,r=je(n),l=[];e:{var i=Os.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Cn;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case _s:case Cs:case Es:o=gn;break;case Ps:o=On;break;case"scroll":o=mn;break;case"wheel":o=Rn;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,f=s;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Re(f,m))&&d.push(Qs(f,p,h)))),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,n,r),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[fr])&&(o||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=s,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=s),o!==c)){if(d=fn,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,p="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:vr(o),h=null==c?i:vr(c),(i=new d(p,f+"leave",o,n,r)).target=u,i.relatedTarget=h,p=null,yr(r)===s&&((d=new d(m,f+"enter",c,n,r)).target=h,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,f=0,h=d=o;h;h=$s(h))f++;for(h=0,p=m;p;p=$s(p))h++;for(;0<f-h;)d=$s(d),f--;for(;0<h-f;)m=$s(m),h--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=$s(d),m=$s(m)}d=null}else d=null;null!==o&&Ks(l,i,o,d,!1),null!==c&&null!==u&&Ks(l,u,c,d,!0)}if("select"===(o=(i=s?vr(s):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Gn;else if(Hn(i))if(Yn)x=ls;else{x=rs;var g=ss}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=as);switch(x&&(x=x(e,s))?Qn(l,x,n,r):(g&&g(e,i,s),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=s?vr(s):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(xs=g,gs=s,ys=null);break;case"focusout":ys=gs=xs=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,vs(l,n,r);break;case"selectionchange":if(ps)break;case"keydown":case"keyup":vs(l,n,r)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,qn=!0)),0<(g=Ws(s,b)).length&&(b=new vn(b,e,null,n,r),l.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&In(e,t)?(e=en(),Zt=Xt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=Ws(s,"onBeforeInput")).length&&(r=new vn("onBeforeInput","beforeinput",null,n,r),l.push({event:r,listeners:s}),r.data=y))}Ms(l,t)})}function Qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ws(e,t){for(var n=t+"Capture",s=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Re(e,n))&&s.unshift(Qs(e,a,r)),null!=(a=Re(e,t))&&s.push(Qs(e,a,r))),e=e.return}return s}function $s(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ks(e,t,n,s,r){for(var a=t._reactName,l=[];null!==n&&n!==s;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===s)break;5===i.tag&&null!==c&&(i=c,r?null!=(o=Re(n,a))&&l.unshift(Qs(n,o,i)):r||null!=(o=Re(n,a))&&l.push(Qs(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Js=/\r\n?/g,Gs=/\u0000|\uFFFD/g;function Ys(e){return("string"===typeof e?e:""+e).replace(Js,"\n").replace(Gs,"")}function Xs(e,t,n){if(t=Ys(t),Ys(e)!==t&&n)throw Error(a(425))}function Zs(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,lr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(ir)}:sr;function ir(e){setTimeout(function(){throw e})}function or(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===s)return e.removeChild(r),void qt(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=r}while(n);qt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,hr="__reactProps$"+ur,fr="__reactContainer$"+ur,pr="__reactEvents$"+ur,xr="__reactListeners$"+ur,gr="__reactHandles$"+ur;function yr(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[mr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[mr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[mr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jr(e){return e[hr]||null}var Nr=[],wr=-1;function Sr(e){return{current:e}}function kr(e){0>wr||(e.current=Nr[wr],Nr[wr]=null,wr--)}function _r(e,t){wr++,Nr[wr]=e.current,e.current=t}var Cr={},Er=Sr(Cr),Pr=Sr(!1),Or=Cr;function Tr(e,t){var n=e.type.contextTypes;if(!n)return Cr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){kr(Pr),kr(Er)}function Ar(e,t,n){if(Er.current!==Cr)throw Error(a(168));_r(Er,t),_r(Pr,n)}function Fr(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in t))throw Error(a(108,V(e)||"Unknown",r));return z({},n,s)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Or=Er.current,_r(Er,e),_r(Pr,Pr.current),!0}function zr(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=Fr(e,t,Or),s.__reactInternalMemoizedMergedChildContext=e,kr(Pr),kr(Er),_r(Er,e)):kr(Pr),_r(Pr,n)}var Mr=null,Ur=!1,Ir=!1;function Br(e){null===Mr?Mr=[e]:Mr.push(e)}function qr(){if(!Ir&&null!==Mr){Ir=!0;var e=0,t=bt;try{var n=Mr;for(bt=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}Mr=null,Ur=!1}catch(r){throw null!==Mr&&(Mr=Mr.slice(e+1)),$e(Ze,qr),r}finally{bt=t,Ir=!1}}return null}var Vr=[],Hr=0,Qr=null,Wr=0,$r=[],Kr=0,Jr=null,Gr=1,Yr="";function Xr(e,t){Vr[Hr++]=Wr,Vr[Hr++]=Qr,Qr=e,Wr=t}function Zr(e,t,n){$r[Kr++]=Gr,$r[Kr++]=Yr,$r[Kr++]=Jr,Jr=e;var s=Gr;e=Yr;var r=32-lt(s)-1;s&=~(1<<r),n+=1;var a=32-lt(t)+r;if(30<a){var l=r-r%5;a=(s&(1<<l)-1).toString(32),s>>=l,r-=l,Gr=1<<32-lt(t)+r|n<<r|s,Yr=a+e}else Gr=1<<a|n<<r|s,Yr=e}function ea(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ta(e){for(;e===Qr;)Qr=Vr[--Hr],Vr[Hr]=null,Wr=Vr[--Hr],Vr[Hr]=null;for(;e===Jr;)Jr=$r[--Kr],$r[Kr]=null,Yr=$r[--Kr],$r[Kr]=null,Gr=$r[--Kr],$r[Kr]=null}var na=null,sa=null,ra=!1,aa=null;function la(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,sa=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,sa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jr?{id:Gr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,sa=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ra){var t=sa;if(t){var n=t;if(!ia(e,t)){if(oa(e))throw Error(a(418));t=cr(n.nextSibling);var s=na;t&&ia(e,t)?la(s,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!ra)return da(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=sa)){if(oa(e))throw ma(),Error(a(418));for(;t;)la(e,t),t=cr(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){sa=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}sa=null}}else sa=na?cr(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=sa;e;)e=cr(e.nextSibling)}function ha(){sa=na=null,ra=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var pa=v.ReactCurrentBatchConfig;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var r=s,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=r.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function l(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,s){return null===t||6!==t.tag?((t=zc(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var a=n.type;return a===w?u(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ya(a)===t.type)?((s=r(t,n.props)).ref=xa(e,t,n),s.return=e,s):((s=Ac(n.type,n.key,n.props,null,e.mode,s)).ref=xa(e,t,n),s.return=e,s)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,s,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,s,a)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case N:return(t=Mc(t,e.mode,n)).return=e,t;case R:return m(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function h(e,t,n,s){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,s):null;case N:return n.key===r?d(e,t,n,s):null;case R:return h(e,t,(r=n._init)(n._payload),s)}if(te(n)||F(n))return null!==r?null:u(e,t,n,s,null);ga(e,n)}return null}function f(e,t,n,s,r){if("string"===typeof s&&""!==s||"number"===typeof s)return o(t,e=e.get(n)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return c(t,e=e.get(null===s.key?n:s.key)||null,s,r);case N:return d(t,e=e.get(null===s.key?n:s.key)||null,s,r);case R:return f(e,t,n,(0,s._init)(s._payload),r)}if(te(s)||F(s))return u(t,e=e.get(n)||null,s,r,null);ga(t,s)}return null}function p(r,a,i,o){for(var c=null,d=null,u=a,p=a=0,x=null;null!==u&&p<i.length;p++){u.index>p?(x=u,u=null):x=u.sibling;var g=h(r,u,i[p],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(r,u),a=l(g,a,p),null===d?c=g:d.sibling=g,d=g,u=x}if(p===i.length)return n(r,u),ra&&Xr(r,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(r,i[p],o))&&(a=l(u,a,p),null===d?c=u:d.sibling=u,d=u);return ra&&Xr(r,p),c}for(u=s(r,u);p<i.length;p++)null!==(x=f(u,r,p,i[p],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?p:x.key),a=l(x,a,p),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),ra&&Xr(r,p),c}function x(r,i,o,c){var d=F(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,p=i,x=i=0,g=null,y=o.next();null!==p&&!y.done;x++,y=o.next()){p.index>x?(g=p,p=null):g=p.sibling;var b=h(r,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(r,p),i=l(b,i,x),null===u?d=b:u.sibling=b,u=b,p=g}if(y.done)return n(r,p),ra&&Xr(r,x),d;if(null===p){for(;!y.done;x++,y=o.next())null!==(y=m(r,y.value,c))&&(i=l(y,i,x),null===u?d=y:u.sibling=y,u=y);return ra&&Xr(r,x),d}for(p=s(r,p);!y.done;x++,y=o.next())null!==(y=f(p,r,x,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?x:y.key),i=l(y,i,x),null===u?d=y:u.sibling=y,u=y);return e&&p.forEach(function(e){return t(r,e)}),ra&&Xr(r,x),d}return function e(s,a,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=a;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){n(s,d.sibling),(a=r(d,l.props.children)).return=s,s=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ya(c)===d.type){n(s,d.sibling),(a=r(d,l.props)).ref=xa(s,d,l),a.return=s,s=a;break e}n(s,d);break}t(s,d),d=d.sibling}l.type===w?((a=Fc(l.props.children,s.mode,o,l.key)).return=s,s=a):((o=Ac(l.type,l.key,l.props,null,s.mode,o)).ref=xa(s,a,l),o.return=s,s=o)}return i(s);case N:e:{for(d=l.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(s,a.sibling),(a=r(a,l.children||[])).return=s,s=a;break e}n(s,a);break}t(s,a),a=a.sibling}(a=Mc(l,s.mode,o)).return=s,s=a}return i(s);case R:return e(s,a,(d=l._init)(l._payload),o)}if(te(l))return p(s,a,l,o);if(F(l))return x(s,a,l,o);ga(s,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==a&&6===a.tag?(n(s,a.sibling),(a=r(a,l)).return=s,s=a):(n(s,a),(a=zc(l,s.mode,o)).return=s,s=a),i(s)):n(s,a)}}var va=ba(!0),ja=ba(!1),Na=Sr(null),wa=null,Sa=null,ka=null;function _a(){ka=Sa=wa=null}function Ca(e){var t=Na.current;kr(Na),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Pa(e,t){wa=e,ka=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===wa)throw Error(a(308));Sa=e,wa.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Ta=null;function Ra(e){null===Ta?Ta=[e]:Ta.push(e)}function La(e,t,n,s){var r=t.interleaved;return null===r?(n.next=n,Ra(t)):(n.next=r.next,r.next=n),t.interleaved=n,Aa(e,s)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Eo)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Aa(e,n)}return null===(r=s.interleaved)?(t.next=t,Ra(s)):(t.next=r.next,r.next=t),s.interleaved=t,Aa(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qa(e,t,n,s){var r=e.updateQueue;Fa=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?a=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=r.baseState;for(l=0,d=c=o=null,i=a;;){var m=i.lane,h=i.eventTime;if((s&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(m=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=p.payload)?f.call(h,u,m):f)||void 0===m)break e;u=z({},u,m);break e;case 2:Fa=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=m;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(m=i).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{l|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Do|=l,e.lanes=l,e.memoizedState=u}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(null!==r){if(s.callback=null,s=n,"function"!==typeof r)throw Error(a(191,r));r.call(s)}}}var Ha={},Qa=Sr(Ha),Wa=Sr(Ha),$a=Sr(Ha);function Ka(e){if(e===Ha)throw Error(a(174));return e}function Ja(e,t){switch(_r($a,t),_r(Wa,e),_r(Qa,Ha),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kr(Qa),_r(Qa,t)}function Ga(){kr(Qa),kr(Wa),kr($a)}function Ya(e){Ka($a.current);var t=Ka(Qa.current),n=oe(t,e.type);t!==n&&(_r(Wa,e),_r(Qa,n))}function Xa(e){Wa.current===e&&(kr(Qa),kr(Wa))}var Za=Sr(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var sl=v.ReactCurrentDispatcher,rl=v.ReactCurrentBatchConfig,al=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function hl(){throw Error(a(321))}function fl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!is(e[n],t[n]))return!1;return!0}function pl(e,t,n,s,r,l){if(al=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=null===e||null===e.memoizedState?Xl:Zl,e=n(s,r),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(a(301));l+=1,ol=il=null,t.updateQueue=null,sl.current=ei,e=n(s,r)}while(dl)}if(sl.current=Yl,t=null!==il&&null!==il.next,al=0,ol=il=ll=null,cl=!1,t)throw Error(a(300));return e}function xl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function yl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(a(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function bl(e,t){return"function"===typeof t?t(e):t}function vl(e){var t=yl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=il,r=s.baseQueue,l=n.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}s.baseQueue=r=l,n.pending=null}if(null!==r){l=r.next,s=s.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((al&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=s):c=c.next=m,ll.lanes|=u,Do|=u}d=d.next}while(null!==d&&d!==l);null===c?i=s:c.next=o,is(s,t.memoizedState)||(yi=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){r=e;do{l=r.lane,ll.lanes|=l,Do|=l,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=yl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);is(l,t.memoizedState)||(yi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Nl(){}function wl(e,t){var n=ll,s=yl(),r=t(),l=!is(s.memoizedState,r);if(l&&(s.memoizedState=r,yi=!0),s=s.queue,Fl(_l.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,Ol(9,kl.bind(null,n,s,r,t),void 0,null),null===Po)throw Error(a(349));0!==(30&al)||Sl(n,t,r)}return r}function Sl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function kl(e,t,n,s){t.value=n,t.getSnapshot=s,Cl(t)&&El(e)}function _l(e,t,n){return n(function(){Cl(t)&&El(e)})}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!is(e,n)}catch(s){return!0}}function El(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Pl(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=$l.bind(null,ll,e),[t.memoizedState,e]}function Ol(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Tl(){return yl().memoizedState}function Rl(e,t,n,s){var r=gl();ll.flags|=e,r.memoizedState=Ol(1|t,n,void 0,void 0===s?null:s)}function Ll(e,t,n,s){var r=yl();s=void 0===s?null:s;var a=void 0;if(null!==il){var l=il.memoizedState;if(a=l.destroy,null!==s&&fl(s,l.deps))return void(r.memoizedState=Ol(t,n,a,s))}ll.flags|=e,r.memoizedState=Ol(1|t,n,a,s)}function Al(e,t){return Rl(8390656,8,e,t)}function Fl(e,t){return Ll(2048,8,e,t)}function Dl(e,t){return Ll(4,2,e,t)}function zl(e,t){return Ll(4,4,e,t)}function Ml(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ul(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ll(4,4,Ml.bind(null,t,e),n)}function Il(){}function Bl(e,t){var n=yl();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&fl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ql(e,t){var n=yl();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&fl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Vl(e,t,n){return 0===(21&al)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=n):(is(n,t)||(n=pt(),ll.lanes|=n,Do|=n,e.baseState=!0),t)}function Hl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var s=rl.transition;rl.transition={};try{e(!1),t()}finally{bt=n,rl.transition=s}}function Ql(){return yl().memoizedState}function Wl(e,t,n){var s=tc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Kl(e))Jl(t,n);else if(null!==(n=La(e,t,n,s))){nc(n,e,s,ec()),Gl(n,t,s)}}function $l(e,t,n){var s=tc(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Jl(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(r.hasEagerState=!0,r.eagerState=i,is(i,l)){var o=t.interleaved;return null===o?(r.next=r,Ra(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=La(e,t,r,s))&&(nc(n,e,s,r=ec()),Gl(n,t,s))}}function Kl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Jl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gl(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yl={readContext:Oa,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Xl={readContext:Oa,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Al,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rl(4194308,4,Ml.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rl(4,2,e,t)},useMemo:function(e,t){var n=gl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=gl();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Wl.bind(null,ll,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Pl,useDebugValue:Il,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Hl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ll,r=gl();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Po)throw Error(a(349));0!==(30&al)||Sl(s,t,n)}r.memoizedState=n;var l={value:n,getSnapshot:t};return r.queue=l,Al(_l.bind(null,s,l,e),[e]),s.flags|=2048,Ol(9,kl.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=gl(),t=Po.identifierPrefix;if(ra){var n=Yr;t=":"+t+"R"+(n=(Gr&~(1<<32-lt(Gr)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Oa,useCallback:Bl,useContext:Oa,useEffect:Fl,useImperativeHandle:Ul,useInsertionEffect:Dl,useLayoutEffect:zl,useMemo:ql,useReducer:vl,useRef:Tl,useState:function(){return vl(bl)},useDebugValue:Il,useDeferredValue:function(e){return Vl(yl(),il.memoizedState,e)},useTransition:function(){return[vl(bl)[0],yl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Ql,unstable_isNewReconciler:!1},ei={readContext:Oa,useCallback:Bl,useContext:Oa,useEffect:Fl,useImperativeHandle:Ul,useInsertionEffect:Dl,useLayoutEffect:zl,useMemo:ql,useReducer:jl,useRef:Tl,useState:function(){return jl(bl)},useDebugValue:Il,useDeferredValue:function(e){var t=yl();return null===il?t.memoizedState=e:Vl(t,il.memoizedState,e)},useTransition:function(){return[jl(bl)[0],yl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Ql,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var si={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ec(),r=tc(e),a=Ma(s,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,r))&&(nc(t,e,r,s),Ia(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ec(),r=tc(e),a=Ma(s,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,r))&&(nc(t,e,r,s),Ia(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),s=tc(e),r=Ma(n,s);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ua(e,r,s))&&(nc(t,e,s,n),Ia(t,e,s))}};function ri(e,t,n,s,r,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!os(n,s)||!os(r,a))}function ai(e,t,n){var s=!1,r=Cr,a=t.contextType;return"object"===typeof a&&null!==a?a=Oa(a):(r=Rr(t)?Or:Er.current,a=(s=null!==(s=t.contextTypes)&&void 0!==s)?Tr(e,r):Cr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=si,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function li(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Oa(a):(a=Rr(t)?Or:Er.current,r.context=Tr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ni(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&si.enqueueReplaceState(r,r.state,null),qa(e,n,r,s),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",s=t;do{n+=B(s),s=s.return}while(s);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Ma(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ho||(Ho=!0,Qo=s),di(0,t)},n}function hi(e,t,n){(n=Ma(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){di(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof s&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fi(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new ui;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,n,s,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ma(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var gi=v.ReactCurrentOwner,yi=!1;function bi(e,t,n,s){t.child=null===e?ja(t,null,n,s):va(t,e.child,n,s)}function vi(e,t,n,s,r){n=n.render;var a=t.ref;return Pa(t,r),s=pl(e,t,n,s,a,r),n=xl(),null===e||yi?(ra&&n&&ea(t),t.flags|=1,bi(e,t,s,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function ji(e,t,n,s,r){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ni(e,t,a,s,r))}if(a=e.child,0===(e.lanes&r)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:os)(l,s)&&e.ref===t.ref)return Vi(e,t,r)}return t.flags|=1,(e=Lc(a,s)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,s,r){if(null!==e){var a=e.memoizedProps;if(os(a,s)&&e.ref===t.ref){if(yi=!1,t.pendingProps=s=a,0===(e.lanes&r))return t.lanes=e.lanes,Vi(e,t,r);0!==(131072&e.flags)&&(yi=!0)}}return ki(e,t,n,s,r)}function wi(e,t,n){var s=t.pendingProps,r=s.children,a=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Lo,Ro),Ro|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_r(Lo,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==a?a.baseLanes:n,_r(Lo,Ro),Ro|=s}else null!==a?(s=a.baseLanes|n,t.memoizedState=null):s=n,_r(Lo,Ro),Ro|=s;return bi(e,t,r,n),t.child}function Si(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,s,r){var a=Rr(n)?Or:Er.current;return a=Tr(t,a),Pa(t,r),n=pl(e,t,n,s,a,r),s=xl(),null===e||yi?(ra&&s&&ea(t),t.flags|=1,bi(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function _i(e,t,n,s,r){if(Rr(n)){var a=!0;Dr(t)}else a=!1;if(Pa(t,r),null===t.stateNode)qi(e,t),ai(t,n,s),ii(t,n,s,r),s=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oa(c):c=Tr(t,c=Rr(n)?Or:Er.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==s||o!==c)&&li(t,l,s,c),Fa=!1;var m=t.memoizedState;l.state=m,qa(t,s,l,r),o=t.memoizedState,i!==s||m!==o||Pr.current||Fa?("function"===typeof d&&(ni(t,n,d,s),o=t.memoizedState),(i=Fa||ri(t,n,i,s,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),l.props=s,l.state=o,l.context=c,s=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,za(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Oa(o):o=Tr(t,o=Rr(n)?Or:Er.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,s,o),Fa=!1,m=t.memoizedState,l.state=m,qa(t,s,l,r);var f=t.memoizedState;i!==u||m!==f||Pr.current||Fa?("function"===typeof h&&(ni(t,n,h,s),f=t.memoizedState),(c=Fa||ri(t,n,c,s,m,f,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(s,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(s,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=f),l.props=s,l.state=f,l.context=o,s=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Ci(e,t,n,s,a,r)}function Ci(e,t,n,s,r,a){Si(e,t);var l=0!==(128&t.flags);if(!s&&!l)return r&&zr(t,n,!1),Vi(e,t,a);s=t.stateNode,gi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&l?(t.child=va(t,e.child,null,a),t.child=va(t,null,i,a)):bi(e,t,i,a),t.memoizedState=s.state,r&&zr(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Ar(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ar(0,t.context,!1),Ja(e,t.containerInfo)}function Pi(e,t,n,s,r){return ha(),fa(r),t.flags|=256,bi(e,t,n,s),t.child}var Oi,Ti,Ri,Li,Ai={dehydrated:null,treeContext:null,retryLane:0};function Fi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,n){var s,r=t.pendingProps,l=Za.current,i=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&l)),s?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),_r(Za,1&l),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Dc(o,r,0,null),e=Fc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fi(n),t.memoizedState=Ai,e):zi(t,o));if(null!==(l=e.memoizedState)&&null!==(s=l.dehydrated))return function(e,t,n,s,r,l,i){if(n)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,s=ci(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=s.fallback,r=t.mode,s=Dc({mode:"visible",children:s.children},r,0,null),(l=Fc(l,r,i,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,0!==(1&t.mode)&&va(t,e.child,null,i),t.child.memoizedState=Fi(i),t.memoizedState=Ai,l);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===r.data){if(s=r.nextSibling&&r.nextSibling.dataset)var o=s.dgst;return s=o,Mi(e,t,i,s=ci(l=Error(a(419)),s,void 0))}if(o=0!==(i&e.childLanes),yi||o){if(null!==(s=Po)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(s.suspendedLanes|i))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Aa(e,r),nc(s,e,r,-1))}return pc(),Mi(e,t,i,s=ci(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=l.treeContext,sa=cr(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&($r[Kr++]=Gr,$r[Kr++]=Yr,$r[Kr++]=Jr,Gr=e.id,Yr=e.overflow,Jr=t),t=zi(t,s.children),t.flags|=4096,t)}(e,t,o,r,s,l,n);if(i){i=r.fallback,o=t.mode,s=(l=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==s?i=Lc(s,i):(i=Fc(i,o,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=null===(o=e.child.memoizedState)?Fi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ai,r}return e=(i=e.child).sibling,r=Lc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zi(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,n,s){return null!==s&&fa(s),va(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ui(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Ea(e.return,t,n)}function Ii(e,t,n,s,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Bi(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(bi(e,t,s.children,n),0!==(2&(s=Za.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ui(e,n,t);else if(19===e.tag)Ui(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(_r(Za,s),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ii(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===el(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ii(t,!0,n,null,a);break;case"together":Ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hi(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=14680064&r.subtreeFlags,s|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Wi(e,t,n){var s=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(t),null;case 1:case 17:return Rr(t.type)&&Lr(),Qi(t),null;case 3:return s=t.stateNode,Ga(),kr(Pr),kr(Er),nl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(lc(aa),aa=null))),Ti(e,t),Qi(t),null;case 5:Xa(t);var r=Ka($a.current);if(n=t.type,null!==e&&null!=t.stateNode)Ri(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(a(166));return Qi(t),null}if(e=Ka(Qa.current),ua(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[mr]=t,s[hr]=l,e=0!==(1&t.mode),n){case"dialog":Us("cancel",s),Us("close",s);break;case"iframe":case"object":case"embed":Us("load",s);break;case"video":case"audio":for(r=0;r<Fs.length;r++)Us(Fs[r],s);break;case"source":Us("error",s);break;case"img":case"image":case"link":Us("error",s),Us("load",s);break;case"details":Us("toggle",s);break;case"input":G(s,l),Us("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Us("invalid",s);break;case"textarea":re(s,l),Us("invalid",s)}for(var o in ye(n,l),r=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?s.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xs(s.textContent,c,e),r=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xs(s.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Us("scroll",s)}switch(n){case"input":W(s),Z(s,l,!0);break;case"textarea":W(s),le(s);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(s.onclick=Zs)}s=r,t.updateQueue=s,null!==s&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),"select"===n&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[mr]=t,e[hr]=s,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,s),n){case"dialog":Us("cancel",e),Us("close",e),r=s;break;case"iframe":case"object":case"embed":Us("load",e),r=s;break;case"video":case"audio":for(r=0;r<Fs.length;r++)Us(Fs[r],e);r=s;break;case"source":Us("error",e),r=s;break;case"img":case"image":case"link":Us("error",e),Us("load",e),r=s;break;case"details":Us("toggle",e),r=s;break;case"input":G(e,s),r=J(e,s),Us("invalid",e);break;case"option":default:r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=z({},s,{value:void 0}),Us("invalid",e);break;case"textarea":re(e,s),r=se(e,s),Us("invalid",e)}for(l in ye(n,r),c=r)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Us("scroll",e):null!=d&&b(e,l,d,o))}switch(n){case"input":W(e),Z(e,s,!1);break;case"textarea":W(e),le(e);break;case"option":null!=s.value&&e.setAttribute("value",""+H(s.value));break;case"select":e.multiple=!!s.multiple,null!=(l=s.value)?ne(e,!!s.multiple,l,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(n=Ka($a.current),Ka(Qa.current),ua(t)){if(s=t.stateNode,n=t.memoizedProps,s[mr]=t,(l=s.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xs(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xs(s.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[mr]=t,t.stateNode=s}return Qi(t),null;case 13:if(kr(Za),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==sa&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,l=!1;else if(l=ua(t),null!==s&&null!==s.dehydrated){if(null===e){if(!l)throw Error(a(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(a(317));l[mr]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qi(t),l=!1}else null!==aa&&(lc(aa),aa=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ao&&(Ao=3):pc())),null!==t.updateQueue&&(t.flags|=4),Qi(t),null);case 4:return Ga(),Ti(e,t),null===e&&qs(t.stateNode.containerInfo),Qi(t),null;case 10:return Ca(t.type._context),Qi(t),null;case 19:if(kr(Za),null===(l=t.memoizedState))return Qi(t),null;if(s=0!==(128&t.flags),null===(o=l.rendering))if(s)Hi(l,!1);else{if(0!==Ao||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Hi(l,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _r(Za,1&Za.current|2),t.child}e=e.sibling}null!==l.tail&&Ye()>qo&&(t.flags|=128,s=!0,Hi(l,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=el(o))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!ra)return Qi(t),null}else 2*Ye()-l.renderingStartTime>qo&&1073741824!==n&&(t.flags|=128,s=!0,Hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,n=Za.current,_r(Za,s?1&n|2:1&n),t):(Qi(t),null);case 22:case 23:return uc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Ro)&&(Qi(t),6&t.subtreeFlags&&(t.flags|=8192)):Qi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $i(e,t){switch(ta(t),t.tag){case 1:return Rr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ga(),kr(Pr),kr(Er),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(kr(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kr(Za),null;case 4:return Ga(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Oi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},Ri=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Ka(Qa.current);var a,l=null;switch(n){case"input":r=J(e,r),s=J(e,s),l=[];break;case"select":r=z({},r,{value:void 0}),s=z({},s,{value:void 0}),l=[];break;case"textarea":r=se(e,r),s=se(e,s),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof s.onClick&&(e.onclick=Zs)}for(d in ye(n,s),n=null,r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in s){var c=s[d];if(o=null!=r?r[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Us("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Li=function(e,t,n,s){n!==s&&(t.flags|=4)};var Ki=!1,Ji=!1,Gi="function"===typeof WeakSet?WeakSet:Set,Yi=null;function Xi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(s){Sc(e,t,s)}else n.current=null}function Zi(e,t,n){try{n()}catch(s){Sc(e,t,s)}}var eo=!1;function to(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&Zi(t,n,a)}r=r.next}while(r!==s)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function so(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[hr],delete t[pr],delete t[xr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zs));else if(4!==s&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(i){}switch(n.tag){case 5:Ji||Xi(n,t);case 6:var s=co,r=uo;co=null,mo(e,t,n),uo=r,null!==(co=s)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?or(e.parentNode,n):1===e.nodeType&&or(e,n),qt(e)):or(co,n.stateNode));break;case 4:s=co,r=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=s,uo=r;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){r=s=s.next;do{var a=r,l=a.destroy;a=a.tag,void 0!==l&&(0!==(2&a)||0!==(4&a))&&Zi(n,t,l),r=r.next}while(r!==s)}mo(e,t,n);break;case 1:if(!Ji&&(Xi(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){Sc(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ji=(s=Ji)||null!==n.memoizedState,mo(e,t,n),Ji=s):mo(e,t,n);break;default:mo(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gi),t.forEach(function(t){var s=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}}function po(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(a(160));ho(l,i,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Sc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),go(e),4&s){try{to(3,e,e.return),no(3,e)}catch(x){Sc(e,e.return,x)}try{to(5,e,e.return)}catch(x){Sc(e,e.return,x)}}break;case 1:po(t,e),go(e),512&s&&null!==n&&Xi(n,n.return);break;case 5:if(po(t,e),go(e),512&s&&null!==n&&Xi(n,n.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(x){Sc(e,e.return,x)}}if(4&s&&null!=(r=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Y(r,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):b(r,u,m,d)}switch(o){case"input":X(r,l);break;case"textarea":ae(r,l);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?ne(r,!!l.multiple,f,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(r,!!l.multiple,l.defaultValue,!0):ne(r,!!l.multiple,l.multiple?[]:"",!1))}r[hr]=l}catch(x){Sc(e,e.return,x)}}break;case 6:if(po(t,e),go(e),4&s){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(x){Sc(e,e.return,x)}}break;case 3:if(po(t,e),go(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(x){Sc(e,e.return,x)}break;case 4:default:po(t,e),go(e);break;case 13:po(t,e),go(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Bo=Ye())),4&s&&fo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ji=(d=Ji)||u,po(t,e),Ji=d):po(t,e),go(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yi=e,u=e.child;null!==u;){for(m=Yi=u;null!==Yi;){switch(f=(h=Yi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xi(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){s=h,n=h.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Sc(s,n,x)}}break;case 5:Xi(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==f?(f.return=h,Yi=f):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(x){Sc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Sc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),go(e),4&s&&fo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ao(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var r=s.stateNode;32&s.flags&&(me(r,""),s.flags&=-33),oo(e,lo(e),r);break;case 3:case 4:var l=s.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(a(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,n){Yi=e,bo(e,t,n)}function bo(e,t,n){for(var s=0!==(1&e.mode);null!==Yi;){var r=Yi,a=r.child;if(22===r.tag&&s){var l=null!==r.memoizedState||Ki;if(!l){var i=r.alternate,o=null!==i&&null!==i.memoizedState||Ji;i=Ki;var c=Ji;if(Ki=l,(Ji=o)&&!c)for(Yi=r;null!==Yi;)o=(l=Yi).child,22===l.tag&&null!==l.memoizedState?No(r):null!==o?(o.return=l,Yi=o):No(r);for(;null!==a;)Yi=a,bo(a,t,n),a=a.sibling;Yi=r,Ki=i,Ji=c}vo(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Yi=a):vo(e)}}function vo(e){for(;null!==Yi;){var t=Yi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||no(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Ji)if(null===n)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Va(t,l,s);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(a(163))}Ji||512&t.flags&&so(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Yi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yi=n;break}Yi=t.return}}function jo(e){for(;null!==Yi;){var t=Yi;if(t===e){Yi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yi=n;break}Yi=t.return}}function No(e){for(;null!==Yi;){var t=Yi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){Sc(t,n,o)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var r=t.return;try{s.componentDidMount()}catch(o){Sc(t,r,o)}}var a=t.return;try{so(t)}catch(o){Sc(t,a,o)}break;case 5:var l=t.return;try{so(t)}catch(o){Sc(t,l,o)}}}catch(o){Sc(t,t.return,o)}if(t===e){Yi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Yi=i;break}Yi=t.return}}var wo,So=Math.ceil,ko=v.ReactCurrentDispatcher,_o=v.ReactCurrentOwner,Co=v.ReactCurrentBatchConfig,Eo=0,Po=null,Oo=null,To=0,Ro=0,Lo=Sr(0),Ao=0,Fo=null,Do=0,zo=0,Mo=0,Uo=null,Io=null,Bo=0,qo=1/0,Vo=null,Ho=!1,Qo=null,Wo=null,$o=!1,Ko=null,Jo=0,Go=0,Yo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Ye():-1!==Xo?Xo:Xo=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==To?To&-To:null!==pa.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,s){if(50<Go)throw Go=0,Yo=null,Error(a(185));gt(e,n,s),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(zo|=n),4===Ao&&ic(e,To)),sc(e,s),1===n&&0===Eo&&0===(1&t.mode)&&(qo=Ye()+500,Ur&&qr()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),i=1<<l,o=r[l];-1===o?0!==(i&n)&&0===(i&s)||(r[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var s=mt(e,e===Po?To:0);if(0===s)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ur=!0,Br(e)}(oc.bind(null,e)):Br(oc.bind(null,e)),lr(function(){0===(6&Eo)&&qr()}),n=null;else{switch(vt(s)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=st}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xo=-1,Zo=0,0!==(6&Eo))throw Error(a(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var s=mt(e,e===Po?To:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=xc(e,s);else{t=s;var r=Eo;Eo|=2;var l=fc();for(Po===e&&To===t||(Vo=null,qo=Ye()+500,mc(e,t));;)try{yc();break}catch(o){hc(e,o)}_a(),ko.current=l,Eo=r,null!==Oo?t=0:(Po=null,To=0,t=Ao)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(s=r,t=ac(e,r))),1===t)throw n=Fo,mc(e,0),ic(e,s),sc(e,Ye()),n;if(6===t)ic(e,s);else{if(r=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!is(a(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=xc(e,s))&&(0!==(l=ft(e))&&(s=l,t=ac(e,l))),1===t))throw n=Fo,mc(e,0),ic(e,s),sc(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Io,Vo);break;case 3:if(ic(e,s),(130023424&s)===s&&10<(t=Bo+500-Ye())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=sr(jc.bind(null,e,Io,Vo),t);break}jc(e,Io,Vo);break;case 4:if(ic(e,s),(4194240&s)===s)break;for(t=e.eventTimes,r=-1;0<s;){var i=31-lt(s);l=1<<i,(i=t[i])>r&&(r=i),s&=~l}if(s=r,10<(s=(120>(s=Ye()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*So(s/1960))-s)){e.timeoutHandle=sr(jc.bind(null,e,Io,Vo),s);break}jc(e,Io,Vo);break;default:throw Error(a(329))}}}return sc(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Uo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Io,Io=n,null!==t&&lc(t)),e}function lc(e){null===Io?Io=e:Io.push.apply(Io,e)}function ic(e,t){for(t&=~Mo,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),s=1<<n;e[n]=-1,t&=~s}}function oc(e){if(0!==(6&Eo))throw Error(a(327));Nc();var t=mt(e,0);if(0===(1&t))return sc(e,Ye()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var s=ft(e);0!==s&&(t=s,n=ac(e,s))}if(1===n)throw n=Fo,mc(e,0),ic(e,t),sc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Io,Vo),sc(e,Ye()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(qo=Ye()+500,Ur&&qr())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var n=Co.transition,s=bt;try{if(Co.transition=null,bt=1,e)return e()}finally{bt=s,Co.transition=n,0===(6&(Eo=t))&&qr()}}function uc(){Ro=Lo.current,kr(Lo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Oo)for(n=Oo.return;null!==n;){var s=n;switch(ta(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Lr();break;case 3:Ga(),kr(Pr),kr(Er),nl();break;case 5:Xa(s);break;case 4:Ga();break;case 13:case 19:kr(Za);break;case 10:Ca(s.type._context);break;case 22:case 23:uc()}n=n.return}if(Po=e,Oo=e=Lc(e.current,null),To=Ro=t,Ao=0,Fo=null,Mo=zo=Do=0,Io=Uo=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(s=(n=Ta[t]).interleaved)){n.interleaved=null;var r=s.next,a=n.pending;if(null!==a){var l=a.next;a.next=r,s.next=l}n.pending=s}Ta=null}return e}function hc(e,t){for(;;){var n=Oo;try{if(_a(),sl.current=Yl,cl){for(var s=ll.memoizedState;null!==s;){var r=s.queue;null!==r&&(r.pending=null),s=s.next}cl=!1}if(al=0,ol=il=ll=null,dl=!1,ul=0,_o.current=null,null===n||null===n.return){Ao=1,Fo=t,Oo=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=To,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=pi(i);if(null!==f){f.flags&=-257,xi(f,i,o,0,t),1&f.mode&&fi(l,d,t),c=d;var p=(t=f).updateQueue;if(null===p){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}if(0===(1&t)){fi(l,d,t),pc();break e}c=Error(a(426))}else if(ra&&1&o.mode){var g=pi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xi(g,i,o,0,t),fa(oi(c,o));break e}}l=c=oi(c,o),4!==Ao&&(Ao=2),null===Uo?Uo=[l]:Uo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ba(l,mi(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wo||!Wo.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Ba(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}vc(n)}catch(v){t=v,Oo===n&&null!==n&&(Oo=n=n.return);continue}break}}function fc(){var e=ko.current;return ko.current=Yl,null===e?Yl:e}function pc(){0!==Ao&&3!==Ao&&2!==Ao||(Ao=4),null===Po||0===(268435455&Do)&&0===(268435455&zo)||ic(Po,To)}function xc(e,t){var n=Eo;Eo|=2;var s=fc();for(Po===e&&To===t||(Vo=null,mc(e,t));;)try{gc();break}catch(r){hc(e,r)}if(_a(),Eo=n,ko.current=s,null!==Oo)throw Error(a(261));return Po=null,To=0,Ao}function gc(){for(;null!==Oo;)bc(Oo)}function yc(){for(;null!==Oo&&!Je();)bc(Oo)}function bc(e){var t=wo(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?vc(e):Oo=t,_o.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wi(n,t,Ro)))return void(Oo=n)}else{if(null!==(n=$i(n,t)))return n.flags&=32767,void(Oo=n);if(null===e)return Ao=6,void(Oo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oo=t);Oo=t=e}while(null!==t);0===Ao&&(Ao=5)}function jc(e,t,n){var s=bt,r=Co.transition;try{Co.transition=null,bt=1,function(e,t,n,s){do{Nc()}while(null!==Ko);if(0!==(6&Eo))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-lt(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}(e,l),e===Po&&(Oo=Po=null,To=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$o||($o=!0,Pc(tt,function(){return Nc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Co.transition,Co.transition=null;var i=bt;bt=1;var o=Eo;Eo|=4,_o.current=null,function(e,t){if(er=Ht,hs(e=ms())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==n||0!==r&&3!==m.nodeType||(o=i+r),m!==l||0!==s&&3!==m.nodeType||(c=i+s),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===n&&++d===r&&(o=i),h===l&&++u===s&&(c=i),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,Yi=t;null!==Yi;)if(e=(t=Yi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yi=e;else for(;null!==Yi;){t=Yi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var x=p.memoizedProps,g=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:ti(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yi=e;break}Yi=t.return}p=eo,eo=!1}(e,n),xo(n,e),fs(tr),Ht=!!er,tr=er=null,e.current=n,yo(n,e,r),Ge(),Eo=o,bt=i,Co.transition=l}else e.current=n;if($o&&($o=!1,Ko=e,Jo=r),l=e.pendingLanes,0===l&&(Wo=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Ye()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Ho)throw Ho=!1,e=Qo,Qo=null,e;0!==(1&Jo)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Yo?Go++:(Go=0,Yo=e):Go=0,qr()}(e,t,n,s)}finally{Co.transition=r,bt=s}return null}function Nc(){if(null!==Ko){var e=vt(Jo),t=Co.transition,n=bt;try{if(Co.transition=null,bt=16>e?16:e,null===Ko)var s=!1;else{if(e=Ko,Ko=null,Jo=0,0!==(6&Eo))throw Error(a(331));var r=Eo;for(Eo|=4,Yi=e.current;null!==Yi;){var l=Yi,i=l.child;if(0!==(16&Yi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Yi=d;null!==Yi;){var u=Yi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Yi=m;else for(;null!==Yi;){var h=(u=Yi).sibling,f=u.return;if(ro(u),u===d){Yi=null;break}if(null!==h){h.return=f,Yi=h;break}Yi=f}}}var p=l.alternate;if(null!==p){var x=p.child;if(null!==x){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Yi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Yi=i;else e:for(;null!==Yi;){if(0!==(2048&(l=Yi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Yi=y;break e}Yi=l.return}}var b=e.current;for(Yi=b;null!==Yi;){var v=(i=Yi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Yi=v;else e:for(i=b;null!==Yi;){if(0!==(2048&(o=Yi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){Sc(o,o.return,N)}if(o===i){Yi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yi=j;break e}Yi=o.return}}if(Eo=r,qr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(N){}s=!0}return s}finally{bt=n,Co.transition=t}}return!1}function wc(e,t,n){e=Ua(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),sc(e,t))}function Sc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Wo||!Wo.has(s))){t=Ua(t,e=hi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),sc(t,e));break}}t=t.return}}function kc(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(To&n)===n&&(4===Ao||3===Ao&&(130023424&To)===To&&500>Ye()-Bo?mc(e,0):Mo|=n),sc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(gt(e,t,n),sc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}null!==s&&s.delete(t),_c(e,n)}function Pc(e,t){return $e(e,t)}function Oc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,s){return new Oc(e,t,n,s)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,s,r,l){var i=2;if(s=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Fc(n.children,r,l,t);case S:i=8,r|=8;break;case k:return(e=Tc(12,n,t,2|r)).elementType=k,e.lanes=l,e;case P:return(e=Tc(13,n,t,r)).elementType=P,e.lanes=l,e;case O:return(e=Tc(19,n,t,r)).elementType=O,e.lanes=l,e;case L:return Dc(n,r,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case C:i=9;break e;case E:i=11;break e;case T:i=14;break e;case R:i=16,s=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tc(i,n,t,r)).elementType=e,t.type=s,t.lanes=l,t}function Fc(e,t,n,s){return(e=Tc(7,e,s,t)).lanes=n,e}function Dc(e,t,n,s){return(e=Tc(22,e,s,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ic(e,t,n,s,r,a,l,i,o){return e=new Uc(e,t,n,i,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e){if(!e)return Cr;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Rr(n))return Fr(e,n,t)}return t}function qc(e,t,n,s,r,a,l,i,o){return(e=Ic(n,s,!0,e,0,a,0,i,o)).context=Bc(null),n=e.current,(a=Ma(s=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,r),e.current.lanes=r,gt(e,r,s),sc(e,s),e}function Vc(e,t,n,s){var r=t.current,a=ec(),l=tc(r);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ma(a,l)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Ua(r,t,l))&&(nc(e,r,l,a),Ia(e,r,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)yi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),ha();break;case 5:Ya(t);break;case 1:Rr(t.type)&&Dr(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;_r(Na,s._currentValue),s._currentValue=r;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(_r(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Di(e,t,n):(_r(Za,1&Za.current),null!==(e=Vi(e,t,n))?e.sibling:null);_r(Za,1&Za.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return Bi(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),_r(Za,Za.current),s)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,n)}return Vi(e,t,n)}(e,t,n);yi=0!==(131072&e.flags)}else yi=!1,ra&&0!==(1048576&t.flags)&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;qi(e,t),e=t.pendingProps;var r=Tr(t,Er.current);Pa(t,n),r=pl(null,t,s,e,r,n);var l=xl();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(s)?(l=!0,Dr(t)):l=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Da(t),r.updater=si,t.stateNode=r,r._reactInternals=t,ii(t,s,e,n),t=Ci(null,t,s,!0,l,n)):(t.tag=0,ra&&l&&ea(t),bi(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(qi(e,t),e=t.pendingProps,s=(r=s._init)(s._payload),t.type=s,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===T)return 14}return 2}(s),e=ti(s,e),r){case 0:t=ki(null,t,s,e,n);break e;case 1:t=_i(null,t,s,e,n);break e;case 11:t=vi(null,t,s,e,n);break e;case 14:t=ji(null,t,s,ti(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,ki(e,t,s,r=t.elementType===s?r:ti(s,r),n);case 1:return s=t.type,r=t.pendingProps,_i(e,t,s,r=t.elementType===s?r:ti(s,r),n);case 3:e:{if(Ei(t),null===e)throw Error(a(387));s=t.pendingProps,r=(l=t.memoizedState).element,za(e,t),qa(t,s,null,n);var i=t.memoizedState;if(s=i.element,l.isDehydrated){if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,s,n,r=oi(Error(a(423)),t));break e}if(s!==r){t=Pi(e,t,s,n,r=oi(Error(a(424)),t));break e}for(sa=cr(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=ja(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),s===r){t=Vi(e,t,n);break e}bi(e,t,s,n)}t=t.child}return t;case 5:return Ya(t),null===e&&ca(t),s=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,i=r.children,nr(s,r)?i=null:null!==l&&nr(s,l)&&(t.flags|=32),Si(e,t),bi(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Di(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=va(t,null,s,n):bi(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,vi(e,t,s,r=t.elementType===s?r:ti(s,r),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,l=t.memoizedProps,i=r.value,_r(Na,s._currentValue),s._currentValue=i,null!==l)if(is(l.value,i)){if(l.children===r.children&&!Pr.current){t=Vi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===s){if(1===l.tag){(c=Ma(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ea(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(a(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ea(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}bi(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Pa(t,n),s=s(r=Oa(r)),t.flags|=1,bi(e,t,s,n),t.child;case 14:return r=ti(s=t.type,t.pendingProps),ji(e,t,s,r=ti(s.type,r),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:ti(s,r),qi(e,t),t.tag=1,Rr(s)?(e=!0,Dr(t)):e=!1,Pa(t,n),ai(t,s,r),ii(t,s,r,n),Ci(null,t,s,!0,e,n);case 19:return Bi(e,t,n);case 22:return wi(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,s,r){var a=n._reactRootContainer;if(a){var l=a;if("function"===typeof r){var i=r;r=function(){var e=Hc(l);i.call(e)}}Vc(t,l,e,r)}else l=function(e,t,n,s,r){if(r){if("function"===typeof s){var a=s;s=function(){var e=Hc(l);a.call(e)}}var l=qc(t,s,e,0,null,!1,0,"",Xc);return e._reactRootContainer=l,e[fr]=l.current,qs(8===e.nodeType?e.parentNode:e),dc(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof s){var i=s;s=function(){var e=Hc(o);i.call(e)}}var o=Ic(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[fr]=o.current,qs(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,o,n,s)}),o}(n,t,e,r,s);return Hc(l)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[fr]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&zt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Ye()),0===(6&Eo)&&(qo=Ye()+500,qr()))}break;case 13:dc(function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},Nt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=jr(s);if(!r)throw Error(a(90));$(s),X(s,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[br,vr,jr,_e,Ce,cc]},td={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{rt=sd.inject(nd),at=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(a(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(a(299));var n=!1,s="",r=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Ic(e,1,!1,null,0,n,0,s,r),e[fr]=t.current,qs(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(a(405));var s=null!=n&&n.hydratedSources||null,r=!1,l="",i=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,l,i),e[fr]=t.current,qs(e),s)for(e=0;e<s.length;e++)r=(r=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},819:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>s.E});var s=n(198),r=n(298);n.o(r,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return r.QueryClientProvider}})},853:(e,t,n)=>{"use strict";e.exports=n(234)},870:(e,t,n)=>{"use strict";n.d(t,{BH:()=>y,Cp:()=>x,F$:()=>f,G6:()=>w,HN:()=>o,MK:()=>m,Od:()=>p,S$:()=>r,Zw:()=>l,b_:()=>u,gn:()=>i,j3:()=>c,jY:()=>S,lQ:()=>a,nJ:()=>h,vh:()=>d,yy:()=>N});var s=n(168),r="undefined"===typeof window;function a(){}function l(e,t){return"function"===typeof e?e(t):e}function i(e){return"number"===typeof e&&e>=0&&e!==1/0}function o(e){return Array.isArray(e)?e:[e]}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,n){return j(e)?"function"===typeof t?(0,s.A)({},n,{queryKey:e,queryFn:t}):(0,s.A)({},t,{queryKey:e}):e}function u(e,t,n){return j(e)?[(0,s.A)({},t,{queryKey:e}),n]:[e||{},t]}function m(e,t){var n=e.active,s=e.exact,r=e.fetching,a=e.inactive,l=e.predicate,i=e.queryKey,o=e.stale;if(j(i))if(s){if(t.queryHash!==f(i,t.options))return!1}else if(!x(t.queryKey,i))return!1;var c=function(e,t){return!0===e&&!0===t||null==e&&null==t?"all":!1===e&&!1===t?"none":(null!=e?e:!t)?"active":"inactive"}(n,a);if("none"===c)return!1;if("all"!==c){var d=t.isActive();if("active"===c&&!d)return!1;if("inactive"===c&&d)return!1}return("boolean"!==typeof o||t.isStale()===o)&&(("boolean"!==typeof r||t.isFetching()===r)&&!(l&&!l(t)))}function h(e,t){var n=e.exact,s=e.fetching,r=e.predicate,a=e.mutationKey;if(j(a)){if(!t.options.mutationKey)return!1;if(n){if(p(t.options.mutationKey)!==p(a))return!1}else if(!x(t.options.mutationKey,a))return!1}return("boolean"!==typeof s||"loading"===t.state.status===s)&&!(r&&!r(t))}function f(e,t){return((null==t?void 0:t.queryKeyHashFn)||p)(e)}function p(e){var t,n=o(e);return t=n,JSON.stringify(t,function(e,t){return b(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t})}function x(e,t){return g(o(e),o(t))}function g(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some(function(n){return!g(e[n],t[n])}))}function y(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||b(e)&&b(t)){for(var s=n?e.length:Object.keys(e).length,r=n?t:Object.keys(t),a=r.length,l=n?[]:{},i=0,o=0;o<a;o++){var c=n?o:r[o];l[c]=y(e[c],t[c]),l[c]===e[c]&&i++}return s===a&&i===s?e:l}return t}function b(e){if(!v(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!v(n)&&!!n.hasOwnProperty("isPrototypeOf")}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function j(e){return"string"===typeof e||Array.isArray(e)}function N(e){return new Promise(function(t){setTimeout(t,e)})}function w(e){Promise.resolve().then(e).catch(function(e){return setTimeout(function(){throw e})})}function S(){if("function"===typeof AbortController)return new AbortController}},907:(e,t,n)=>{"use strict";n.d(t,{QueryClient:()=>s.QueryClient,QueryClientProvider:()=>r.QueryClientProvider});var s=n(819);n.o(s,"QueryClientProvider")&&n.d(t,{QueryClientProvider:function(){return s.QueryClientProvider}});var r=n(524)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},991:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var s=n(870),r=new(function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(e){e()},this.batchNotifyFn=function(e){e()}}var t=e.prototype;return t.batch=function(e){var t;this.transactions++;try{t=e()}finally{this.transactions--,this.transactions||this.flush()}return t},t.schedule=function(e){var t=this;this.transactions?this.queue.push(e):(0,s.G6)(function(){t.notifyFn(e)})},t.batchCalls=function(e){var t=this;return function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];t.schedule(function(){e.apply(void 0,s)})}},t.flush=function(){var e=this,t=this.queue;this.queue=[],t.length&&(0,s.G6)(function(){e.batchNotifyFn(function(){t.forEach(function(t){e.notifyFn(t)})})})},t.setNotifyFunction=function(e){this.notifyFn=e},t.setBatchNotifyFunction=function(e){this.batchNotifyFn=e},e}())}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,r){if(1&r&&(s=this(s)),8&r)return s;if("object"===typeof s&&s){if(4&r&&s.__esModule)return s;if(16&r&&"function"===typeof s.then)return s}var a=Object.create(null);n.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&s;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>s[e]);return l.default=()=>s,n.d(a,l),a}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>qt,hasStandardBrowserEnv:()=>Ht,hasStandardBrowserWebWorkerEnv:()=>Qt,navigator:()=>Vt,origin:()=>Wt});var t,s=n(43),r=n.t(s,2),a=n(391),l=n(950),i=n.t(l,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,s){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function x(e,n,s,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,u=t.Pop,p=null,x=g();function g(){return(i.state||{idx:null}).idx}function y(){u=t.Pop;let e=g(),n=null==e?null:e-x;x=e,p&&p({action:u,location:v.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,i.replaceState(o({},i.state,{idx:x}),""));let v={get action(){return u},get location(){return e(a,i)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(c,y),p=e,()=>{a.removeEventListener(c,y),p=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){u=t.Push;let r=h(v.location,e,n);s&&s(r,e),x=g()+1;let o=m(r,x),c=v.createHref(r);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}l&&p&&p({action:u,location:v.location,delta:1})},replace:function(e,n){u=t.Replace;let r=h(v.location,e,n);s&&s(r,e),x=g();let a=m(r,x),o=v.createHref(r);i.replaceState(a,"",o),l&&p&&p({action:u,location:v.location,delta:0})},go:e=>i.go(e)};return v}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,s){let r=L(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let a=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let l=null;for(let i=0;null==l&&i<a.length;++i){let e=R(r);l=O(a[i],e,s)}return l}function v(e,t,n,s){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s="");let r=(e,r,a)=>{let l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(s.length));let i=M([s,l.relativePath]),o=n.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),v(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:P(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let s of j(e.path))r(e,t,s);else r(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===s.length)return r?[a,""]:[a];let l=j(s.join("/")),i=[];return i.push(...l.map(e=>""===e?a:[a,e].join("/"))),r&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,w=3,S=2,k=1,_=10,C=-2,E=e=>"*"===e;function P(e,t){let n=e.split("/"),s=n.length;return n.some(E)&&(s+=C),t&&(s+=S),n.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?w:""===t?k:_),s)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:s}=e,r={},a="/",l=[];for(let i=0;i<s.length;++i){let e=s[i],o=i===s.length-1,c="/"===a?t:t.slice(a.length)||"/",d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!s[s.length-1].route.index&&(d=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),l.push({params:r,pathname:M([a,d.pathname]),pathnameBase:U(M([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=M([a,d.pathnameBase]))}return l}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,s]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:r}=t;if("*"===s){let e=i[n]||"";l=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[s]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function A(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function z(e,t,n,s){let r;void 0===s&&(s=!1),"string"===typeof e?r=p(e):(r=o({},e),d(!r.pathname||!r.pathname.includes("?"),A("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),A("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),A("#","search","hash",r)));let a,l=""===e||""===r.pathname,i=l?"/":r.pathname;if(null==i)a=n;else{let e=t.length-1;if(!s&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:s="",hash:r=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:I(s),hash:B(r)}}(r,a),u=i&&"/"!==i&&i.endsWith("/"),m=(l||"."===i)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q.apply(this,arguments)}const W=s.createContext(null);const $=s.createContext(null);const K=s.createContext(null);const J=s.createContext(null);const G=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=s.createContext(null);function X(){return null!=s.useContext(J)}function Z(){return X()||d(!1),s.useContext(J).location}function ee(e){s.useContext(K).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(G);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=he(de.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(s,r){void 0===r&&(r={}),n.current&&("number"===typeof s?e.navigate(s):e.navigate(s,Q({fromRouteId:t},r)))},[e,t])}():function(){X()||d(!1);let e=s.useContext(W),{basename:t,future:n,navigator:r}=s.useContext(K),{matches:a}=s.useContext(G),{pathname:l}=Z(),i=JSON.stringify(D(a,n.v7_relativeSplatPath)),o=s.useRef(!1);return ee(()=>{o.current=!0}),s.useCallback(function(n,s){if(void 0===s&&(s={}),!o.current)return;if("number"===typeof n)return void r.go(n);let a=z(n,JSON.parse(i),l,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:M([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)},[t,r,i,l,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(K),{matches:a}=s.useContext(G),{pathname:l}=Z(),i=JSON.stringify(D(a,r.v7_relativeSplatPath));return s.useMemo(()=>z(e,JSON.parse(i),l,"path"===n),[e,i,l,n])}function se(e,n,r,a){X()||d(!1);let{navigator:l}=s.useContext(K),{matches:i}=s.useContext(G),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=Z();if(n){var f;let e="string"===typeof n?p(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),m=e}else m=h;let x=m.pathname||"/",g=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:g});let v=oe(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,a);return n&&v?s.createElement(J.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},v):v}function re(){let e=function(){var e;let t=s.useContext(Y),n=me(de.UseRouteError),r=he(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const ae=s.createElement(re,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(G.Provider,{value:this.props.routeContext},s.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(W);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(G.Provider,{value:t},r)}function oe(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(a=n)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:s}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||r){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let l,d=!1,m=null,h=null;var f;n&&(l=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||ae,c&&(u<0&&0===a?(f="route-fallback",!1||fe[f]||(fe[f]=!0),d=!0,h=null):u===a&&(d=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,a+1)),x=()=>{let t;return t=l?m:d?h:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ie,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:m,error:l,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=s.useContext(W);return t||d(!1),t}function me(e){let t=s.useContext($);return t||d(!1),t}function he(e){let t=function(){let e=s.useContext(G);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function xe(e){let{to:t,replace:n,state:r,relative:a}=e;X()||d(!1);let{future:l,static:i}=s.useContext(K),{matches:o}=s.useContext(G),{pathname:c}=Z(),u=te(),m=z(t,D(o,l.v7_relativeSplatPath),c,"path"===a),h=JSON.stringify(m);return s.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:a}),[u,h,a,n,r]),null}function ge(e){d(!1)}function ye(e){let{basename:n="/",children:r=null,location:a,navigationType:l=t.Pop,navigator:i,static:o=!1,future:c}=e;X()&&d(!1);let u=n.replace(/^\/*/,"/"),m=s.useMemo(()=>({basename:u,navigator:i,static:o,future:Q({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);"string"===typeof a&&(a=p(a));let{pathname:h="/",search:f="",hash:x="",state:g=null,key:y="default"}=a,b=s.useMemo(()=>{let e=L(h,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:g,key:y},navigationType:l}},[u,h,f,x,g,y,l]);return null==b?null:s.createElement(K.Provider,{value:m},s.createElement(J.Provider,{children:r,value:b}))}function be(e){let{children:t,location:n}=e;return se(ve(t),n)}new Promise(()=>{});s.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ve(e.props.children,a)),n.push(l)}),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(ha){}new Map;const Se=r.startTransition;i.flushSync,r.useId;function ke(e){let{basename:t,children:n,future:r,window:a}=e,l=s.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),x(function(e,t){let{pathname:n,search:s,hash:r}=e.location;return h("",{pathname:n,search:s,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,i)));let o=l.current,[c,d]=s.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=s.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>o.listen(m),[o,m]),s.useEffect(()=>pe(r),[r]),s.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=s.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:m,viewTransition:h}=e,p=Ne(e,we),{basename:x}=s.useContext(K),g=!1;if("string"===typeof u&&Ce.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,x);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(ha){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||d(!1);let{basename:r,navigator:a}=s.useContext(K),{hash:l,pathname:i,search:o}=ne(e,{relative:n}),c=i;return"/"!==r&&(c="/"===i?r:M([r,i])),a.createHref({pathname:c,search:o,hash:l})}(u,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=ne(e,{relative:i});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(d)===f(u);c(e,{replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,a,n,e,l,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:h});return s.createElement("a",je({},p,{href:n||y,onClick:g||l?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Pe,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));var Te=n(907);function Re(e,t){return function(){return e.apply(t,arguments)}}const{toString:Le}=Object.prototype,{getPrototypeOf:Ae}=Object,{iterator:Fe,toStringTag:De}=Symbol,ze=(Me=Object.create(null),e=>{const t=Le.call(e);return Me[t]||(Me[t]=t.slice(8,-1).toLowerCase())});var Me;const Ue=e=>(e=e.toLowerCase(),t=>ze(t)===e),Ie=e=>t=>typeof t===e,{isArray:Be}=Array,qe=Ie("undefined");function Ve(e){return null!==e&&!qe(e)&&null!==e.constructor&&!qe(e.constructor)&&We(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const He=Ue("ArrayBuffer");const Qe=Ie("string"),We=Ie("function"),$e=Ie("number"),Ke=e=>null!==e&&"object"===typeof e,Je=e=>{if("object"!==ze(e))return!1;const t=Ae(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(De in e)&&!(Fe in e)},Ge=Ue("Date"),Ye=Ue("File"),Xe=Ue("Blob"),Ze=Ue("FileList"),et=Ue("URLSearchParams"),[tt,nt,st,rt]=["ReadableStream","Request","Response","Headers"].map(Ue);function at(e,t){let n,s,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Be(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Ve(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let l;for(n=0;n<a;n++)l=s[n],t.call(null,e[l],l,e)}}function lt(e,t){if(Ve(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s,r=n.length;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const it="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ot=e=>!qe(e)&&e!==it;const ct=(dt="undefined"!==typeof Uint8Array&&Ae(Uint8Array),e=>dt&&e instanceof dt);var dt;const ut=Ue("HTMLFormElement"),mt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ht=Ue("RegExp"),ft=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};at(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(s[r]=a||n)}),Object.defineProperties(e,s)};const pt=Ue("AsyncFunction"),xt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),s=[],it.addEventListener("message",e=>{let{source:t,data:r}=e;t===it&&r===n&&s.length&&s.shift()()},!1),e=>{s.push(e),it.postMessage(n,"*")}):e=>setTimeout(e);var n,s})("function"===typeof setImmediate,We(it.postMessage)),gt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(it):"undefined"!==typeof process&&process.nextTick||xt,yt={isArray:Be,isArrayBuffer:He,isBuffer:Ve,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||We(e.append)&&("formdata"===(t=ze(e))||"object"===t&&We(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&He(e.buffer),t},isString:Qe,isNumber:$e,isBoolean:e=>!0===e||!1===e,isObject:Ke,isPlainObject:Je,isEmptyObject:e=>{if(!Ke(e)||Ve(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(ha){return!1}},isReadableStream:tt,isRequest:nt,isResponse:st,isHeaders:rt,isUndefined:qe,isDate:Ge,isFile:Ye,isBlob:Xe,isRegExp:ht,isFunction:We,isStream:e=>Ke(e)&&We(e.pipe),isURLSearchParams:et,isTypedArray:ct,isFileList:Ze,forEach:at,merge:function e(){const{caseless:t}=ot(this)&&this||{},n={},s=(s,r)=>{const a=t&&lt(n,r)||r;Je(n[a])&&Je(s)?n[a]=e(n[a],s):Je(s)?n[a]=e({},s):Be(s)?n[a]=s.slice():n[a]=s};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&at(arguments[r],s);return n},extend:function(e,t,n){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return at(t,(t,s)=>{n&&We(t)?e[s]=Re(t,n):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let r,a,l;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)l=r[a],s&&!s(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&Ae(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ze,kindOfTest:Ue,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(Be(e))return e;let t=e.length;if(!$e(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Fe]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:ut,hasOwnProperty:mt,hasOwnProp:mt,reduceDescriptors:ft,freezeMethods:e=>{ft(e,(t,n)=>{if(We(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];We(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach(e=>{n[e]=!0})};return Be(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lt,global:it,isContextDefined:ot,isSpecCompliantForm:function(e){return!!(e&&We(e.append)&&"FormData"===e[De]&&e[Fe])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(Ke(e)){if(t.indexOf(e)>=0)return;if(Ve(e))return e;if(!("toJSON"in e)){t[s]=e;const r=Be(e)?[]:{};return at(e,(e,t)=>{const a=n(e,s+1);!qe(a)&&(r[t]=a)}),t[s]=void 0,r}}return e};return n(e,0)},isAsyncFn:pt,isThenable:e=>e&&(Ke(e)||We(e))&&We(e.then)&&We(e.catch),setImmediate:xt,asap:gt,isIterable:e=>null!=e&&We(e[Fe])};function bt(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}yt.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.status}}});const vt=bt.prototype,jt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jt[e]={value:e}}),Object.defineProperties(bt,jt),Object.defineProperty(vt,"isAxiosError",{value:!0}),bt.from=(e,t,n,s,r,a)=>{const l=Object.create(vt);return yt.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),bt.call(l,e.message,t,n,s,r),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const Nt=bt;function wt(e){return yt.isPlainObject(e)||yt.isArray(e)}function St(e){return yt.endsWith(e,"[]")?e.slice(0,-2):e}function kt(e,t,n){return e?e.concat(t).map(function(e,t){return e=St(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const _t=yt.toFlatObject(yt,{},null,function(e){return/^is[A-Z]/.test(e)});const Ct=function(e,t,n){if(!yt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=yt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!yt.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&yt.isSpecCompliantForm(t);if(!yt.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(yt.isDate(e))return e.toISOString();if(yt.isBoolean(e))return e.toString();if(!i&&yt.isBlob(e))throw new Nt("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(e)||yt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let i=e;if(e&&!r&&"object"===typeof e)if(yt.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(yt.isArray(e)&&function(e){return yt.isArray(e)&&!e.some(wt)}(e)||(yt.isFileList(e)||yt.endsWith(n,"[]"))&&(i=yt.toArray(e)))return n=St(n),i.forEach(function(e,s){!yt.isUndefined(e)&&null!==e&&t.append(!0===l?kt([n],s,a):null===l?n:n+"[]",o(e))}),!1;return!!wt(e)||(t.append(kt(r,n,a),o(e)),!1)}const d=[],u=Object.assign(_t,{defaultVisitor:c,convertValue:o,isVisitable:wt});if(!yt.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!yt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+s.join("."));d.push(n),yt.forEach(n,function(n,a){!0===(!(yt.isUndefined(n)||null===n)&&r.call(t,n,yt.isString(a)?a.trim():a,s,u))&&e(n,s?s.concat(a):[a])}),d.pop()}}(e),t};function Et(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Pt(e,t){this._pairs=[],e&&Ct(e,this,t)}const Ot=Pt.prototype;Ot.append=function(e,t){this._pairs.push([e,t])},Ot.toString=function(e){const t=e?function(t){return e.call(this,t,Et)}:Et;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Tt=Pt;function Rt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Lt(e,t,n){if(!t)return e;const s=n&&n.encode||Rt;yt.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):yt.isURLSearchParams(t)?t.toString():new Tt(t,n).toString(s),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const At=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Ft={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function zt(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=Dt(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dt(t)?t:t+""}function Mt(e,t,n){return(t=zt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach(function(t){Mt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Tt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qt="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Ht=qt&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Qt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Wt=qt&&window.location.href||"http://localhost",$t=It(It({},e),Bt);const Kt=function(e){function t(e,n,s,r){let a=e[r++];if("__proto__"===a)return!0;const l=Number.isFinite(+a),i=r>=e.length;if(a=!a&&yt.isArray(s)?s.length:a,i)return yt.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l;s[a]&&yt.isObject(s[a])||(s[a]=[]);return t(e,n,s[a],r)&&yt.isArray(s[a])&&(s[a]=function(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}(s[a])),!l}if(yt.isFormData(e)&&yt.isFunction(e.entries)){const n={};return yt.forEachEntry(e,(e,s)=>{t(function(e){return yt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,n,0)}),n}return null};const Jt={transitional:Ft,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=yt.isObject(e);r&&yt.isHTMLForm(e)&&(e=new FormData(e));if(yt.isFormData(e))return s?JSON.stringify(Kt(e)):e;if(yt.isArrayBuffer(e)||yt.isBuffer(e)||yt.isStream(e)||yt.isFile(e)||yt.isBlob(e)||yt.isReadableStream(e))return e;if(yt.isArrayBufferView(e))return e.buffer;if(yt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ct(e,new $t.classes.URLSearchParams,It({visitor:function(e,t,n,s){return $t.isNode&&yt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=yt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ct(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,n){if(yt.isString(e))try{return(t||JSON.parse)(e),yt.trim(e)}catch(ha){if("SyntaxError"!==ha.name)throw ha}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Jt.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(yt.isResponse(e)||yt.isReadableStream(e))return e;if(e&&yt.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(ha){if(n){if("SyntaxError"===ha.name)throw Nt.from(ha,Nt.ERR_BAD_RESPONSE,this,null,this.response);throw ha}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],e=>{Jt.headers[e]={}});const Gt=Jt,Yt=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xt=Symbol("internals");function Zt(e){return e&&String(e).trim().toLowerCase()}function en(e){return!1===e||null==e?e:yt.isArray(e)?e.map(en):String(e)}function tn(e,t,n,s,r){return yt.isFunction(s)?s.call(this,t,n):(r&&(t=n),yt.isString(t)?yt.isString(s)?-1!==t.indexOf(s):yt.isRegExp(s)?s.test(t):void 0:void 0)}class nn{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(e,t,n){const r=Zt(t);if(!r)throw new Error("header name must be a non-empty string");const a=yt.findKey(s,r);(!a||void 0===s[a]||!0===n||void 0===n&&!1!==s[a])&&(s[a||t]=en(e))}const a=(e,t)=>yt.forEach(e,(e,n)=>r(e,n,t));if(yt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(yt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,s,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!n||t[n]&&Yt[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t})(e),t);else if(yt.isObject(e)&&yt.isIterable(e)){let n,s,r={};for(const t of e){if(!yt.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[s=t[0]]=(n=r[s])?yt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Zt(e)){const n=yt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(yt.isFunction(t))return t.call(this,e,n);if(yt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e)){const n=yt.findKey(this,e);return!(!n||void 0===this[n]||t&&!tn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function r(e){if(e=Zt(e)){const r=yt.findKey(n,e);!r||t&&!tn(0,n[r],r,t)||(delete n[r],s=!0)}}return yt.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];e&&!tn(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return yt.forEach(this,(s,r)=>{const a=yt.findKey(n,r);if(a)return t[a]=en(s),void delete t[r];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();l!==r&&delete t[r],t[l]=en(s),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yt.forEach(this,(n,s)=>{null!=n&&!1!==n&&(t[s]=e&&yt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Xt]=this[Xt]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=Zt(e);t[s]||(!function(e,t){const n=yt.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(e,n,r){return this[s].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[s]=!0)}return yt.isArray(e)?e.forEach(s):s(e),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yt.reduceDescriptors(nn.prototype,(e,t)=>{let{value:n}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[s]=e}}}),yt.freezeMethods(nn);const sn=nn;function rn(e,t){const n=this||Gt,s=t||n,r=sn.from(s.headers);let a=s.data;return yt.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function an(e){return!(!e||!e.__CANCEL__)}function ln(e,t,n){Nt.call(this,null==e?"canceled":e,Nt.ERR_CANCELED,t,n),this.name="CanceledError"}yt.inherits(ln,Nt,{__CANCEL__:!0});const on=ln;function cn(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const dn=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r,a=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=s[l];r||(r=o),n[a]=i,s[a]=o;let d=l,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const un=function(e,t){let n,s,r=0,a=1e3/t;const l=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,n=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=a?l(o,e):(n=o,s||(s=setTimeout(()=>{s=null,l(n)},a-t)))},()=>n&&l(n)]},mn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const r=dn(50,250);return un(n=>{const a=n.loaded,l=n.lengthComputable?n.total:void 0,i=a-s,o=r(i);s=a;e({loaded:a,total:l,progress:l?a/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&a<=l?(l-a)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},hn=(e,t)=>{const n=null!=e;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},fn=e=>function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return yt.asap(()=>e(...n))},pn=$t.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$t.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,xn=$t.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const l=[e+"="+encodeURIComponent(t)];yt.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),yt.isString(s)&&l.push("path="+s),yt.isString(r)&&l.push("domain="+r),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function gn(e,t,n){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yn=e=>e instanceof sn?It({},e):e;function bn(e,t){t=t||{};const n={};function s(e,t,n,s){return yt.isPlainObject(e)&&yt.isPlainObject(t)?yt.merge.call({caseless:s},e,t):yt.isPlainObject(t)?yt.merge({},t):yt.isArray(t)?t.slice():t}function r(e,t,n,r){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:s(void 0,e,0,r):s(e,t,0,r)}function a(e,t){if(!yt.isUndefined(t))return s(void 0,t)}function l(e,t){return yt.isUndefined(t)?yt.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(n,r,a){return a in t?s(n,r):a in e?s(void 0,n):void 0}const o={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>r(yn(e),yn(t),0,!0)};return yt.forEach(Object.keys(It(It({},e),t)),function(s){const a=o[s]||r,l=a(e[s],t[s],s);yt.isUndefined(l)&&a!==i||(n[s]=l)}),n}const vn=e=>{const t=bn({},e);let n,{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=sn.from(i),t.url=Lt(gn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yt.isFormData(s))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if($t.hasStandardBrowserEnv&&(r&&yt.isFunction(r)&&(r=r(t)),r||!1!==r&&pn(t.url))){const e=a&&l&&xn.read(l);e&&i.set(a,e)}return t},jn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const s=vn(e);let r=s.data;const a=sn.from(s.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=s;function f(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function x(){if(!p)return;const s=sn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());cn(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:s,config:e,request:p}),p=null}p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(n(new Nt("Request aborted",Nt.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new Nt("Network Error",Nt.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const r=s.transitional||Ft;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new Nt(t,r.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,e,p)),p=null},void 0===r&&a.setContentType(null),"setRequestHeader"in p&&yt.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),yt.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),u&&"json"!==u&&(p.responseType=s.responseType),h&&([o,d]=mn(h,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=mn(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(l=t=>{p&&(n(!t||t.type?new on(null,e,p):t),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);g&&-1===$t.protocols.indexOf(g)?n(new Nt("Unsupported protocol "+g+":",Nt.ERR_BAD_REQUEST,e)):p.send(r||null)})},Nn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,s=new AbortController;const r=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Nt?t:new on(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new Nt("timeout ".concat(t," of ms exceeded"),Nt.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:i}=s;return i.unsubscribe=()=>yt.asap(l),i}};function wn(e,t){this.v=e,this.k=t}function Sn(e){return function(){return new kn(e.apply(this,arguments))}}function kn(e){var t,n;function s(t,n){try{var a=e[t](n),l=a.value,i=l instanceof wn;Promise.resolve(i?l.v:l).then(function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return s(o,n);n=e[o](n).value}r(a.done?"return":"normal",n)},function(e){s("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?s(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(a,l){var i={key:e,arg:r,resolve:a,reject:l,next:null};n?n=n.next=i:(t=n=i,s(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function _n(e){return new wn(e,0)}function Cn(e){var t={},n=!1;function s(t,s){return n=!0,s=new Promise(function(n){n(e[t](s))}),{done:!1,value:new wn(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):s("return",e)}),t}function En(e){var t,n,s,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,s=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(s&&null!=(t=e[s]))return new Pn(t.call(e));n="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function Pn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Pn=function(e){this.s=e,this.n=e.next},Pn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Pn(e)}kn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},kn.prototype.next=function(e){return this._invoke("next",e)},kn.prototype.throw=function(e){return this._invoke("throw",e)},kn.prototype.return=function(e){return this._invoke("return",e)};const On=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let s,r=0;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Tn=function(){var e=Sn(function*(e,t){var n,s=!1,r=!1;try{for(var a,l=En(Rn(e));s=!(a=yield _n(l.next())).done;s=!1){const e=a.value;yield*Cn(En(On(e,t)))}}catch(i){r=!0,n=i}finally{try{s&&null!=l.return&&(yield _n(l.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Rn=function(){var e=Sn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cn(En(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield _n(t.read());if(e)break;yield n}}finally{yield _n(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Ln=(e,t,n,s)=>{const r=Tn(e,t);let a,l=0,i=e=>{a||(a=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await r.next();if(t)return i(),void e.close();let a=s.byteLength;if(n){let e=l+=a;n(e)}e.enqueue(new Uint8Array(s))}catch(t){throw i(t),t}},cancel:e=>(i(e),r.return())},{highWaterMark:2})},An="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Fn=An&&"function"===typeof ReadableStream,Dn=An&&("function"===typeof TextEncoder?(zn=new TextEncoder,e=>zn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var zn;const Mn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return!!e(...n)}catch(ha){return!1}},Un=Fn&&Mn(()=>{let e=!1;const t=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),In=Fn&&Mn(()=>yt.isReadableStream(new Response("").body)),Bn={stream:In&&(e=>e.body)};var qn;An&&(qn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bn[e]&&(Bn[e]=yt.isFunction(qn[e])?t=>t[e]():(t,n)=>{throw new Nt("Response type '".concat(e,"' is not supported"),Nt.ERR_NOT_SUPPORT,n)})}));const Vn=async(e,t)=>{const n=yt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(yt.isBlob(e))return e.size;if(yt.isSpecCompliantForm(e)){const t=new Request($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return yt.isArrayBufferView(e)||yt.isArrayBuffer(e)?e.byteLength:(yt.isURLSearchParams(e)&&(e+=""),yt.isString(e)?(await Dn(e)).byteLength:void 0)})(t):n},Hn=An&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:a,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=vn(e);c=c?(c+"").toLowerCase():"text";let h,f=Nn([r,a&&a.toAbortSignal()],l);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(o&&Un&&"get"!==n&&"head"!==n&&0!==(x=await Vn(d,s))){let e,n=new Request(t,{method:"POST",body:s,duplex:"half"});if(yt.isFormData(s)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=hn(x,mn(fn(o)));s=Ln(n.body,65536,e,t)}}yt.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;h=new Request(t,It(It({},m),{},{signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:r?u:void 0}));let a=await fetch(h,m);const l=In&&("stream"===c||"response"===c);if(In&&(i||l&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=yt.toFiniteNumber(a.headers.get("content-length")),[n,s]=i&&hn(t,mn(fn(i),!0))||[];a=new Response(Ln(a.body,65536,n,()=>{s&&s(),p&&p()}),e)}c=c||"text";let g=await Bn[yt.findKey(Bn,c)||"text"](a,e);return!l&&p&&p(),await new Promise((t,n)=>{cn(t,n,{data:g,headers:sn.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})})}catch(g){if(p&&p(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,e,h),{cause:g.cause||g});throw Nt.from(g,g&&g.code,e,h)}}),Qn={http:null,xhr:jn,fetch:Hn};yt.forEach(Qn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ha){}Object.defineProperty(e,"adapterName",{value:t})}});const Wn=e=>"- ".concat(e),$n=e=>yt.isFunction(e)||null===e||!1===e,Kn=e=>{e=yt.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let a=0;a<t;a++){let t;if(n=e[a],s=n,!$n(n)&&(s=Qn[(t=String(n)).toLowerCase()],void 0===s))throw new Nt("Unknown adapter '".concat(t,"'"));if(s)break;r[t||"#"+a]=s}if(!s){const e=Object.entries(r).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Wn).join("\n"):" "+Wn(e[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return s};function Jn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function Gn(e){Jn(e),e.headers=sn.from(e.headers),e.data=rn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Kn(e.adapter||Gt.adapter)(e).then(function(t){return Jn(e),t.data=rn.call(e,e.transformResponse,t),t.headers=sn.from(t.headers),t},function(t){return an(t)||(Jn(e),t&&t.response&&(t.response.data=rn.call(e,e.transformResponse,t.response),t.response.headers=sn.from(t.response.headers))),Promise.reject(t)})}const Yn="1.11.0",Xn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Zn={};Xn.transitional=function(e,t,n){function s(e,t){return"[Axios v"+Yn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new Nt(s(r," has been removed"+(t?" in "+t:"")),Nt.ERR_DEPRECATED);return t&&!Zn[r]&&(Zn[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},Xn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const es={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],l=t[a];if(l){const t=e[a],n=void 0===t||l(t,a,e);if(!0!==n)throw new Nt("option "+a+" must be "+n,Nt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Nt("Unknown option "+a,Nt.ERR_BAD_OPTION)}},validators:Xn},ts=es.validators;class ns{constructor(e){this.defaults=e||{},this.interceptors={request:new At,response:new At}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ha){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=bn(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;void 0!==n&&es.assertOptions(n,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),null!=s&&(yt.isFunction(s)?t.paramsSerializer={serialize:s}:es.assertOptions(s,{encode:ts.function,serialize:ts.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),es.assertOptions(t,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&yt.merge(r.common,r[t.method]);r&&yt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=sn.concat(a,r);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Gn.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Gn.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Lt(gn((e=bn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(e){ns.prototype[e]=function(t,n){return this.request(bn(n||{},{method:e,url:t,data:(n||{}).data}))}}),yt.forEach(["post","put","patch"],function(e){function t(t){return function(n,s,r){return this.request(bn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}ns.prototype[e]=t(),ns.prototype[e+"Form"]=t(!0)});const ss=ns;class rs{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{n.subscribe(e),t=e}).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e(function(e,s,r){n.reason||(n.reason=new on(e,s,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new rs(function(t){e=t}),cancel:e}}}const as=rs;const ls={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ls).forEach(e=>{let[t,n]=e;ls[n]=t});const is=ls;const os=function e(t){const n=new ss(t),s=Re(ss.prototype.request,n);return yt.extend(s,ss.prototype,n,{allOwnKeys:!0}),yt.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(bn(t,n))},s}(Gt);os.Axios=ss,os.CanceledError=on,os.CancelToken=as,os.isCancel=an,os.VERSION=Yn,os.toFormData=Ct,os.AxiosError=Nt,os.Cancel=os.CanceledError,os.all=function(e){return Promise.all(e)},os.spread=function(e){return function(t){return e.apply(null,t)}},os.isAxiosError=function(e){return yt.isObject(e)&&!0===e.isAxiosError},os.mergeConfig=bn,os.AxiosHeaders=sn,os.formToJSON=e=>Kt(yt.isHTMLForm(e)?new FormData(e):e),os.getAdapter=Kn,os.HttpStatusCode=is,os.default=os;const cs=os,ds={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000/api/v1",us=cs.create({baseURL:ds,headers:{"Content-Type":"application/json"}});us.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),us.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const ms={async login(e,t){const n=new FormData;n.append("username",e),n.append("password",t);return(await us.post("/auth/login",n,{headers:{"Content-Type":"multipart/form-data"}})).data},getCurrentUser:async()=>(await us.get("/auth/me")).data,logout:async()=>(await us.post("/auth/logout")).data},hs=us;var fs=n(579);const ps=(0,s.createContext)(void 0),xs=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),u=async()=>{console.log("\ud83d\udd0d AuthContext: Starting checkAuth...");try{const e=localStorage.getItem("token");if(console.log("\ud83d\udd0d AuthContext: Stored token:",e?"exists":"none"),!e)return console.log("\ud83d\udd0d AuthContext: No token, setting unauthenticated"),r(!1),l(null),o(null),void d(!1);console.log("\ud83d\udd0d AuthContext: Validating token...");const t=(await ms.getCurrentUser()).data;console.log("\ud83d\udd0d AuthContext: Token valid, user data:",t),r(!0),l(t),o(e)}catch(e){console.error("\ud83d\udd0d AuthContext: Token validation failed:",e),localStorage.removeItem("token"),r(!1),l(null),o(null)}finally{console.log("\ud83d\udd0d AuthContext: Setting isLoading to false"),d(!1)}};(0,s.useEffect)(()=>{console.log("\ud83d\udd0d AuthContext: useEffect triggered, calling checkAuth"),u().catch(e=>{console.error("\ud83d\udd0d AuthContext: checkAuth failed in useEffect:",e),d(!1)})},[]);const m={isAuthenticated:n,user:a,token:i,isLoading:c,login:async(e,t)=>{console.log("\ud83d\udd0d AuthContext: Login attempt for user:",e);try{d(!0);const n=await ms.login(e,t),{access_token:s}=n.data;console.log("\ud83d\udd0d AuthContext: Login successful, token received"),localStorage.setItem("token",s),o(s);const a=(await ms.getCurrentUser()).data;return console.log("\ud83d\udd0d AuthContext: User info retrieved:",a),r(!0),l(a),{success:!0}}catch(n){return console.error("\ud83d\udd0d AuthContext: Login failed:",n),{success:!1,error:n instanceof Error?n.message:"Login failed"}}finally{d(!1)}},logout:async()=>{console.log("\ud83d\udd0d AuthContext: Logout initiated");try{await ms.logout()}catch(e){console.warn("Logout API call failed:",e)}finally{localStorage.removeItem("token"),r(!1),l(null),o(null),console.log("\ud83d\udd0d AuthContext: Logout completed, state cleared")}},checkAuth:u};return console.log("\ud83d\udd0d AuthContext: Rendering with state:",{isAuthenticated:n,isLoading:c,user:null===a||void 0===a?void 0:a.username}),(0,fs.jsx)(ps.Provider,{value:m,children:t})},gs=()=>{const e=(0,s.useContext)(ps);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e};var ys={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bs=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],vs=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:a="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d}=n,u=function(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(n,bs);return(0,s.createElement)("svg",It(It({ref:r},ys),{},{width:l,height:l,stroke:a,strokeWidth:o?24*Number(i)/Number(l):i,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(d)?d:[d]]);var m});return n.displayName="".concat(e),n},js=vs("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ns=vs("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ws=vs("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Ss=vs("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ks=vs("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),_s=vs("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Cs=vs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Es=vs("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ps=vs("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Os=vs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ts=e=>{var t;let{children:n}=e;const[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),{user:m,logout:h}=gs(),f=Z(),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const x=[{name:"Dashboard",href:"/dashboard",icon:js,description:"Overview and status"},{name:"Phase 1",href:"/phase1",icon:Ns,description:"Data ingestion and analysis"},{name:"Phase 2",href:"/phase2",icon:Ns,description:"Database normalization"},{name:"Phase 3",href:"/phase3",icon:ws,description:"Field cleaning and splitting"},{name:"Phase 4",href:"/phase4",icon:Ss,description:"Date processing and exports"},{name:"Phase 5",href:"/phase5",icon:ks,description:"Statute grouping and versioning"}];return(0,fs.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r&&(0,fs.jsx)("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>a(!1)}),(0,fs.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 z-40 sticky top-0",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)("button",{onClick:()=>a(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 mr-2",children:(0,fs.jsx)(_s,{className:"h-5 w-5"})}),(0,fs.jsx)("button",{onClick:()=>i(!l),className:"hidden lg:block p-2 rounded-md text-gray-400 hover:text-gray-600 mr-3 transition-colors hover:bg-gray-100 rounded-lg",children:(0,fs.jsx)(_s,{className:"h-5 w-5"})}),(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:(null===(t=x.find(e=>e.href===f.pathname))||void 0===t?void 0:t.name)||"Dashboard"})]}),(0,fs.jsxs)("div",{className:"relative",ref:p,children:[(0,fs.jsxs)("button",{onClick:()=>c(!o),className:"flex items-center space-x-3 p-2 rounded-md text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:[(0,fs.jsx)("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,fs.jsx)(Cs,{className:"h-4 w-4 text-primary-600"})}),(0,fs.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===m||void 0===m?void 0:m.username)||"Admin"}),(0,fs.jsx)("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),(0,fs.jsx)(Es,{className:"h-4 w-4 text-gray-400"})]}),o&&(0,fs.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:(0,fs.jsxs)("div",{className:"py-1",children:[(0,fs.jsxs)("div",{className:"px-4 py-2 border-b border-gray-100",children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===m||void 0===m?void 0:m.username)||"Admin"}),(0,fs.jsx)("p",{className:"text-xs text-gray-500",children:"Administrator"})]}),(0,fs.jsxs)("button",{onClick:async()=>{c(!1),await(async()=>{if(!d){u(!0);try{await h()}catch(e){console.error("Logout error:",e)}finally{u(!1)}}})()},disabled:d,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,fs.jsx)(Ps,{className:"h-4 w-4 mr-2"}),d?"Signing out...":"Sign out"]})]})})]})]})}),(0,fs.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,fs.jsxs)("div",{className:"fixed left-0 z-30 bg-white shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 ".concat(r?"translate-x-0":"-translate-x-full"," ").concat(l?"lg:w-16":"lg:w-64"," w-64"),style:{top:"64px",height:"calc(100vh - 64px)"},children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 bg-gradient-to-r from-primary-600 to-primary-700",children:[(0,fs.jsxs)("div",{className:"flex items-center ".concat(l?"justify-center":"justify-start"),children:[(0,fs.jsx)("div",{className:"h-8 w-8 bg-white rounded-lg flex items-center justify-center shadow-sm",children:(0,fs.jsx)(js,{className:"h-5 w-5 text-primary-600"})}),!l&&(0,fs.jsx)("h1",{className:"ml-3 text-xl font-bold text-white",children:"LawChronicle"})]}),(0,fs.jsx)("button",{onClick:()=>a(!1),className:"lg:hidden p-2 rounded-md text-white hover:bg-white/20 transition-colors",children:(0,fs.jsx)(Os,{className:"h-5 w-5"})})]}),(0,fs.jsx)("div",{className:"flex-1",children:(0,fs.jsx)("nav",{className:"mt-6 px-3 pb-6",children:(0,fs.jsx)("div",{className:"space-y-2",children:x.map(e=>{const t=f.pathname===e.href;return(0,fs.jsxs)(Ee,{to:e.href,className:"group relative flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ".concat(t?"bg-primary-50 text-primary-700 shadow-sm border-l-4 border-primary-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"," ").concat(l?"justify-center":"justify-start"),onClick:()=>a(!1),title:l?e.name:"",children:[(0,fs.jsx)(e.icon,{className:"h-5 w-5 ".concat(t?"text-primary-600":"text-gray-400 group-hover:text-gray-500"," ").concat(l?"":"mr-3")}),!l&&(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("div",{className:"font-medium",children:e.name}),(0,fs.jsx)("div",{className:"text-xs text-gray-500 mt-0.5",children:e.description})]}),l&&(0,fs.jsxs)("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 whitespace-nowrap pointer-events-none",children:[(0,fs.jsx)("div",{className:"font-medium",children:e.name}),(0,fs.jsx)("div",{className:"text-xs text-gray-300",children:e.description}),(0,fs.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45"})]})]},e.name)})})})})]}),(0,fs.jsx)("div",{className:"flex-1 flex flex-col ".concat(l?"lg:ml-16":"lg:ml-64"),children:(0,fs.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,fs.jsx)("main",{className:"p-4 sm:p-6 lg:p-8 min-h-full",children:n})})})]})]})},Rs=vs("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ls=vs("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),As=()=>{const[e,t]=(0,s.useState)("admin"),[n,r]=(0,s.useState)("admin123"),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),{login:u}=gs();return(0,fs.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,fs.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:(0,fs.jsx)(js,{className:"h-8 w-8 text-primary-600"})}),(0,fs.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"LawChronicle"}),(0,fs.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the legal document processing pipeline"})]}),(0,fs.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),o(!0),d("");try{const t=await u(e,n);t.success||d(t.error||"Login failed")}catch(s){d("An unexpected error occurred")}finally{o(!1)}},children:[(0,fs.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Username"}),(0,fs.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:e=>t(e.target.value)})]}),(0,fs.jsxs)("div",{className:"relative",children:[(0,fs.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,fs.jsx)("input",{id:"password",name:"password",type:a?"text":"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:e=>r(e.target.value)}),(0,fs.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?(0,fs.jsx)(Rs,{className:"h-4 w-4 text-gray-400"}):(0,fs.jsx)(Ls,{className:"h-4 w-4 text-gray-400"})})]})]}),c&&(0,fs.jsx)("div",{className:"rounded-md bg-error-50 p-4",children:(0,fs.jsx)("div",{className:"flex",children:(0,fs.jsx)("div",{className:"ml-3",children:(0,fs.jsx)("h3",{className:"text-sm font-medium text-error-800",children:c})})})}),(0,fs.jsx)("div",{children:(0,fs.jsx)("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?(0,fs.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Sign in"})}),(0,fs.jsx)("div",{className:"text-center",children:(0,fs.jsxs)("p",{className:"text-xs text-gray-500",children:["Demo credentials: ",(0,fs.jsx)("strong",{children:"admin"})," / ",(0,fs.jsx)("strong",{children:"admin123"})]})})]})]})})},Fs=vs("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Ds=vs("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),zs=vs("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ms=vs("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Us=vs("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Is=vs("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Bs=vs("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),qs="locked",Vs="ready",Hs="in-progress",Qs="completed",Ws=(e,t,n)=>{try{const s=localStorage.getItem("phase_progress"),r=s?JSON.parse(s):{};r[e]={status:t,progress:n},localStorage.setItem("phase_progress",JSON.stringify(r))}catch(s){console.error("Error updating phase progress:",s)}},$s=()=>{try{const e=localStorage.getItem("phase_progress");return e?JSON.parse(e):{}}catch(e){return console.error("Error getting all phase progress:",e),{}}},Ks=()=>{const e=te(),[t,n]=(0,s.useState)([{id:1,name:"Data Ingestion & Analysis",description:"Connect to existing MongoDB, analyze raw data structure, show field statistics",icon:js,status:Vs,progress:0,color:"blue",dependencies:[],route:"/phase1"},{id:2,name:"Database Normalization",description:"Create clean database structure, normalize statute names, sort alphabetically",icon:Ns,status:Vs,progress:0,color:"green",dependencies:[],route:"/phase2"},{id:3,name:"Field Cleaning & Splitting",description:"Clean fields, remove duplicates, organize sections, bring common fields up",icon:ws,status:Vs,progress:0,color:"purple",dependencies:[],route:"/phase3"},{id:4,name:"Date Processing",description:"Extract, parse, and standardize dates using AI and regex",icon:Ss,status:Vs,progress:0,color:"orange",dependencies:[],route:"/phase4"},{id:5,name:"Statute Versioning",description:"Group statutes by base names, assign versions, remove duplicates",icon:Fs,status:Vs,progress:0,color:"indigo",dependencies:[],route:"/phase5"},{id:6,name:"Section Versioning",description:"Split sections, assign versions, create final schema",icon:Ds,status:qs,progress:0,color:"pink",dependencies:[5],route:"/phase6"}]),[r,a]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=$s();Object.keys(e).length>0&&n(t=>t.map(t=>It(It({},t),e[t.id])))},[]),(0,s.useEffect)(()=>{const e=e=>{if("phase_progress"===e.key&&e.newValue)try{const t=JSON.parse(e.newValue);n(e=>e.map(e=>It(It({},e),t[e.id])))}catch(t){console.error("Error parsing storage change:",t)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,s.useEffect)(()=>{const e=t.reduce((e,t)=>(e[t.id]={status:t.status,progress:t.progress},e),{});localStorage.setItem("phase_progress",JSON.stringify(e))},[t]);const l=(e,t,s)=>{Ws(e,t,s),n(n=>n.map(n=>n.id===e?It(It({},n),{},{status:t,progress:s}):n))},i=async t=>{if(t.status===Vs){a(!0),l(t.id,Hs,0);try{e(t.route)}catch(n){console.error("Error starting Phase ".concat(t.id,":"),n),l(t.id,Vs,0)}finally{a(!1)}}},o=e=>{l(e,Qs,100)},c=e=>{switch(e){case Qs:return(0,fs.jsx)(zs,{className:"h-5 w-5 text-green-600"});case Hs:return(0,fs.jsx)(Ms,{className:"h-5 w-5 text-blue-600 animate-spin"});case Vs:return null;default:return(0,fs.jsx)(Us,{className:"h-5 w-5 text-gray-400"})}},d=t.some(e=>e.status===Vs),u=t.some(e=>e.status===Hs),m=t.slice(0,2).some(e=>e.status===Qs),h=t.slice(2).some(e=>e.status===Qs);return(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"LawChronicle Processing Hub"}),(0,fs.jsx)("p",{className:"text-gray-600 text-lg",children:"Your complete legal document transformation toolkit - Process and organize legal documents efficiently"})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsxs)("button",{onClick:()=>{const e=$s();n(t=>t.map(t=>It(It({},t),e[t.id])))},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",children:[(0,fs.jsx)(js,{className:"h-4 w-4 mr-2"}),"Refresh Status"]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,fs.jsx)("button",{onClick:()=>o(1),className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Complete P1"}),(0,fs.jsx)("button",{onClick:()=>o(2),className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200",children:"Complete P2"}),(0,fs.jsx)("button",{onClick:()=>o(3),className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200",children:"Complete P3"}),(0,fs.jsx)("button",{onClick:()=>o(4),className:"px-2 py-1 text-xs bg-orange-100 text-orange-700 rounded hover:bg-orange-200",children:"Complete P4"})]})]})]})}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pipeline Summary"}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(e=>e.status===Vs).length}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Ready to Start"})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(e=>e.status===Hs).length}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.filter(e=>e.status===Qs).length}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Completed"})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:t.filter(e=>e.status===qs).length}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Locked"})]})]}),(0,fs.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,fs.jsx)("span",{className:"text-gray-600",children:"Overall Progress:"}),(0,fs.jsxs)("span",{className:"font-medium",children:[Math.round(t.filter(e=>e.status===Qs).length/t.length*100),"%"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,fs.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(t.filter(e=>e.status===Qs).length/t.length*100,"%")}})})]})]}),(0,fs.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(n=>{const s=(e=>{switch(e){case Qs:return{color:"bg-green-100 text-green-800",text:"Completed"};case Hs:return{color:"bg-blue-100 text-blue-800",text:"In Progress"};case Vs:return{color:"bg-gray-100 text-gray-800",text:"Ready"};case qs:return{color:"bg-gray-100 text-gray-600",text:"Locked"};default:return{color:"bg-gray-100 text-gray-800",text:"Unknown"}}})(n.status),a=(o=n.status,n.progress,o===Qs?"bg-green-600":o===Hs?"bg-blue-600":o===Vs?"bg-gray-400":"bg-gray-300");var o;return(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow-sm border transition-all duration-200 ".concat(n.status===Hs?"border-blue-300 shadow-md":n.status===Qs?"border-green-300 shadow-md":"border-gray-200 hover:shadow-md"),children:(0,fs.jsxs)("div",{className:"p-4",children:[(0,fs.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,fs.jsx)("div",{className:"p-2 rounded-lg bg-".concat(n.color,"-100"),children:(0,fs.jsx)(n.icon,{className:"h-6 w-6 text-".concat(n.color,"-600")})}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[c(n.status),(0,fs.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.color),children:s.text})]})]}),(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Phase ",n.id,": ",n.name]}),(0,fs.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),n.dependencies.length>0&&(0,fs.jsxs)("div",{className:"mb-3",children:[(0,fs.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Requires: ",n.dependencies.map(e=>"Phase ".concat(e)).join(", ")]}),(0,fs.jsx)("div",{className:"flex space-x-1",children:n.dependencies.map(e=>{const n=t.find(t=>t.id===e),s=(null===n||void 0===n?void 0:n.status)===Qs;return(0,fs.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s?"bg-green-500":"bg-gray-300"),title:"Phase ".concat(e,": ").concat(s?"Completed":"Not Completed")},e)})})]}),(n.status===Hs||n.status===Qs)&&(0,fs.jsxs)("div",{className:"mb-3",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-1",children:[(0,fs.jsx)("span",{children:"Progress"}),(0,fs.jsxs)("span",{className:"font-medium",children:[n.progress,"%"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:(0,fs.jsx)("div",{className:"".concat(a," h-2 rounded-full transition-all duration-500 ease-out ").concat(n.status===Hs?"animate-pulse":""),style:{width:"".concat(n.progress,"%")},role:"progressbar","aria-valuenow":n.progress,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Phase ".concat(n.id," progress: ").concat(n.progress,"%")})})]}),n.status===Vs?(0,fs.jsxs)("button",{onClick:()=>i(n),disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Start Phase ".concat(n.id,": ").concat(n.name),"aria-label":"Start Phase ".concat(n.id,": ").concat(n.name),children:[r?(0,fs.jsx)(Ms,{className:"h-4 w-4 mr-2 animate-spin"}):(0,fs.jsx)(Is,{className:"h-4 w-4 mr-2"}),"Start Phase ",n.id]}):n.status===Hs?(0,fs.jsxs)("button",{onClick:()=>l(n.id,Vs,n.progress),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",title:"Pause Phase ".concat(n.id,": ").concat(n.name),"aria-label":"Pause Phase ".concat(n.id,": ").concat(n.name),children:[(0,fs.jsx)(Bs,{className:"h-4 w-4 mr-2"}),"Pause Phase ",n.id]}):n.status===Qs?(0,fs.jsxs)("button",{onClick:()=>e(n.route),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",title:"View Phase ".concat(n.id,": ").concat(n.name),"aria-label":"View Phase ".concat(n.id,": ").concat(n.name),children:[(0,fs.jsx)(Ls,{className:"h-4 w-4 mr-2"}),"View Phase ",n.id]}):(0,fs.jsx)("div",{className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-500 bg-gray-100 cursor-not-allowed",title:"Phase ".concat(n.id," is locked. Complete required dependencies first."),role:"status","aria-label":"Phase ".concat(n.id," is locked. Complete required dependencies first."),children:"Phase Not Available"})]})},n.id)})}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,fs.jsxs)("button",{onClick:async()=>{const e=t.filter(e=>e.status===Vs);if(0!==e.length){a(!0);try{const t=e[0];await i(t)}catch(n){console.error("Error starting all phases:",n)}finally{a(!1)}}},disabled:!d||r,className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?(0,fs.jsx)(Ms,{className:"h-4 w-4 mr-2 animate-spin"}):(0,fs.jsx)(Is,{className:"h-4 w-4 mr-2"}),"Start All Phases"]}),(0,fs.jsxs)("button",{onClick:async()=>{const e=t.filter(e=>e.status===Hs);if(0!==e.length){a(!0);try{e.forEach(e=>{l(e.id,Vs,e.progress)})}catch(n){console.error("Error pausing phases:",n)}finally{a(!1)}}},disabled:!u||r,className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,fs.jsx)(Bs,{className:"h-4 w-4 mr-2"}),"Pause All"]}),(0,fs.jsxs)("button",{onClick:()=>e("/phase1"),disabled:!m,className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,fs.jsx)(js,{className:"h-4 w-4 mr-2"}),"View Database"]}),(0,fs.jsxs)("button",{onClick:()=>e("/phase3"),disabled:!h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,fs.jsx)(ks,{className:"h-4 w-4 mr-2"}),"View Reports"]})]})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Online"}),(0,fs.jsx)("div",{className:"text-sm text-green-600",children:"Backend API"})]}),(0,fs.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Connected"}),(0,fs.jsx)("div",{className:"text-sm text-green-600",children:"MongoDB"})]}),(0,fs.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"Ready"}),(0,fs.jsx)("div",{className:"text-sm text-green-600",children:"AI Services"})]})]})]})]})},Js=vs("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Gs=vs("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ys=vs("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xs=vs("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Zs=vs("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),er=vs("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),tr=vs("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nr=vs("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),sr=e=>{var t;let{onConnectionUpdate:n}=e;const[r,a]=(0,s.useState)({host:"localhost",port:"27017",database:"Statutes",collection:"raw_statutes"}),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1),m=(e,t)=>{a(n=>It(It({},n),{},{[e]:t}))},h=()=>null!==o&&void 0!==o&&o.error?"text-red-600":"connected"===(null===o||void 0===o?void 0:o.status)?"text-green-600":"text-gray-600";return(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,fs.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(js,{className:"w-5 h-5 text-primary-600"}),(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Database Connection"})]}),(0,fs.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Connect to MongoDB database for data analysis"})]}),(0,fs.jsxs)("div",{className:"p-6",children:[(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{htmlFor:"host",className:"block text-sm font-medium text-gray-700 mb-1",children:"Host"}),(0,fs.jsx)("input",{type:"text",id:"host",value:r.host,onChange:e=>m("host",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"localhost"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{htmlFor:"port",className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),(0,fs.jsx)("input",{type:"text",id:"port",value:r.port,onChange:e=>m("port",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"27017"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{htmlFor:"database",className:"block text-sm font-medium text-gray-700 mb-1",children:"Database"}),(0,fs.jsx)("input",{type:"text",id:"database",value:r.database,onChange:e=>m("database",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Statutes"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{htmlFor:"collection",className:"block text-sm font-medium text-gray-700 mb-1",children:"Collection"}),(0,fs.jsx)("input",{type:"text",id:"collection",value:r.collection,onChange:e=>m("collection",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"raw_statutes"})]})]}),(0,fs.jsx)("div",{className:"mb-6",children:(0,fs.jsxs)("button",{type:"button",onClick:()=>u(!d),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,fs.jsx)(tr,{className:"w-4 h-4 mr-2"}),d?"Hide":"Show"," Advanced Options"]})}),d&&(0,fs.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-md",children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Connection Options"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Connection String"}),(0,fs.jsx)("input",{type:"text",value:"mongodb://".concat(r.host,":").concat(r.port,"/").concat(r.database),readOnly:!0,className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm text-gray-600"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Timeout (ms)"}),(0,fs.jsx)("input",{type:"number",defaultValue:"5000",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"5000"})]})]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,fs.jsx)("button",{onClick:async()=>{i(!0),c(null);try{const e=await cs.get("/api/v1/phase1/connect");c(e.data),n({status:"connected",database:e.data.database,collection:e.data.collection,document_count:e.data.document_count})}catch(s){var e,t;const r=(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||s.message||"Connection failed";c({error:r}),n({status:"error",error:r})}finally{i(!1)}},disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:l?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Connecting..."]}):(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(nr,{className:"w-4 h-4 mr-2"}),"Test Connection"]})}),(0,fs.jsx)("button",{onClick:()=>a({host:"localhost",port:"27017",database:"Statutes",collection:"raw_statutes"}),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:"Reset to Defaults"})]}),o&&(0,fs.jsx)("div",{className:"mt-6 p-4 rounded-md border ".concat(o.error?"bg-red-50 border-red-200":"bg-green-50 border-green-200"),children:(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)("div",{className:"flex-shrink-0 ".concat(h()),children:null!==o&&void 0!==o&&o.error?(0,fs.jsx)(Zs,{className:"w-5 h-5"}):"connected"===(null===o||void 0===o?void 0:o.status)?(0,fs.jsx)(er,{className:"w-5 h-5"}):(0,fs.jsx)(js,{className:"w-5 h-5"})}),(0,fs.jsxs)("div",{className:"ml-3",children:[(0,fs.jsx)("h3",{className:"text-sm font-medium ".concat(h()),children:o.error?"Connection Failed":"Connection Successful"}),o.error?(0,fs.jsx)("p",{className:"text-sm text-red-700 mt-1",children:o.error}):(0,fs.jsxs)("div",{className:"text-sm text-green-700 mt-1",children:[(0,fs.jsx)("p",{children:"Successfully connected to database"}),(0,fs.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,fs.jsxs)("li",{children:["\u2022 Database: ",o.database]}),(0,fs.jsxs)("li",{children:["\u2022 Collection: ",o.collection]}),(0,fs.jsxs)("li",{children:["\u2022 Documents: ",(null===(t=o.document_count)||void 0===t?void 0:t.toLocaleString())||"Unknown"]}),(0,fs.jsxs)("li",{children:["\u2022 Timestamp: ",new Date(o.timestamp).toLocaleString()]})]})]})]})]})})]})]})},rr=vs("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ar=vs("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),lr=vs("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ir=e=>{let{databaseInfo:t,isAnalyzing:n,onAnalysisStart:r,onAnalysisComplete:a}=e;const[l,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),f=(0,s.useCallback)(async()=>{if("connected"===t.status){c(!0),u(null),r();try{const e=await cs.get("/api/v1/phase1/field-stats");i(e.data)}catch(d){var e,n;u((null===(e=d.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||d.message||"Failed to fetch field statistics")}finally{c(!1),a()}}},[t.status,r,a]);(0,s.useEffect)(()=>{"connected"!==t.status||l||f()},[t.status,l,f]);const p=e=>e>=80?"text-green-700":e>=60?"text-yellow-700":e>=40?"text-orange-700":"text-red-700";if("connected"!==t.status)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(js,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Database Not Connected"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Please connect to a database to view field statistics"})]});if(o||n)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analyzing Database"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Please wait while we analyze the field structure..."})]});if(d)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(Gs,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analysis Failed"}),(0,fs.jsx)("p",{className:"text-red-600 mb-4",children:d}),(0,fs.jsxs)("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(rr,{className:"w-4 h-4 mr-2"}),"Retry Analysis"]})]});if(!l)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Field Statistics"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"Click the button below to analyze the database structure"}),(0,fs.jsxs)("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(rr,{className:"w-4 h-4 mr-2"}),"Analyze Fields"]})]});let x={};Array.isArray(null===l||void 0===l?void 0:l.field_statistics)?x=(null===l||void 0===l?void 0:l.field_statistics).reduce((e,t)=>(t.field_name&&(e[t.field_name]=t),e),{}):"object"===typeof(null===l||void 0===l?void 0:l.field_statistics)&&null!==(null===l||void 0===l?void 0:l.field_statistics)?x=l.field_statistics:"object"===typeof(null===l||void 0===l?void 0:l.fields)&&null!==(null===l||void 0===l?void 0:l.fields)&&(x=l.fields);const g=Object.entries(x),y=g.sort((e,t)=>{var n,s,r,a;const l="number"===typeof(null===(n=e[1])||void 0===n?void 0:n.percentage_populated)?e[1].percentage_populated:"number"===typeof(null===(s=e[1])||void 0===s?void 0:s.coverage_percentage)?e[1].coverage_percentage:0;return("number"===typeof(null===(r=t[1])||void 0===r?void 0:r.percentage_populated)?t[1].percentage_populated:"number"===typeof(null===(a=t[1])||void 0===a?void 0:a.coverage_percentage)?t[1].coverage_percentage:0)-l});return null!==l&&void 0!==l&&l.message&&0===g.length?(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(js,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Data Available"}),(0,fs.jsx)("p",{className:"text-gray-600",children:l.message}),(0,fs.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Add some documents to the collection to see field statistics"})]}):(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Field Coverage Analysis"}),(0,fs.jsxs)("p",{className:"text-sm text-gray-600",children:["number"===typeof(null===l||void 0===l?void 0:l.total_fields)?l.total_fields:0," fields across ","number"===typeof(null===l||void 0===l?void 0:l.total_documents)?l.total_documents.toLocaleString():"0"," documents"]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsxs)("button",{onClick:f,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(rr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,fs.jsxs)("button",{onClick:()=>{if(!l)return;const e=JSON.stringify(l,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="field-statistics-".concat((new Date).toISOString().split("T")[0],".json"),s.click(),URL.revokeObjectURL(n)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-success-600 hover:bg-success-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-success-500",children:[(0,fs.jsx)(ar,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),(0,fs.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(e=>{let[t,n]=e;const s="number"===typeof(null===n||void 0===n?void 0:n.percentage_populated)?n.percentage_populated:"number"===typeof(null===n||void 0===n?void 0:n.coverage_percentage)?n.coverage_percentage:0;let r="bg-red-500",a=(0,fs.jsx)(Gs,{className:"w-4 h-4 text-red-500"});return s>=85?(r="bg-green-500",a=(0,fs.jsx)(zs,{className:"w-4 h-4 text-green-500"})):s>=70?(r="bg-yellow-500",a=(0,fs.jsx)(lr,{className:"w-4 h-4 text-yellow-500"})):s>=50&&(r="bg-orange-500",a=(0,fs.jsx)(lr,{className:"w-4 h-4 text-orange-500"})),(0,fs.jsxs)("div",{className:"p-4 border rounded-lg cursor-pointer transition-all duration-200 ".concat(m===t?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-gray-300"),onClick:()=>h(m===t?null:t),children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900",children:t}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsxs)("span",{className:"text-sm font-medium ".concat(p(s)),children:[s,"%"]}),a]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:(0,fs.jsx)("div",{className:"h-2 rounded-full ".concat(r," transition-all duration-300"),style:{width:"".concat(s,"%")}})}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"text-gray-600",children:"Non-empty:"}),(0,fs.jsx)("span",{className:"ml-2 font-medium",children:"number"===typeof(null===n||void 0===n?void 0:n.non_empty_count)?n.non_empty_count.toLocaleString():"number"===typeof(null===n||void 0===n?void 0:n.non_empty_values)?n.non_empty_values.toLocaleString():"0"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"text-gray-600",children:"Coverage:"}),(0,fs.jsxs)("span",{className:"ml-2 font-medium",children:[s,"%"]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"text-gray-600",children:"Total Documents:"}),(0,fs.jsx)("span",{className:"ml-2 font-medium",children:"number"===typeof(null===n||void 0===n?void 0:n.total_documents)?n.total_documents.toLocaleString():"0"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"text-gray-600",children:"Sample Values:"}),(0,fs.jsx)("span",{className:"ml-2 font-medium",children:Array.isArray(null===n||void 0===n?void 0:n.sample_values)?n.sample_values.length:"0"})]})]}),m===t&&(0,fs.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,fs.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sample Values:"}),(0,fs.jsx)("div",{className:"space-y-1",children:n.sample_values.map((e,t)=>(0,fs.jsx)("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.length>50?"".concat(e.substring(0,50),"..."):e},t))})]})]},t)})}),(0,fs.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Last updated: ",null!==l&&void 0!==l&&l.timestamp?new Date(l.timestamp).toLocaleString():"Unknown"]})]})},or=vs("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),cr=vs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dr=vs("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ur=vs("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mr=e=>{let{databaseInfo:t,lastRefresh:n}=e;const[r,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(1),[m,h]=(0,s.useState)(10),[f,p]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[y,b]=(0,s.useState)(!1),[v,j]=(0,s.useState)(new Set),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;if("connected"===t.status){i(!0),c(null);try{const t=new URLSearchParams({page:e.toString(),page_size:n.toString()});x&&t.append("field_filter",x);const s=await cs.get("/api/v1/phase1/sample-data?".concat(t));a(s.data),u(e)}catch(o){var s,r;c((null===(s=o.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||o.message||"Failed to fetch sample data")}finally{i(!1)}}};(0,s.useEffect)(()=>{"connected"===t.status&&N(1,m)},[t.status,n]);const w=e=>{N(e,m)},S=e=>null===e||void 0===e?"null":"object"===typeof e?JSON.stringify(e):"string"===typeof e&&e.length>100?"".concat(e.substring(0,100),"..."):String(e);if("connected"!==t.status)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(Xs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Database Not Connected"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Please connect to a database to view sample data"})]});if(l)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Sample Data"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Please wait while we fetch the documents..."})]});if(o)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)("div",{className:"text-red-400 mb-4",children:(0,fs.jsx)(Xs,{className:"w-12 h-12 mx-auto"})}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to Load Data"}),(0,fs.jsx)("p",{className:"text-red-600 mb-4",children:o}),(0,fs.jsx)("button",{onClick:()=>N(1,m),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Retry"})]});if(!r||0===r.documents.length)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(Xs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Sample Data"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"No documents found in the collection"}),(0,fs.jsx)("button",{onClick:()=>N(1,m),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Refresh"})]});const k=r.documents.length>0?Object.keys(r.documents[0]):[];return(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-4 sm:space-y-0",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Sample Documents"}),(0,fs.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",r.pagination.current_page," of ",r.pagination.total_pages," pages (",r.pagination.total_documents.toLocaleString()," total documents)"]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsxs)("button",{onClick:()=>b(!y),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(or,{className:"w-4 h-4 mr-2"}),"Filters"]}),(0,fs.jsxs)("button",{onClick:()=>{if(!r)return;const e=JSON.stringify(r.documents,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="sample-data-page-".concat(d,"-").concat((new Date).toISOString().split("T")[0],".json"),s.click(),URL.revokeObjectURL(n)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-success-600 hover:bg-success-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-success-500",children:[(0,fs.jsx)(ar,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),y&&(0,fs.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Advanced Filters"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Search Term"}),(0,fs.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Search in documents...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Field Filter"}),(0,fs.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,fs.jsx)("option",{value:"",children:"All Fields"}),k.map(e=>(0,fs.jsx)("option",{value:e,children:e},e))]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"Page Size"}),(0,fs.jsxs)("select",{value:m,onChange:e=>{return t=Number(e.target.value),h(t),void N(1,t);var t},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,fs.jsx)("option",{value:5,children:"5 per page"}),(0,fs.jsx)("option",{value:10,children:"10 per page"}),(0,fs.jsx)("option",{value:25,children:"25 per page"}),(0,fs.jsx)("option",{value:50,children:"50 per page"}),(0,fs.jsx)("option",{value:100,children:"100 per page"})]})]})]}),(0,fs.jsx)("div",{className:"mt-4",children:(0,fs.jsxs)("button",{onClick:()=>{N(1,m)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(cr,{className:"w-4 h-4 mr-2"}),"Apply Filters"]})})]}),(0,fs.jsx)("div",{className:"space-y-4",children:r.documents.map((e,t)=>(0,fs.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,fs.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>(e=>{const t=new Set(v);t.has(e)?t.delete(e):t.add(e),j(t)})(t),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Document #",(d-1)*m+t+1]}),(0,fs.jsxs)("span",{className:"text-xs text-gray-500",children:[Object.keys(e).length," fields"]})]}),(0,fs.jsx)("div",{className:"flex items-center space-x-2",children:v.has(t)?(0,fs.jsx)(Rs,{className:"w-4 h-4 text-gray-500"}):(0,fs.jsx)(Ls,{className:"w-4 h-4 text-gray-500"})})]})}),v.has(t)&&(0,fs.jsx)("div",{className:"p-4 bg-white",children:(0,fs.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(e).map(e=>{let[t,n]=e;return(0,fs.jsxs)("div",{className:"space-y-1",children:[(0,fs.jsx)("label",{className:"block text-xs font-medium text-gray-700 uppercase tracking-wide",children:t}),(0,fs.jsx)("div",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-2 rounded border",children:S(n)})]},t)})})})]},t))}),r.pagination.total_pages>1&&(0,fs.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,fs.jsx)("div",{className:"flex items-center space-x-2",children:(0,fs.jsxs)("span",{className:"text-sm text-gray-700",children:["Showing ",(d-1)*m+1," to"," ",Math.min(d*m,r.pagination.total_documents)," of"," ",r.pagination.total_documents.toLocaleString()," results"]})}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsxs)("button",{onClick:()=>w(d-1),disabled:!r.pagination.has_previous,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,fs.jsx)(dr,{className:"w-4 h-4 mr-1"}),"Previous"]}),(0,fs.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",d," of ",r.pagination.total_pages]}),(0,fs.jsxs)("button",{onClick:()=>w(d+1),disabled:!r.pagination.has_next,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",(0,fs.jsx)(ur,{className:"w-4 h-4 ml-1"})]})]})]}),(0,fs.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Last updated: ",r.timestamp?new Date(r.timestamp).toLocaleString():"Unknown"]})]})},hr=e=>{let{databaseInfo:t,lastRefresh:n}=e;const[r,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(20),[x,g]=(0,s.useState)(0),y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;if("connected"===t.status){i(!0),c(null);try{const t=await cs.get("/api/v1/phase1/statute-names",{params:{limit:e,offset:n}});a(t.data),p(e),g(n)}catch(o){var s,r;c((null===(s=o.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||o.message||"Failed to fetch statute names")}finally{i(!1)}}};(0,s.useEffect)(()=>{"connected"===t.status&&y(f,x)},[t.status,n]);const b=r&&Array.isArray(r.statute_names)?r.statute_names.filter(e=>"string"===typeof e&&e.toLowerCase().includes(d.toLowerCase())):[],v=null!==r&&void 0!==r&&r.name_distribution?Object.entries(r.name_distribution).sort((e,t)=>{let[,n]=e,[,s]=t;return s-n}).slice(0,m?void 0:10):[];if("connected"!==t.status)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(Ns,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Database Not Connected"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Please connect to a database to view statute analysis"})]});if(l)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analyzing Statutes"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Please wait while we analyze the statute names..."})]});if(o)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)("div",{className:"text-red-400 mb-4",children:(0,fs.jsx)(Ns,{className:"w-12 h-12 mx-auto"})}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analysis Failed"}),(0,fs.jsx)("p",{className:"text-red-600 mb-4",children:o}),(0,fs.jsx)("button",{onClick:()=>y(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Retry Analysis"})]});if(!r)return(0,fs.jsxs)("div",{className:"text-center py-8",children:[(0,fs.jsx)(Ns,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Statute Data"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"Click the button below to analyze statute names"}),(0,fs.jsxs)("button",{onClick:()=>y(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(rr,{className:"w-4 h-4 mr-2"}),"Analyze Statutes"]})]});const j=(null===r||void 0===r?void 0:r.count)||0,N=Math.floor(x/f)+1,w=Math.max(1,Math.ceil(j/f));return(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Statute Analysis"}),(0,fs.jsxs)("p",{className:"text-sm text-gray-600",children:["number"===typeof(null===r||void 0===r?void 0:r.count)?r.count.toLocaleString():"0"," unique statutes found"]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsxs)("button",{onClick:()=>y(),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(rr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),(0,fs.jsxs)("button",{onClick:()=>{if(!r)return;const e=JSON.stringify(r,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="statute-analysis-".concat((new Date).toISOString().split("T")[0],".json"),s.click(),URL.revokeObjectURL(n)},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-success-600 hover:bg-success-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-success-500",children:[(0,fs.jsx)(ar,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),r.field_used&&(0,fs.jsx)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(ks,{className:"w-5 h-5 text-blue-600"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Analysis Field"}),(0,fs.jsxs)("p",{className:"text-sm text-blue-700",children:["Using field: ",(0,fs.jsx)("code",{className:"bg-blue-100 px-2 py-1 rounded",children:r.field_used})]})]})]})}),(0,fs.jsx)("div",{className:"mb-6",children:(0,fs.jsxs)("div",{className:"relative",children:[(0,fs.jsx)(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,fs.jsx)("input",{type:"text",placeholder:"Search statute names...",value:d,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]})}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[(0,fs.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(Ns,{className:"w-5 h-5 text-primary-600"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("p",{className:"text-sm text-gray-600",children:"Total Unique"}),(0,fs.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"number"===typeof(null===r||void 0===r?void 0:r.count)?r.count.toLocaleString():"0"})]})]})}),(0,fs.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(ks,{className:"w-5 h-5 text-success-600"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("p",{className:"text-sm text-gray-600",children:"Sample Size"}),(0,fs.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:Array.isArray(null===r||void 0===r?void 0:r.statute_names)&&"number"===typeof r.statute_names.length?r.statute_names.length.toLocaleString():"0"})]})]})})]}),r.name_distribution&&v.length>0&&(0,fs.jsxs)("div",{className:"mb-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Top Statute Distribution"}),(0,fs.jsx)("button",{onClick:()=>h(!m),className:"text-sm text-primary-600 hover:text-primary-700",children:m?"Show Top 10":"Show All"})]}),(0,fs.jsx)("div",{className:"space-y-2",children:v.map(e=>{let[t,n]=e;return(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsx)("div",{className:"flex-1 min-w-0",children:(0,fs.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",title:t,children:t})}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(r.name_distribution?n/Math.max(...Object.values(r.name_distribution))*100:0,"%")}})}),(0,fs.jsx)("span",{className:"text-sm text-gray-600 w-12 text-right",children:"number"===typeof n?n.toLocaleString():"0"})]})]},t)})})]}),(0,fs.jsxs)("div",{className:"mb-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Sample Statute Names"}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("button",{onClick:()=>{x-f>=0&&y(f,x-f)},disabled:0===x,className:"px-2 py-1 text-sm rounded border bg-white text-gray-700 disabled:opacity-50",children:"Prev"}),(0,fs.jsxs)("span",{className:"text-xs text-gray-600",children:["Page ",N," of ",w]}),(0,fs.jsx)("button",{onClick:()=>{x+f<j&&y(f,x+f)},disabled:x+f>=j,className:"px-2 py-1 text-sm rounded border bg-white text-gray-700 disabled:opacity-50",children:"Next"}),(0,fs.jsx)("select",{value:f,onChange:e=>{const t=parseInt(e.target.value,10);y(t,0)},className:"ml-2 px-2 py-1 text-sm border rounded",children:[10,20,50,100].map(e=>(0,fs.jsxs)("option",{value:e,children:[e," / page"]},e))})]})]}),(0,fs.jsx)("div",{className:"space-y-2",children:b.length>0?b.map((e,t)=>(0,fs.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[(0,fs.jsx)("div",{className:"text-sm text-gray-900",children:e}),(null===r||void 0===r?void 0:r.name_distribution)&&"number"===typeof r.name_distribution[e]&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Count: ","number"===typeof r.name_distribution[e]?r.name_distribution[e].toLocaleString():"0"]})]},t)):(0,fs.jsx)("div",{className:"text-center py-4 text-gray-500",children:d?"No statute names match your search":"No sample names available"})})]}),!r.field_used&&(0,fs.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(lr,{className:"w-5 h-5 text-yellow-600"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-yellow-900",children:"Field Detection"}),(0,fs.jsx)("p",{className:"text-sm text-yellow-700",children:"Could not automatically detect a suitable field for statute names. The analysis may be incomplete."})]})]})}),(0,fs.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:["Last updated: ",r.timestamp?new Date(r.timestamp).toLocaleString():"Unknown"]})]})},fr=e=>{let{databaseInfo:t,lastRefresh:n}=e;const[r,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),o=async()=>{if("connected"===t.status){i(!0);try{const e=await cs.get("/api/v1/phase1/health");a(e.data)}catch(s){var e,n;a({status:"unhealthy",error:(null===(e=s.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||s.message||"Health check failed"})}finally{i(!1)}}};(0,s.useEffect)(()=>{"connected"===t.status&&n&&o()},[t.status,n]);return(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,fs.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(Xs,{className:"w-5 h-5 text-primary-600"}),(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Connection Status"})]}),(0,fs.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Database health and performance metrics"})]}),(0,fs.jsxs)("div",{className:"p-6 space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:["connected"===t.status?(0,fs.jsx)(zs,{className:"w-4 h-4 text-green-500"}):(0,fs.jsx)(lr,{className:"w-4 h-4 text-red-500"}),(0,fs.jsx)("span",{className:"text-sm font-medium ".concat("connected"===t.status?"text-green-600":"text-red-600"),children:"connected"===t.status?"Connected":"Disconnected"})]})]}),t.database&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Database:"}),(0,fs.jsx)("span",{className:"text-sm text-gray-900",children:t.database})]}),t.collection&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Collection:"}),(0,fs.jsx)("span",{className:"text-sm text-gray-900",children:t.collection})]}),void 0!==t.document_count&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Documents:"}),(0,fs.jsx)("span",{className:"text-sm text-gray-900",children:t.document_count.toLocaleString()})]}),n&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Last Updated:"}),(0,fs.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,fs.jsx)(Us,{className:"w-3 h-3 text-gray-400"}),(0,fs.jsx)("span",{className:"text-sm text-gray-900",children:n.toLocaleTimeString()})]})]}),"connected"===t.status&&(0,fs.jsx)(fs.Fragment,{children:(0,fs.jsxs)("div",{className:"border-t pt-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Health Status:"}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[r?"healthy"===r.status?(0,fs.jsx)(zs,{className:"w-5 h-5"}):(0,fs.jsx)(lr,{className:"w-5 h-5"}):(0,fs.jsx)(Xs,{className:"w-5 h-5"}),(0,fs.jsx)("span",{className:"text-sm font-medium ".concat(r?"healthy"===r.status?"text-green-600":"text-red-600":"text-gray-500"),children:"healthy"===(null===r||void 0===r?void 0:r.status)?"Healthy":"Unhealthy"})]})]}),r&&(0,fs.jsxs)("div",{className:"space-y-2",children:[r.response_time_ms&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-xs text-gray-600",children:"Response Time:"}),(0,fs.jsxs)("span",{className:"text-xs text-gray-900",children:[r.response_time_ms,"ms"]})]}),r.server_version&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-xs text-gray-600",children:"Server Version:"}),(0,fs.jsx)("span",{className:"text-xs text-gray-900",children:r.server_version})]}),r.database_size_bytes&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-xs text-gray-600",children:"Database Size:"}),(0,fs.jsx)("span",{className:"text-xs text-gray-900",children:(e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]})(r.database_size_bytes)})]}),r.collections&&(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("span",{className:"text-xs text-gray-600",children:"Collections:"}),(0,fs.jsx)("span",{className:"text-xs text-gray-900",children:r.collections})]}),r.error&&(0,fs.jsx)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded",children:(0,fs.jsx)("p",{className:"text-xs text-red-700",children:r.error})})]}),(0,fs.jsx)("button",{onClick:o,disabled:l,className:"mt-3 w-full inline-flex items-center justify-center px-3 py-2 border border-gray-300 shadow-sm text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:l?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Xs,{className:"w-3 h-3 mr-1 animate-spin"}),"Checking..."]}):(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Xs,{className:"w-3 h-3 mr-1"}),"Check Health"]})})]})}),t.error&&(0,fs.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded",children:(0,fs.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,fs.jsx)(lr,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Connection Error"}),(0,fs.jsx)("p",{className:"text-sm text-red-700 mt-1",children:t.error})]})]})})]})]})},pr=()=>{const[e,t]=(0,s.useState)({status:"disconnected"}),[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null);return(0,fs.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,fs.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,fs.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between h-12",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsx)(js,{className:"w-6 h-6 text-primary-600"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Phase 1: Data Ingestion"}),(0,fs.jsx)("p",{className:"text-sm text-gray-600",children:"Database connection and analysis dashboard"})]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{switch(e.status){case"connected":return(0,fs.jsx)(zs,{className:"w-5 h-5 text-green-500"});case"connecting":return(0,fs.jsx)(Js,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"error":return(0,fs.jsx)(Gs,{className:"w-5 h-5 text-red-500"});default:return(0,fs.jsx)(Ys,{className:"w-5 h-5 text-gray-500"})}})(),(0,fs.jsx)("span",{className:"text-sm font-medium ".concat((()=>{switch(e.status){case"connected":return"text-green-600";case"connecting":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}})()),children:(()=>{switch(e.status){case"connected":return"Connected";case"connecting":return"Connecting...";case"error":return"Connection Error";default:return"Disconnected"}})()})]}),(0,fs.jsxs)("button",{onClick:()=>{l(new Date)},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[(0,fs.jsx)(Js,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),(0,fs.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,fs.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-4",children:[(0,fs.jsx)("div",{className:"lg:col-span-2",children:(0,fs.jsx)(sr,{onConnectionUpdate:e=>{t(e)}})}),(0,fs.jsx)("div",{children:(0,fs.jsx)(fr,{databaseInfo:e,lastRefresh:a})})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,fs.jsx)("div",{className:"xl:col-span-2",children:(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,fs.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(ks,{className:"w-5 h-5 text-primary-600"}),(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Field Statistics"})]}),(0,fs.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive analysis of field coverage and data quality"})]}),(0,fs.jsx)("div",{className:"p-6",children:(0,fs.jsx)(ir,{databaseInfo:e,isAnalyzing:n,onAnalysisStart:()=>r(!0),onAnalysisComplete:()=>r(!1)})})]})}),(0,fs.jsx)("div",{children:(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,fs.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(Ns,{className:"w-5 h-5 text-primary-600"}),(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Statute Analysis"})]}),(0,fs.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Unique statute names and distribution analysis"})]}),(0,fs.jsx)("div",{className:"p-6",children:(0,fs.jsx)(hr,{databaseInfo:e,lastRefresh:a})})]})})]}),(0,fs.jsx)("div",{className:"mt-8",children:(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,fs.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)(Xs,{className:"w-5 h-5 text-primary-600"}),(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Sample Data Viewer"})]}),(0,fs.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Browse and analyze sample documents from the collection"})]}),(0,fs.jsx)("div",{className:"p-6",children:(0,fs.jsx)(mr,{databaseInfo:e,lastRefresh:a})})]})})]})]})},xr=vs("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),gr=vs("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),yr=vs("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),br=e=>{let{config:t}=e;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(""),[h,f]=(0,s.useState)(null),[p,x]=(0,s.useState)(new Set),[g,y]=(0,s.useState)(!1),[b,v]=(0,s.useState)(""),[j,N]=(0,s.useState)(new Set),[w,S]=(0,s.useState)(new Set),[k,_]=(0,s.useState)(1),[C,E]=(0,s.useState)(100),[P,O]=(0,s.useState)(0),[T,R]=(0,s.useState)(0),L=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";l(!0);try{const l=(e-1)*n,o=new URLSearchParams({limit:n.toString(),skip:l.toString(),search:s}),c=await fetch("/api/v1/phase2/detailed-normalized-structure?".concat(o),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(It({},t))}),d=await c.json();if(d.success&&d.detailed_data){var a,i;const t=d.detailed_data.map(e=>({_id:e.statute_name||"Unknown",Statute_Name:e.statute_name||"Unknown",Sections:e.sections||[],section_count:e.section_count||0}));r(t),O(d.filtered_count||d.total_statutes||0),R((null===(a=d.pagination)||void 0===a?void 0:a.total_pages)||Math.ceil((d.filtered_count||d.total_statutes||0)/n)),_((null===(i=d.pagination)||void 0===i?void 0:i.current_page)||e)}else r([]),O(0),R(0),_(1),f({type:"error",text:d.message||"Failed to fetch statute groups"})}catch(o){r([]),O(0),R(0),_(1),f({type:"error",text:"Error fetching statute groups"})}finally{l(!1)}},[t]),A=e=>{_(e),L(e,C,i)},F=async()=>{c&&u.trim()&&(await(async()=>{try{f({type:"error",text:"Statute name editing requires backend implementation for the new grouped schema"})}catch(e){f({type:"error",text:"Error updating statute name"})}})(0,u.trim()),d(null),m(""))},D=()=>{d(null),m("")},z=n.filter(e=>!(!e.Statute_Name||"string"!==typeof e.Statute_Name)&&e.Statute_Name.toLowerCase().includes(i.toLowerCase()));return(0,s.useEffect)(()=>{L()},[L]),(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(Ns,{className:"w-5 h-5 mr-2"}),"Statute Names - Grouped View"]}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"View and manage statute names in the new grouped structure. Each statute contains multiple sections."}),(0,fs.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,fs.jsx)("div",{className:"flex-1 min-w-64",children:(0,fs.jsxs)("div",{className:"relative",children:[(0,fs.jsx)(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,fs.jsx)("input",{type:"text",placeholder:"Search statute names...",value:i,onChange:e=>{return t=e.target.value,o(t),_(1),void L(1,C,t);var t},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,fs.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fs.jsx)("span",{className:"text-sm text-gray-600",children:"Show:"}),(0,fs.jsxs)("select",{value:C,onChange:e=>{return t=Number(e.target.value),E(t),_(1),void L(1,t,i);var t},className:"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500",children:[(0,fs.jsx)("option",{value:25,children:"25"}),(0,fs.jsx)("option",{value:50,children:"50"}),(0,fs.jsx)("option",{value:75,children:"75"}),(0,fs.jsx)("option",{value:100,children:"100"}),(0,fs.jsx)("option",{value:200,children:"200"})]})]}),(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:[k," \u2013 ",Math.min(k*C,P)," of ",P.toLocaleString()]}),(0,fs.jsxs)("button",{onClick:()=>{L(k,C,i)},disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50 flex items-center",children:[(0,fs.jsx)(Js,{className:"w-4 h-4 mr-2 ".concat(a?"animate-spin":"")}),"Refresh"]})]})]}),p.size>0&&(0,fs.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"text-blue-800",children:[p.size," statute group(s) selected"]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("input",{type:"text",placeholder:"New statute name...",value:b,onChange:e=>v(e.target.value),className:"px-3 py-1 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,fs.jsxs)("button",{onClick:async()=>{0!==p.size&&b.trim()?f({type:"error",text:"Batch editing requires backend implementation for the new grouped schema"}):f({type:"error",text:"Please select groups and enter a new name"})},className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:[(0,fs.jsx)(gr,{className:"w-4 h-4 mr-1"}),"Update Selected"]})]})]})}),h&&(0,fs.jsxs)("div",{className:"p-4 rounded-lg flex items-center ".concat("success"===h.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===h.type?(0,fs.jsx)(zs,{className:"w-5 h-5 mr-2"}):(0,fs.jsx)(lr,{className:"w-5 h-5 mr-2"}),h.text]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a?(0,fs.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,fs.jsx)(Js,{className:"w-8 h-8 mx-auto mb-2 animate-spin"}),"Loading statute groups..."]}):0===z.length?(0,fs.jsx)("div",{className:"p-8 text-center text-gray-500",children:i?"No statutes found matching your search.":"No statute groups found."}):(0,fs.jsx)("div",{className:"divide-y divide-gray-200",children:z.map(e=>(0,fs.jsxs)("div",{className:"p-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsx)("input",{type:"checkbox",checked:p.has(e._id),onChange:()=>(e=>{const t=new Set(p);t.has(e)?t.delete(e):t.add(e),x(t)})(e._id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,fs.jsxs)("button",{onClick:()=>(e=>{const t=new Set(j);t.has(e)?t.delete(e):t.add(e),N(t)})(e._id),className:"flex items-center space-x-2 text-left hover:text-blue-600",children:[j.has(e._id)?(0,fs.jsx)(Es,{className:"w-4 h-4"}):(0,fs.jsx)(ur,{className:"w-4 h-4"}),(0,fs.jsx)("span",{className:"font-medium text-gray-900",children:e.Statute_Name}),(0,fs.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.section_count," sections)"]})]})]}),(0,fs.jsx)("div",{className:"flex items-center space-x-2",children:c===e._id?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),className:"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,fs.jsx)("button",{onClick:F,className:"text-green-600 hover:text-green-800",children:(0,fs.jsx)(gr,{className:"w-4 h-4"})}),(0,fs.jsx)("button",{onClick:D,className:"text-gray-600 hover:text-gray-800",children:(0,fs.jsx)(Os,{className:"w-4 h-4"})})]}):(0,fs.jsx)("button",{onClick:()=>{return d((t=e)._id),void m(t.Statute_Name);var t},className:"text-blue-600 hover:text-blue-800",title:"Edit statute name",children:(0,fs.jsx)(yr,{className:"w-4 h-4"})})})]}),j.has(e._id)&&(0,fs.jsxs)("div",{className:"mt-3 ml-8 space-y-2",children:[(0,fs.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Sections:"}),e.Sections&&e.Sections.length>0?(0,fs.jsx)("div",{className:"space-y-2",children:e.Sections.map((t,n)=>{var s,r;const a="".concat(e._id,"-section-").concat(n),l=w.has(a),i=(null===(s=t.additional_fields)||void 0===s?void 0:s.Section)||t.number||"".concat(n+1),o=(null===(r=t.additional_fields)||void 0===r?void 0:r.Definition)||t.definition||"No title",c=t.Statute||t.content||"No content available";return(0,fs.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,fs.jsxs)("div",{className:"bg-gray-50 p-3 flex items-center justify-between",children:[(0,fs.jsxs)("button",{onClick:()=>(e=>{const t=new Set(w);t.has(e)?t.delete(e):t.add(e),S(t)})(a),className:"flex items-center space-x-2 text-left hover:text-blue-600 flex-1",children:[l?(0,fs.jsx)(Es,{className:"w-4 h-4"}):(0,fs.jsx)(ur,{className:"w-4 h-4"}),(0,fs.jsx)(Ns,{className:"w-4 h-4"}),(0,fs.jsxs)("span",{className:"font-medium text-gray-700",children:[i," : ",o]})]}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:[c.length," chars"]})]}),l&&(0,fs.jsx)("div",{className:"p-4 border-t border-gray-200 bg-white",children:(0,fs.jsxs)("div",{className:"space-y-3",children:[(0,fs.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Section Number:"}),(0,fs.jsx)("p",{className:"text-sm text-blue-700 font-mono",children:i})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-semibold text-blue-800 mb-1",children:"Section Title:"}),(0,fs.jsx)("p",{className:"text-sm text-blue-700",children:o})]})]})}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Full Statute Text:"}),(0,fs.jsx)("div",{className:"text-sm text-gray-700 bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto border",children:(0,fs.jsx)("pre",{className:"whitespace-pre-wrap font-sans leading-relaxed",children:c})})]}),t.additional_fields&&Object.keys(t.additional_fields).length>2&&(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Additional Information:"}),(0,fs.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(t.additional_fields).map(e=>{let[t,n]=e;return["Section","Definition"].includes(t)||!n||"string"===typeof n&&""===n.trim()?null:(0,fs.jsxs)("div",{className:"bg-yellow-50 p-2 rounded",children:[(0,fs.jsxs)("h5",{className:"text-xs font-semibold text-yellow-800 mb-1 capitalize",children:[t.replace(/_/g," "),":"]}),(0,fs.jsx)("p",{className:"text-xs text-yellow-700",children:"object"===typeof n?JSON.stringify(n,null,2):String(n)})]},t)})})]})]})})]},n)})}):(0,fs.jsx)("div",{className:"text-gray-500 text-sm",children:"No sections found"})]})]},e._id))}),T>1&&(0,fs.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(k-1)*C+1," to ",Math.min(k*C,P)," of ",P.toLocaleString()," results"]}),(0,fs.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fs.jsx)("button",{onClick:()=>A(k-1),disabled:1===k,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Previous"}),(0,fs.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(T,7)},(e,t)=>{let n;return n=T<=7||k<=4?t+1:k>=T-3?T-6+t:k-3+t,(0,fs.jsx)("button",{onClick:()=>A(n),className:"px-3 py-2 text-sm border rounded-lg ".concat(k===n?"bg-blue-500 text-white border-blue-500":"border-gray-300 hover:bg-gray-100"),children:n},n)})}),(0,fs.jsx)("button",{onClick:()=>A(k+1),disabled:k===T,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Next"})]})]})]}),(0,fs.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:[i?(0,fs.jsxs)(fs.Fragment,{children:["Found ",P.toLocaleString(),' statute group(s) matching "',i,'"']}):(0,fs.jsxs)(fs.Fragment,{children:["Total: ",P.toLocaleString()," statute group(s)"]}),T>1&&(0,fs.jsxs)(fs.Fragment,{children:[" \u2022 Page ",k," of ",T]})]})})]})},vr=vs("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),jr=vs("Text",[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]]),Nr=vs("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),wr=vs("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Sr=vs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),kr=e=>{let{fieldMappings:t,updateFieldMapping:n,addFieldMapping:s,removeFieldMapping:r}=e;return(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Field Mappings"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"Define how section fields should be mapped and cleaned. Each mapping transforms a source field to a target field."}),(0,fs.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,fs.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,fs.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:e=>n(t,"enabled",e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,fs.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-3",children:[(0,fs.jsx)("input",{type:"text",placeholder:"Source field",value:e.source,onChange:e=>n(t,"source",e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,fs.jsx)("input",{type:"text",placeholder:"Target field",value:e.target,onChange:e=>n(t,"target",e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),(0,fs.jsx)("button",{onClick:()=>r(t),className:"text-red-600 hover:text-red-800 p-1",title:"Remove mapping",children:(0,fs.jsx)(Os,{className:"w-4 h-4"})})]},t))}),(0,fs.jsxs)("button",{onClick:s,className:"mt-3 bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 flex items-center",children:[(0,fs.jsx)(Sr,{className:"w-4 h-4 mr-2"}),"Add Field Mapping"]})]})},_r=e=>{let{config:t}=e;const[n,r]=(0,s.useState)(1),[a,l]=(0,s.useState)(100),[i,o]=(0,s.useState)(0),[c,d]=(0,s.useState)(1),[u,m]=(0,s.useState)([]),[h,f]=(0,s.useState)(!1),[p,x]=(0,s.useState)(null),[g,y]=(0,s.useState)(new Set),[b,v]=(0,s.useState)(""),[j,N]=(0,s.useState)("all"),[w,S]=(0,s.useState)("name"),[k,_]=(0,s.useState)(new Set(["main"])),[C,E]=(0,s.useState)({preambleFirst:!0,numericOrder:!0,alphabeticalFallback:!0,customSortOrder:!1}),[P,O]=(0,s.useState)([{source:"number",target:"section_number",enabled:!0},{source:"definition",target:"section_content",enabled:!0},{source:"content",target:"section_text",enabled:!0},{source:"year",target:"section_year",enabled:!0},{source:"date",target:"section_date",enabled:!0}]),[T,R]=(0,s.useState)(null),L=(0,s.useCallback)(async()=>{f(!0);try{const l=(n-1)*a,i=new URLSearchParams({limit:a.toString(),skip:l.toString(),search:b||""}),c=await fetch("/api/v1/phase2/preview-normalized-structure?".concat(i),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify(It({},t))}),u=await c.json();if(u.success&&u.preview_data){var e,s;const t=u.preview_data.map(e=>({_id:e.statute_name||"Unknown",Statute_Name:e.statute_name||"Unknown",Sections:e.sections_preview||[],section_count:e.section_count||0}));m(t),o(u.filtered_count||u.total_statutes||0),d((null===(e=u.pagination)||void 0===e?void 0:e.total_pages)||Math.ceil((u.filtered_count||u.total_statutes||0)/a)),r((null===(s=u.pagination)||void 0===s?void 0:s.current_page)||n);const l=u.total_statutes||0,i=u.total_sections||0,c={total_statutes:l,processed_statutes:l,total_sections:i,processed_sections:i,normalization_progress:l>0?l/l*100:0,sorting_progress:i>0?i/i*100:0,overall_progress:l>0?(l+i)/(l+i)*100:0,estimated_time_remaining:"0 minutes",current_phase:"Normalization Complete",last_updated:(new Date).toISOString()};R(c)}else m([]),o(0),d(0),r(1),x({type:"error",text:u.message||"Failed to fetch results data"})}catch(l){m([]),o(0),d(0),r(1),x({type:"error",text:"Error fetching results data"})}finally{f(!1)}},[n,a,b,t]),A=e=>{const t=new Set(k);t.has(e)?t.delete(e):t.add(e),_(t)},F=e=>{const[t]=(e=>{const t=e.number||e.section_number||"";if("string"===typeof t&&"preamble"===t.trim().toLowerCase())return[0,""];try{const e=String(t).trim();if(e.replace(/[.-]/g,"").match(/^\d+$/))return[1,parseFloat(e)]}catch(ha){}return[2,String(t).toLowerCase()]})(e);return 0===t?"preamble":1===t?"numeric":"text"};(0,s.useEffect)(()=>{L()},[L]);const D=(()=>{let e=u.filter(e=>e.Statute_Name.toLowerCase().includes(b.toLowerCase()));return"all"!==j&&(e=e.filter(e=>e.Sections.some(e=>F(e)===j))),e.sort((e,t)=>{switch(w){case"name":return e.Statute_Name.localeCompare(t.Statute_Name);case"sections":return t.section_count-e.section_count;case"type":const n=e.Sections.some(e=>"preamble"===F(e)),s=t.Sections.some(e=>"preamble"===F(e));return n&&!s?-1:!n&&s?1:e.Statute_Name.localeCompare(t.Statute_Name);default:return 0}}),e})();return(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(Ls,{className:"w-5 h-5 mr-2"}),"Results Preview - Unified Phase 2 Interface"]}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"Centralized view for previewing, sorting, cleaning, and tracking normalization progress."}),(0,fs.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,fs.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fs.jsx)("label",{className:"text-sm text-gray-700",children:"Page size:"}),(0,fs.jsx)("select",{value:a,onChange:e=>{l(Number(e.target.value)),r(1)},className:"px-2 py-1 border border-gray-300 rounded",children:[25,50,100,200,500].map(e=>(0,fs.jsxs)("option",{value:e,children:[e," per page"]},e))})]}),(0,fs.jsxs)("button",{onClick:L,disabled:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[(0,fs.jsx)(Js,{className:"w-4 h-4 mr-2 ".concat(h?"animate-spin":"")}),"Refresh Results"]}),(0,fs.jsxs)("button",{onClick:async()=>{try{const e={export_date:(new Date).toISOString(),total_statutes:u.length,total_sections:u.reduce((e,t)=>e+t.section_count,0),statutes:u.map(e=>({statute_name:e.Statute_Name,section_count:e.section_count,sections:e.Sections.map(e=>({number:e.number||e.section_number||"N/A",type:F(e),content:e.definition||e.content||"No content"}))}))},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="normalization_results_".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),x({type:"success",text:"Results exported successfully"})}catch(e){x({type:"error",text:"Error exporting results"})}},disabled:0===u.length,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center",children:[(0,fs.jsx)(ar,{className:"w-4 h-4 mr-2"}),"Export Results"]})]})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search & Filters"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Statutes"}),(0,fs.jsxs)("div",{className:"relative",children:[(0,fs.jsx)(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,fs.jsx)("input",{type:"text",placeholder:"Search statute names...",value:b,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Section Type"}),(0,fs.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,fs.jsx)("option",{value:"all",children:"All Types"}),(0,fs.jsx)("option",{value:"preamble",children:"Has Preamble"}),(0,fs.jsx)("option",{value:"numeric",children:"Has Numeric Sections"}),(0,fs.jsx)("option",{value:"text",children:"Has Text Sections"})]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),(0,fs.jsxs)("select",{value:w,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,fs.jsx)("option",{value:"name",children:"By Name (A-Z)"}),(0,fs.jsx)("option",{value:"sections",children:"By Section Count"}),(0,fs.jsx)("option",{value:"type",children:"By Type (Preamble First)"})]})]})]}),(0,fs.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",D.length," of ",i," statutes \u2022 Total sections: ",D.reduce((e,t)=>e+t.section_count,0)," \u2022 Filter: ","all"===j?"All types":j," \u2022 Sort: ","name"===w?"By name":"sections"===w?"By section count":"By type"]}),(0,fs.jsxs)("div",{className:"flex items-center gap-2",children:[(0,fs.jsx)("button",{className:"px-2 py-1 rounded border bg-white text-gray-700 disabled:opacity-50",disabled:1===n,onClick:()=>r(e=>Math.max(1,e-1)),children:"Prev"}),(0,fs.jsxs)("span",{className:"text-sm text-gray-700",children:["Page ",n," of ",c]}),(0,fs.jsx)("button",{className:"px-2 py-1 rounded border bg-white text-gray-700 disabled:opacity-50",disabled:n===c,onClick:()=>r(e=>Math.min(c,e+1)),children:"Next"})]})]})]}),p&&(0,fs.jsxs)("div",{className:"p-4 rounded-lg flex items-center ".concat("success"===p.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:["success"===p.type?(0,fs.jsx)(zs,{className:"w-5 h-5 mr-2"}):(0,fs.jsx)(lr,{className:"w-5 h-5 mr-2"}),p.text]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,fs.jsx)("div",{className:"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:()=>A("main"),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,fs.jsx)(Ls,{className:"w-5 h-5 mr-2"}),"Main Results Preview"]}),k.has("main")?(0,fs.jsx)(Es,{className:"w-5 h-5 text-gray-500"}):(0,fs.jsx)(ur,{className:"w-5 h-5 text-gray-500"})]})}),k.has("main")&&(0,fs.jsx)("div",{className:"p-4",children:h?(0,fs.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,fs.jsx)(Js,{className:"w-8 h-8 mx-auto mb-2 animate-spin"}),"Loading results..."]}):0===D.length?(0,fs.jsx)("div",{className:"p-8 text-center text-gray-500",children:b||"all"!==j?"No statutes match your search/filter criteria.":"No results found. Run normalization first to populate the database."}):(0,fs.jsx)("div",{className:"divide-y divide-gray-200",children:D.map(e=>(0,fs.jsxs)("div",{className:"p-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("button",{onClick:()=>(e=>{const t=new Set(g);t.has(e)?t.delete(e):t.add(e),y(t)})(e._id),className:"flex items-center space-x-2 text-left hover:text-blue-600",children:[g.has(e._id)?(0,fs.jsx)(Es,{className:"w-4 h-4"}):(0,fs.jsx)(ur,{className:"w-4 h-4"}),(0,fs.jsx)("span",{className:"font-medium text-gray-900",children:e.Statute_Name}),(0,fs.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.section_count," sections)"]})]}),(0,fs.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[e.Sections.some(e=>"preamble"===F(e))&&(0,fs.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,fs.jsx)(Ns,{className:"w-3 h-3 mr-1"}),"Preamble"]}),e.Sections.some(e=>"numeric"===F(e))&&(0,fs.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,fs.jsx)(vr,{className:"w-3 h-3 mr-1"}),"Numeric"]}),e.Sections.some(e=>"text"===F(e))&&(0,fs.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,fs.jsx)(jr,{className:"w-3 h-3 mr-1"}),"Text"]})]})})]}),g.has(e._id)&&(0,fs.jsxs)("div",{className:"mt-3 ml-8 space-y-2",children:[(0,fs.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Sorted Sections:"}),e.Sections&&e.Sections.length>0?(0,fs.jsx)("div",{className:"space-y-2",children:e.Sections.map((e,t)=>{const n=F(e);return(0,fs.jsxs)("div",{className:"p-3 rounded-lg border-l-4 ".concat("preamble"===n?"border-l-blue-500 bg-blue-50":"numeric"===n?"border-l-green-500 bg-green-50":"border-l-gray-500 bg-gray-50"),children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,fs.jsx)("div",{className:"font-medium text-gray-700",children:e.number||e.section_number||"Section ".concat(t+1)}),(0,fs.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("preamble"===n?"bg-blue-100 text-blue-800":"numeric"===n?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:["preamble"===n?(0,fs.jsx)(Ns,{className:"w-3 h-3 inline mr-1"}):"numeric"===n?(0,fs.jsx)(vr,{className:"w-3 h-3 inline mr-1"}):(0,fs.jsx)(jr,{className:"w-3 h-3 inline mr-1"}),n]})]}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:e.definition||e.content||"No content available"}),e.year&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Year: ",e.year]})]},t)})}):(0,fs.jsx)("div",{className:"text-gray-500 text-sm",children:"No sections found"})]})]},e._id))})})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,fs.jsx)("div",{className:"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:()=>A("sorting"),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,fs.jsx)(Nr,{className:"w-5 h-5 mr-2"}),"Sorting Configuration"]}),k.has("sorting")?(0,fs.jsx)(Es,{className:"w-5 h-5 text-gray-500"}):(0,fs.jsx)(ur,{className:"w-5 h-5 text-gray-500"})]})}),k.has("sorting")&&(0,fs.jsx)("div",{className:"p-6",children:(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Sorting Rules"}),(0,fs.jsxs)("div",{className:"space-y-3",children:[(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:C.preambleFirst,onChange:e=>E(t=>It(It({},t),{},{preambleFirst:e.target.checked})),className:"mr-3"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Preamble sections first"})]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:C.numericOrder,onChange:e=>E(t=>It(It({},t),{},{numericOrder:e.target.checked})),className:"mr-3"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Numeric sections in order"})]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:C.alphabeticalFallback,onChange:e=>E(t=>It(It({},t),{},{alphabeticalFallback:e.target.checked})),className:"mr-3"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Alphabetical fallback for text sections"})]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:C.customSortOrder,onChange:e=>E(t=>It(It({},t),{},{customSortOrder:e.target.checked})),className:"mr-3"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Custom sort order (future feature)"})]})]}),(0,fs.jsxs)("div",{className:"mt-4",children:[(0,fs.jsxs)("button",{onClick:async()=>{try{const e=await fetch("/api/v1/phase2/apply-sorting",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({rules:C,scope:"all"})}),t=await e.json();t.success?(x({type:"success",text:"Sorting applied successfully! ".concat(t.changes_count," documents changed.")}),await L()):x({type:"error",text:t.message||"Failed to apply sorting"})}catch(e){x({type:"error",text:"Error applying sorting"})}},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[(0,fs.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Execute Sorting"]}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Apply the current sorting configuration to all statutes"})]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Sorting Preview"}),(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,fs.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:["Current sorting applied to ",D.length," statutes"]}),(0,fs.jsxs)("div",{className:"space-y-2",children:[D.slice(0,3).map((e,t)=>(0,fs.jsxs)("div",{className:"text-sm",children:[(0,fs.jsx)("div",{className:"font-medium",children:e.Statute_Name}),(0,fs.jsxs)("div",{className:"text-gray-500",children:[e.section_count," sections \u2022",e.Sections.some(e=>"preamble"===F(e))&&" Has preamble \u2022",e.Sections.some(e=>"numeric"===F(e))&&" Has numeric \u2022",e.Sections.some(e=>"text"===F(e))&&" Has text"]})]},t)),D.length>3&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:["... and ",D.length-3," more"]})]})]})]})]})})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,fs.jsx)("div",{className:"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:()=>A("cleaning"),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,fs.jsx)(tr,{className:"w-5 h-5 mr-2"}),"Field Mapping & Cleaning"]}),k.has("cleaning")?(0,fs.jsx)(Es,{className:"w-5 h-5 text-gray-500"}):(0,fs.jsx)(ur,{className:"w-5 h-5 text-gray-500"})]})}),k.has("cleaning")&&(0,fs.jsx)("div",{className:"p-6",children:(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Field Mappings"}),(0,fs.jsx)(kr,{fieldMappings:P,updateFieldMapping:(e,t,n)=>{O(s=>s.map((s,r)=>r===e?It(It({},s),{},{[t]:n}):s))},addFieldMapping:()=>{O(e=>[...e,{source:"",target:"",enabled:!0}])},removeFieldMapping:e=>{O(t=>t.filter((t,n)=>n!==e))}}),(0,fs.jsxs)("div",{className:"mt-4",children:[(0,fs.jsxs)("button",{onClick:async()=>{try{const e=await fetch("/api/v1/phase2/apply-cleaning",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({mappings:P,scope:"all"})}),t=await e.json();t.success?(x({type:"success",text:"Field cleaning applied successfully! ".concat(t.changes_count," documents changed.")}),await L()):x({type:"error",text:t.message||"Failed to apply cleaning"})}catch(e){x({type:"error",text:"Error applying cleaning"})}},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[(0,fs.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Execute Cleaning"]}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Apply the current field mappings to all statutes"})]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Cleaning Preview"}),(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,fs.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:["Field mappings applied to ",D.length," statutes"]}),(0,fs.jsxs)("div",{className:"space-y-2",children:[D.slice(0,2).map((e,t)=>(0,fs.jsxs)("div",{className:"text-sm",children:[(0,fs.jsx)("div",{className:"font-medium",children:e.Statute_Name}),(0,fs.jsxs)("div",{className:"text-gray-500",children:[e.section_count," sections \u2022 Mapped fields: ",P.filter(e=>e.enabled).length]})]},t)),D.length>2&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:["... and ",D.length-2," more"]})]})]})]})]})})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,fs.jsx)("div",{className:"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:()=>A("progress"),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,fs.jsx)(ks,{className:"w-5 h-5 mr-2"}),"Progress Tracking"]}),k.has("progress")?(0,fs.jsx)(Es,{className:"w-5 h-5 text-gray-500"}):(0,fs.jsx)(ur,{className:"w-5 h-5 text-gray-500"})]})}),k.has("progress")&&T&&(0,fs.jsxs)("div",{className:"p-6",children:[(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,fs.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(js,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:T.total_statutes}),(0,fs.jsx)("div",{className:"text-sm text-blue-700",children:"Total Statutes"})]})]})}),(0,fs.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(zs,{className:"w-8 h-8 text-green-600 mr-3"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-900",children:T.processed_statutes}),(0,fs.jsx)("div",{className:"text-sm text-green-700",children:"Processed Statutes"})]})]})}),(0,fs.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ns,{className:"w-8 h-8 text-purple-600 mr-3"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:T.total_sections}),(0,fs.jsx)("div",{className:"text-sm text-purple-700",children:"Total Sections"})]})]})}),(0,fs.jsx)("div",{className:"bg-orange-50 p-4 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(rr,{className:"w-8 h-8 text-orange-600 mr-3"}),(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"text-2xl font-bold text-orange-900",children:[Math.round(T.overall_progress),"%"]}),(0,fs.jsx)("div",{className:"text-sm text-orange-700",children:"Overall Progress"})]})]})})]}),(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,fs.jsx)("span",{children:"Normalization Progress"}),(0,fs.jsxs)("span",{children:[Math.round(T.normalization_progress),"%"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(T.normalization_progress,"%")}})})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,fs.jsx)("span",{children:"Sorting Progress"}),(0,fs.jsxs)("span",{children:[Math.round(T.sorting_progress),"%"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(T.sorting_progress,"%")}})})]})]}),(0,fs.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)(Us,{className:"w-4 h-4 mr-2"}),"Last Updated: ",new Date(T.last_updated).toLocaleString()]}),(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(zs,{className:"w-4 h-4 mr-2 text-green-600"}),"Status: ",T.current_phase]})]})})]})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,fs.jsx)("div",{className:"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50",onClick:()=>A("history"),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,fs.jsx)(wr,{className:"w-5 h-5 mr-2"}),"Normalization History"]}),k.has("history")?(0,fs.jsx)(Es,{className:"w-5 h-5 text-gray-500"}):(0,fs.jsx)(ur,{className:"w-5 h-5 text-gray-500"})]})}),k.has("history")&&(0,fs.jsxs)("div",{className:"p-6",children:[(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsx)("div",{className:"border-l-4 border-blue-500 pl-4",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"font-medium text-gray-900",children:"Normalization Completed"}),(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:[u.length," statutes processed with ",u.reduce((e,t)=>e+t.section_count,0)," sections"]})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:(new Date).toLocaleString()})]})}),(0,fs.jsx)("div",{className:"border-l-4 border-green-500 pl-4",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"font-medium text-gray-900",children:"Section Sorting Applied"}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Preamble, numeric, and text sections sorted according to rules"})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:(new Date).toLocaleString()})]})}),(0,fs.jsx)("div",{className:"border-l-4 border-purple-500 pl-4",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"font-medium text-gray-900",children:"Field Mapping Configured"}),(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:[P.filter(e=>e.enabled).length," active field mappings"]})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:(new Date).toLocaleString()})]})})]}),(0,fs.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800",children:[(0,fs.jsx)("strong",{children:"Note:"})," This is a preview of normalization history. Full history tracking will be implemented with backend integration."]})]})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Structure Information"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Output Schema"}),(0,fs.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-sm font-mono",children:[(0,fs.jsx)("div",{children:"{"}),(0,fs.jsx)("div",{className:"ml-4",children:'"Statute_Name": "string",'}),(0,fs.jsx)("div",{className:"ml-4",children:'"Sections": ['}),(0,fs.jsx)("div",{className:"ml-8",children:"{"}),(0,fs.jsx)("div",{className:"ml-12",children:'"number": "string",'}),(0,fs.jsx)("div",{className:"ml-12",children:'"definition": "string",'}),(0,fs.jsx)("div",{className:"ml-12",children:'"year": "number",'}),(0,fs.jsx)("div",{className:"ml-8",children:"}"}),(0,fs.jsx)("div",{className:"ml-4",children:"]"}),(0,fs.jsx)("div",{children:"}"})]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Section Types"}),(0,fs.jsxs)("div",{className:"space-y-2",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Preamble - Always sorted first"})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Numeric - Sorted by value"})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("div",{className:"w-4 h-4 bg-gray-500 rounded"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700",children:"Text - Sorted alphabetically"})]})]}),(0,fs.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800",children:[(0,fs.jsx)("strong",{children:"Note:"})," Each statute is now a single document containing all its sections, making it easier to work with related legal content as a cohesive unit."]})]})]})]}),(0,fs.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"text-sm text-gray-600",children:["Total: ",u.length," statute group(s) \u2022 Total sections: ",u.reduce((e,t)=>e+t.section_count,0)," \u2022 Showing: ",D.length," filtered \u2022 Data structure: Grouped with sorted sections"]})})]})},Cr=()=>{const{user:e}=gs(),[t,n]=(0,s.useState)("overview"),[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(null),[x,g]=(0,s.useState)(""),[y,b]=(0,s.useState)(""),[v,j]=(0,s.useState)(null),[N,w]=(0,s.useState)({source_collection:"raw_statutes",target_collection:"normalized_statutes",database_name:"Statutes",sorted_collection:"sorted_statutes"}),S=async()=>{a(!0),p(null),c(null),g("Initializing normalization process..."),b("Preparing service request and validating configuration"),j(null);try{g("Preparing normalization request"),b("Source: ".concat(N.source_collection," \u2192 Target: ").concat(N.target_collection));const n=N.database_name||"Statutes",s={source_db:n,target_db:N.database_name||"Statutes",options:{source_collection:N.source_collection,target_collection:N.target_collection,sorted_collection:N.sorted_collection,save_metadata:l,batch_size:1e3,legacy_compatibility:!0,same_database_mode:!0,actual_database:n}};g("Sending request to normalization service"),b("Connecting to backend service endpoint...");const r=await fetch("/api/v1/phase2/start-normalization",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(s)});g("Processing service response"),b("Analyzing normalization results...");const a=await r.json();var e;if(!r.ok)throw new Error((null===(e=a.detail)||void 0===e?void 0:e.message)||a.message||"Normalization failed");{var t;g("Normalization completed successfully!"),b("Processed statutes and created normalized collection");const e={success:a.success,message:a.message,metadata:(null===(t=a.data)||void 0===t?void 0:t.metadata)||a.data||{},timestamp:a.timestamp,service_based:!0,migration_note:"Using modern service-based normalization"};c(e),g("Refreshing status dashboard"),b("Updating progress indicators..."),await k(),g("Ready for next phase"),b("Normalization completed successfully - ready to proceed")}}catch(n){g("Error occurred during normalization"),b(n instanceof Error?n.message:"An unexpected error occurred"),p(n instanceof Error?n.message:"An unexpected error occurred")}finally{a(!1),setTimeout(()=>{r||(g(""),b(""),j(null))},3e3)}},k=async()=>{try{const e=await fetch("/api/v1/phase2/normalization-status",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(N)});if(e.ok){const t=await e.json();h(t)}}catch(e){console.error("Failed to get status:",e)}},_=async()=>{try{const e=await fetch("/api/v1/phase2/preview-source-normalization",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(N)});if(e.ok){const t=await e.json();return void u(t)}const t=await fetch("/api/v1/phase2/preview-normalized-structure?limit=5",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(N)});if(t.ok){const e=await t.json();u(e)}else p("Failed to preview structure - no source or normalized data available")}catch(e){p(e instanceof Error?e.message:"Failed to preview data")}},C=async()=>{if(window.confirm("Are you sure you want to rollback the normalization? This will delete all normalized data."))try{const t=await fetch("/api/v1/phase2/rollback",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(N)});if(t.ok)c(null),u(null),await k(),p(null);else{var e;const n=await t.json();p((null===(e=n.detail)||void 0===e?void 0:e.message)||n.message||"Rollback failed")}}catch(t){p(t instanceof Error?t.message:"Rollback failed")}},E=(e,t)=>{w(n=>It(It({},n),{},{[e]:t}))},P=()=>{w({source_collection:"raw_statutes",target_collection:"normalized_statutes",database_name:"Statutes",sorted_collection:"sorted_statutes"})};s.useEffect(()=>{k()},[]);const O=[{id:"overview",label:"Overview",icon:js},{id:"statute-names",label:"Statute Name Normalizer",icon:Ns},{id:"results",label:"Results Preview",icon:Ls}];return(0,fs.jsxs)("div",{className:"p-4",children:[(0,fs.jsxs)("div",{className:"mb-4",children:[(0,fs.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Phase 2: Database Normalization"}),(0,fs.jsx)("p",{className:"text-gray-600 mt-1 text-sm",children:"Normalize and structure your legal documents with intelligent grouping and sorting"})]}),(0,fs.jsx)("div",{className:"border-b border-gray-200 mb-4",children:(0,fs.jsx)("nav",{className:"-mb-px flex space-x-8",children:O.map(e=>{const s=e.icon;return(0,fs.jsxs)("button",{onClick:()=>n(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center ".concat(t===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(s,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),f&&(0,fs.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ys,{className:"w-5 h-5 text-red-400 mr-2"}),(0,fs.jsx)("div",{className:"text-red-800",children:f})]})}),(()=>{var e,n,s,a,c,u;switch(t){case"overview":return(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(ks,{className:"w-5 h-5 mr-2"}),"Normalization Status"]}),m?(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=m.raw_count)||void 0===e?void 0:e.toLocaleString())||0}),(0,fs.jsx)("div",{className:"text-sm text-blue-600",children:"Raw Documents"})]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(n=m.normalized_count)||void 0===n?void 0:n.toLocaleString())||0}),(0,fs.jsx)("div",{className:"text-sm text-green-600",children:"Normalized Statutes"})]}),(0,fs.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(s=m.unique_statutes)||void 0===s?void 0:s.toLocaleString())||0}),(0,fs.jsx)("div",{className:"text-sm text-purple-600",children:"Unique Statutes"})]})]}):(0,fs.jsx)("div",{className:"text-gray-500",children:"Loading status..."})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(tr,{className:"w-5 h-5 mr-2"}),"Database Configuration"]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Database Name"}),(0,fs.jsx)("input",{type:"text",value:N.database_name,onChange:e=>E("database_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Statutes"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Collection"}),(0,fs.jsx)("input",{type:"text",value:N.source_collection,onChange:e=>E("source_collection",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"raw_statutes",disabled:!N.database_name})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Collection"}),(0,fs.jsx)("input",{type:"text",value:N.target_collection,onChange:e=>E("target_collection",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"normalized_statutes",disabled:!N.database_name})]})]}),(0,fs.jsxs)("div",{className:"flex justify-between items-center",children:[(0,fs.jsx)("button",{onClick:P,className:"text-gray-600 hover:text-gray-800 text-sm underline",children:"Reset to Defaults"}),(0,fs.jsxs)("div",{className:"text-sm text-gray-500",children:["Current: ",N.source_collection," \u2192 ",N.target_collection]})]})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(Is,{className:"w-5 h-5 mr-2"}),"Normalization Controls"]}),(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:l,onChange:e=>i(e.target.checked),className:"mr-2"}),"Save metadata to file"]}),(0,fs.jsx)("button",{onClick:S,disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center",children:r?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Ms,{className:"w-4 h-4 mr-2 animate-spin"}),x||"Processing..."]}):(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Execute Normalization"]})})]}),r&&(0,fs.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Processing Status"}),(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ms,{className:"w-4 h-4 text-blue-600 animate-spin mr-2"}),(0,fs.jsx)("span",{className:"text-sm text-blue-700",children:"In Progress"})]})]}),x&&(0,fs.jsx)("div",{className:"text-sm text-blue-800 font-medium mb-1",children:x}),y&&(0,fs.jsx)("div",{className:"text-xs text-blue-600",children:y}),v&&(0,fs.jsxs)("div",{className:"mt-3",children:[(0,fs.jsxs)("div",{className:"flex justify-between text-xs text-blue-600 mb-1",children:[(0,fs.jsx)("span",{children:"Progress"}),(0,fs.jsxs)("span",{children:[v.processed," / ",v.total]})]}),(0,fs.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(v.processed/v.total*100,"%")}})})]})]}),f&&(0,fs.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)(Ys,{className:"w-4 h-4 text-red-600 mr-2"}),(0,fs.jsx)("h4",{className:"text-sm font-medium text-red-900",children:"Error Details"})]}),(0,fs.jsx)("div",{className:"text-sm text-red-800 mb-2",children:f}),(0,fs.jsxs)("div",{className:"text-xs text-red-600",children:[(0,fs.jsx)("strong",{children:"Suggestions:"}),(0,fs.jsxs)("ul",{className:"mt-1 ml-4 list-disc",children:[(0,fs.jsx)("li",{children:"Check database connection and permissions"}),(0,fs.jsx)("li",{children:"Verify source collection exists and contains data"}),(0,fs.jsx)("li",{children:"Ensure target collection name is valid"}),(0,fs.jsx)("li",{children:"Try refreshing the page and attempting again"})]})]})]}),(0,fs.jsxs)("div",{className:"flex space-x-2",children:[(0,fs.jsxs)("button",{onClick:_,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center",children:[(0,fs.jsx)(Ls,{className:"w-4 h-4 mr-2"}),"Preview Structure"]}),(0,fs.jsxs)("button",{onClick:C,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center",children:[(0,fs.jsx)(xr,{className:"w-4 h-4 mr-2"}),"Rollback"]})]})]})]}),o&&(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(zs,{className:"w-5 h-5 mr-2 text-green-600"}),"Normalization Results"]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-green-800 font-medium",children:o.message}),o.metadata&&(0,fs.jsxs)("div",{className:"mt-3 text-sm text-green-700",children:[(0,fs.jsxs)("div",{children:["Processed: ",(null===(a=o.metadata.total_documents_processed)||void 0===a?void 0:a.toLocaleString())||0," documents"]}),(0,fs.jsxs)("div",{children:["Unique Statutes: ",(null===(c=o.metadata.unique_statutes)||void 0===c?void 0:c.toLocaleString())||0]}),(0,fs.jsxs)("div",{children:["Total Sections: ",(null===(u=o.metadata.total_sections)||void 0===u?void 0:u.toLocaleString())||0]}),o.metadata.metadata_file_path&&(0,fs.jsxs)("div",{children:["Metadata saved to: ",o.metadata.metadata_file_path]})]})]})]}),d&&(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,fs.jsx)(Ls,{className:"w-5 h-5 mr-2"}),"Normalized Structure Preview"]}),(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-blue-800 font-medium",children:d.message}),(d.total_statutes||d.unique_statutes_found)&&(0,fs.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:[d.total_statutes&&"Total statutes: ".concat(d.total_statutes.toLocaleString()),d.unique_statutes_found&&"Unique statutes found: ".concat(d.unique_statutes_found.toLocaleString()),d.total_raw_documents&&" (from ".concat(d.total_raw_documents.toLocaleString()," raw documents)")]}),d.preview_data&&d.preview_data.length>0&&(0,fs.jsxs)("div",{className:"mt-3",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-2",children:"Sample Data Structure:"}),(0,fs.jsx)("div",{className:"space-y-2",children:d.preview_data.map((e,t)=>{var n;return(0,fs.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,fs.jsx)("div",{className:"font-medium text-blue-900",children:e.normalized_name||e.statute_name||e.Statute_Name}),e.original_name&&e.original_name!==e.normalized_name&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Original: ",e.original_name]}),(0,fs.jsxs)("div",{className:"text-sm text-blue-700",children:[e.section_count||(null===(n=e.Sections)||void 0===n?void 0:n.length)||0," sections"]}),e.sections_preview&&e.sections_preview.length>0&&(0,fs.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:[(0,fs.jsx)("div",{className:"font-medium",children:"Sample sections:"}),e.sections_preview.slice(0,3).map((e,t)=>(0,fs.jsxs)("div",{className:"ml-2",children:["\u2022 ",e.section_number||e.section_type,": ",e.definition||e.content_preview||""]},t))]})]},t)})})]})]})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"How It Works"}),(0,fs.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)("div",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mr-3 mt-0.5",children:"1"}),(0,fs.jsx)("div",{children:"Read all documents from the raw_statutes collection"})]}),(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)("div",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mr-3 mt-0.5",children:"2"}),(0,fs.jsx)("div",{children:"Normalize statute names (remove whitespace, title case, clean special characters)"})]}),(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)("div",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mr-3 mt-0.5",children:"3"}),(0,fs.jsx)("div",{children:"Group all sections by normalized statute name"})]}),(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)("div",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mr-3 mt-0.5",children:"4"}),(0,fs.jsx)("div",{children:"Sort sections: preamble first, then numeric, then text"})]}),(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)("div",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mr-3 mt-0.5",children:"5"}),(0,fs.jsx)("div",{children:"Build new documents with Statute_Name and Sections array"})]})]})]})]});case"statute-names":return(0,fs.jsx)(br,{config:N});case"results":return(0,fs.jsx)(_r,{config:N});default:return null}})()]})},Er=vs("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),Pr={source_database:"Statutes",source_collection:"normalized_statutes",target_database:"Batched-Statutes",target_collection_prefix:"batch_",batch_size:10,enable_ai_cleaning:!1},Or=()=>{var e,t,n,r,a,l,i,o,c,d,u,m,h,f,p,x,g,y,b,v,j,N,w,S;const[k,_]=(0,s.useState)("overview"),[C,E]=(0,s.useState)(Pr),[P,O]=(0,s.useState)(!1),[T,R]=(0,s.useState)(null),[L,A]=(0,s.useState)(null),[F,D]=(0,s.useState)(null),[z,M]=(0,s.useState)(""),[U,I]=(0,s.useState)(""),[B,q]=(0,s.useState)(null),[V,H]=(0,s.useState)(null),[Q,W]=(0,s.useState)(null),[$,K]=(0,s.useState)(null),[J,G]=(0,s.useState)(null),[Y,X]=(0,s.useState)(null),[Z,ee]=(0,s.useState)([]),[te,ne]=(0,s.useState)(!0),[se,re]=(0,s.useState)(!0),[ae,le]=(0,s.useState)(null),[ie,oe]=(0,s.useState)(!0),[ce,de]=(0,s.useState)({}),[ue,me]=(0,s.useState)({});(0,s.useEffect)(()=>{const e=localStorage.getItem("phase3_config");if(e)try{E(JSON.parse(e))}catch(t){console.error("Error loading Phase 3 config:",t)}},[]),(0,s.useEffect)(()=>{localStorage.setItem("phase3_config",JSON.stringify(C))},[C]);const he=e=>{const t=It(It({},C),e);if(E(t),"target_collection_prefix"in e){const t=e.target_collection_prefix;fe(t)}},fe=e=>{if(!e||!e.trim())return W("Prefix cannot be empty"),!1;return/^[A-Za-z0-9_-]{1,50}$/.test(e.trim())?e.trim().startsWith("$")||e.trim().toLowerCase().startsWith("system")?(W('Prefix cannot start with "$" or "system"'),!1):(W(null),!0):(W("Use only letters, numbers, underscore or hyphen (1-50 chars)"),!1)},pe=async()=>{try{const e=await fetch("/api/v1/phase3/status");if(e.ok){const t=await e.json();R(t)}}catch(e){console.error("Error fetching Phase 3 status:",e)}},xe=async()=>{await pe(),"pakistan-law-validation"===k&&await be(),"statistics"===k&&await ge()},ge=async()=>{try{const e=await fetch("/api/v1/phase3/statistics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok){const t=await e.json();A(t)}}catch(e){console.error("Error fetching Phase 3 statistics:",e)}},ye=async()=>{try{const e=await fetch("/api/v1/phase3/history");if(e.ok){const t=await e.json();K(t)}}catch(e){console.error("Error fetching history:",e)}},be=async()=>{try{const e=await fetch("/api/v1/phase3/available-batches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok){const t=await e.json();G(t)}}catch(e){console.error("Error fetching available batches:",e)}},ve=async()=>{try{const e=await fetch("/api/v1/phase3/generate-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok){const t=await e.json();alert("Metadata generated successfully! File: ".concat(t.metadata_file)),ye()}else{const t=await e.json();alert("Error generating metadata: ".concat(t.detail))}}catch(e){console.error("Error generating metadata:",e),alert("Failed to generate metadata")}},je=async()=>{O(!0),H(null),M("Initializing section splitting process..."),I("Preparing to analyze and split statute sections"),q(null);try{M("Preparing section splitting request"),I("Source: ".concat(C.source_database,".").concat(C.source_collection," \u2192 Target: ").concat(C.target_database,".").concat(C.target_collection_prefix,"*")),M("Connecting to section splitting service"),I("Analyzing statute structure and splitting into batches...");const e=await fetch("/api/v1/phase3/start-section-splitting",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(M("Processing section splitting results"),I("Analyzing split sections and organizing data..."),!e.ok){const t=await e.json();throw new Error(t.detail||"Section splitting failed")}{const t=await e.json();M("Section splitting completed successfully!"),I("Successfully created ".concat(t.batches_created||0," batch collections"));const n=t.batches_created||0;q({processed:n,total:n,operation:"Section Splitting"}),pe(),setTimeout(()=>{M(""),I(""),q(null)},3e3)}}catch(e){M("Error during section splitting");const t=e instanceof Error?e.message:"Failed to start section splitting";I(t),H(t)}finally{O(!1)}},Ne=e=>{ee(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};(0,s.useEffect)(()=>{pe(),ge()},[]),(0,s.useEffect)(()=>{"pakistan-law-validation"===k&&be()},[k]);const we=[{id:"overview",name:"Overview",icon:js},{id:"section-splitting",name:"Section Splitting",icon:Er},{id:"field-cleaning",name:"Field Cleaning",icon:ws},{id:"pakistan-law-validation",name:"Pakistan Law Validation",icon:Ns},{id:"preview",name:"Batch Preview",icon:Ls},{id:"statistics",name:"Statistics",icon:tr},{id:"history",name:"History",icon:wr}];return(0,fs.jsxs)("div",{className:"space-y-0",children:[(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2",children:[(0,fs.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:"Phase 3: Field Cleaning & Splitting"}),(0,fs.jsx)("p",{className:"text-gray-600 text-sm",children:"Split normalized statutes into batches, then clean each batch using CLI logic"})]}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mt-2",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,fs.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Current Configuration"}),(0,fs.jsxs)("button",{onClick:()=>{E(Pr)},className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,fs.jsx)(xr,{className:"h-4 w-4 mr-1"}),"Reset to Defaults"]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-gray-700",children:"Source DB:"}),(0,fs.jsx)("input",{type:"text",value:C.source_database,onChange:e=>he({source_database:e.target.value}),className:"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-gray-700",children:"Source Collection:"}),(0,fs.jsx)("input",{type:"text",value:C.source_collection,onChange:e=>he({source_collection:e.target.value}),className:"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-gray-700",children:"Target DB:"}),(0,fs.jsx)("input",{type:"text",value:C.target_database,onChange:e=>he({target_database:e.target.value}),className:"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-gray-700",children:"Batch Prefix:"}),(0,fs.jsx)("input",{type:"text",value:C.target_collection_prefix,onChange:e=>he({target_collection_prefix:e.target.value}),className:"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full"}),Q&&(0,fs.jsx)("div",{className:"text-xs text-red-600 mt-1",children:Q})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-gray-700",children:"Number of Batches:"}),(0,fs.jsx)("input",{type:"number",value:C.batch_size,onChange:e=>he({batch_size:parseInt(e.target.value)||10}),className:"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-16",min:"1",max:"50"})]})]})]}),(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mt-2",children:(0,fs.jsx)("nav",{className:"flex space-x-8 px-4","aria-label":"Tabs",children:we.map(e=>{const t=e.icon;return(0,fs.jsxs)("button",{onClick:()=>_(e.id),className:"py-3 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(k===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(t,{className:"h-4 w-4"}),(0,fs.jsx)("span",{children:e.name})]},e.id)})})}),(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mt-2",children:["overview"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-blue-900 mb-2 flex items-center",children:[(0,fs.jsx)(Er,{className:"h-5 w-5 mr-2"}),"Section Splitting"]}),(0,fs.jsxs)("p",{className:"text-blue-700 text-sm mb-3",children:["Split normalized statutes from ",C.source_database,".",C.source_collection," into ",C.batch_size," equal batches in ",C.target_database,"."]}),(0,fs.jsx)("button",{onClick:je,disabled:P,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Ms,{className:"w-4 h-4 mr-2 inline animate-spin"}),z||"Processing..."]}):"Start Section Splitting"})]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-green-900 mb-2 flex items-center",children:[(0,fs.jsx)(ws,{className:"h-5 w-5 mr-2"}),"Field Cleaning"]}),(0,fs.jsx)("p",{className:"text-green-700 text-sm mb-3",children:"Clean each batch using CLI logic: drop unnecessary fields, bring common fields up, handle single sections, remove duplicates, and sort sections."}),(0,fs.jsx)("button",{onClick:async()=>{O(!0),H(null),M("Initializing field cleaning process..."),I("Preparing to clean and validate field data"),q(null);try{M("Preparing field cleaning request"),I("Scheduling cleaning for collections with prefix: ".concat(C.target_collection_prefix)),M("Scheduling field cleaning on server"),I("Requesting server to start field cleaning in background...");const e=await fetch("/api/v1/phase3/start-field-cleaning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(M("Processing field cleaning results"),I("Validating cleaned data and updating collections..."),!e.ok){const t=await e.json();throw new Error(t.detail||"Field cleaning scheduling failed")}{const t=(await e.json()).batches_scheduled||[];M("Field cleaning scheduled"),I("Cleaning scheduled for ".concat(t.length," batches. Server is processing in background.")),q({processed:t.length,total:t.length||1,operation:"Field Cleaning"}),pe(),be(),ye(),setTimeout(()=>{M(""),I("")},3e3)}}catch(e){M("Error during field cleaning");const t=e instanceof Error?e.message:"Failed to start field cleaning";I(t),H(t)}finally{O(!1)}},disabled:P||!!Q,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Ms,{className:"w-4 h-4 mr-2 inline animate-spin"}),z||"Processing..."]}):"Start Field Cleaning"})]})]}),P&&(0,fs.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Processing Status"}),(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ms,{className:"w-5 h-5 text-blue-600 animate-spin mr-2"}),(0,fs.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"In Progress"})]})]}),z&&(0,fs.jsxs)("div",{className:"mb-3",children:[(0,fs.jsx)("div",{className:"text-base font-medium text-gray-800 mb-1",children:z}),U&&(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:U})]}),B&&(0,fs.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:B.operation}),(0,fs.jsxs)("span",{className:"text-sm text-gray-600",children:[B.processed.toLocaleString()," processed"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,fs.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(B.processed/B.total*100,"%")}})})]})]}),V&&(0,fs.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)(Ys,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5"}),(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("h3",{className:"text-base font-medium text-red-900 mb-2",children:"Operation Failed"}),(0,fs.jsx)("div",{className:"text-sm text-red-800 mb-3",children:V}),(0,fs.jsxs)("div",{className:"text-xs text-red-600",children:[(0,fs.jsx)("strong",{children:"Troubleshooting Steps:"}),(0,fs.jsxs)("ul",{className:"mt-2 ml-4 list-disc space-y-1",children:[(0,fs.jsx)("li",{children:"Verify database connection is active"}),(0,fs.jsx)("li",{children:"Check that source collections contain data"}),(0,fs.jsx)("li",{children:"Ensure sufficient permissions for target database"}),(0,fs.jsx)("li",{children:"Review configuration settings for accuracy"}),(0,fs.jsx)("li",{children:"Try refreshing the page and attempting the operation again"})]})]}),(0,fs.jsx)("button",{onClick:()=>H(null),className:"mt-3 text-sm text-red-600 hover:text-red-800 underline",children:"Dismiss error"})]})]})}),T&&(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Current Status"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:null!==(e=T.collection_status)&&void 0!==e&&e.source_exists?"\u2705":"\u274c"}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Source Collection"}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:[C.source_database,".",C.source_collection]}),(null===(t=T.collection_status)||void 0===t?void 0:t.source_count)>0&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:[T.collection_status.source_count," documents"]})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:null!==(n=T.collection_status)&&void 0!==n&&n.target_database_exists?"\u2705":"\u274c"}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Target Database"}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:C.target_database})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(r=T.collection_status)||void 0===r?void 0:r.batch_count)||0}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Batch Collections"}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:[C.target_collection_prefix,"1, ",C.target_collection_prefix,"2, ..."]})]})]})]}),(0,fs.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Rollback"}),(0,fs.jsx)("p",{className:"text-red-700 text-sm mb-3",children:"Rollback Phase 3 changes and restore previous state if needed."}),(0,fs.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to rollback Phase 3? This will delete all created batch collections and databases."))try{const e=await fetch("/api/v1/phase3/rollback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok){await e.json();alert("Phase 3 rollback completed successfully!"),pe(),ge()}else{const t=await e.json();alert("Error rolling back Phase 3: ".concat(t.detail))}}catch(e){console.error("Error rolling back Phase 3:",e),alert("Failed to rollback Phase 3")}},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Rollback Phase 3"})]})]}),"section-splitting"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Section Splitting Configuration"}),(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,fs.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Section Splitting Process"}),(0,fs.jsxs)("ul",{className:"text-blue-700 text-sm space-y-1",children:[(0,fs.jsxs)("li",{children:["\u2022 Read all documents from ",C.source_database,".",C.source_collection]}),(0,fs.jsxs)("li",{children:["\u2022 Split into exactly ",C.batch_size," batches with documents distributed evenly"]}),(0,fs.jsxs)("li",{children:["\u2022 Create collections: ",C.target_collection_prefix,"1, ",C.target_collection_prefix,"2, ..."]}),(0,fs.jsx)("li",{children:"\u2022 Distribute statutes across batches as evenly as possible"}),(0,fs.jsx)("li",{children:"\u2022 Maintain section structure and metadata"})]})]}),(0,fs.jsxs)("div",{className:"flex space-x-4",children:[(0,fs.jsx)("button",{onClick:je,disabled:P||!!Q,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Processing...":"Start Section Splitting"}),(0,fs.jsx)("button",{onClick:ve,className:"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700",children:"Generate Metadata"})]})]}),"field-cleaning"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Field Cleaning Configuration"}),(0,fs.jsx)("button",{onClick:be,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Load Available Batches"})]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,fs.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Field Cleaning Process (per batch)"}),(0,fs.jsxs)("ul",{className:"text-green-700 text-sm space-y-1",children:[(0,fs.jsxs)("li",{children:["\u2022 ",(0,fs.jsx)("strong",{children:"Drop unnecessary fields:"})," Keep only essential fields for processing"]}),(0,fs.jsxs)("li",{children:["\u2022 ",(0,fs.jsx)("strong",{children:"Bring common fields up:"})," Move fields common across all sections to statute level"]}),(0,fs.jsxs)("li",{children:["\u2022 ",(0,fs.jsx)("strong",{children:"Clean single-section statutes:"})," Handle single-section statutes specially"]}),(0,fs.jsxs)("li",{children:["\u2022 ",(0,fs.jsx)("strong",{children:"Remove preamble duplicates:"})," Remove duplicate preamble sections"]}),(0,fs.jsxs)("li",{children:["\u2022 ",(0,fs.jsx)("strong",{children:"Sort sections:"})," Preamble first, then numeric, then text"]}),(0,fs.jsxs)("li",{children:["\u2022 ",(0,fs.jsx)("strong",{children:"Validate Pakistan law:"})," Drop non-Pakistan laws using CLI logic"]})]})]}),(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Cleaning Options"}),(0,fs.jsxs)("div",{className:"space-y-3",children:[(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"radio",name:"cleaningMode",checked:te,onChange:()=>ne(!0),className:"mr-2"}),(0,fs.jsx)("span",{className:"font-medium",children:"Clean All Batches"})]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"radio",name:"cleaningMode",checked:!te,onChange:()=>ne(!1),className:"mr-2"}),(0,fs.jsx)("span",{className:"font-medium",children:"Clean Selected Batches"})]})]}),!te&&J&&(0,fs.jsxs)("div",{className:"mt-4",children:[(0,fs.jsx)("h5",{className:"font-medium text-gray-700 mb-2",children:"Select Batches to Clean:"}),(0,fs.jsx)("div",{className:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:J.batches.map(e=>(0,fs.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,fs.jsx)("input",{type:"checkbox",checked:Z.includes(e.batch_number),onChange:()=>Ne(e.batch_number),className:"rounded"}),(0,fs.jsxs)("span",{className:e.is_cleaned?"text-green-600":"text-gray-700",children:[e.batch_name," (",e.document_count," docs)",e.is_cleaned&&(0,fs.jsx)("span",{className:"text-xs",children:" \u2713"})]})]},e.batch_number))}),(0,fs.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Selected: ",Z.length," batches. Green items are already cleaned."]})]})]}),(0,fs.jsxs)("div",{className:"flex space-x-4",children:[(0,fs.jsx)("button",{onClick:async()=>{O(!0);try{const e={target_database:C.target_database,target_collection_prefix:C.target_collection_prefix,batch_numbers:te?null:Z,clean_all:te},t=await fetch("/api/v1/phase3/clean-batches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){await t.json();alert("Batch cleaning started successfully!"),xe(),ye()}else{const e=await t.json();alert("Error starting batch cleaning: ".concat(e.detail||e.message||"Unknown error"))}}catch(e){console.error("Error starting batch cleaning:",e),alert("Failed to start batch cleaning")}finally{O(!1)}},disabled:P||!!Q||!te&&0===Z.length,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P?"Processing...":te?"Clean All Batches":"Clean ".concat(Z.length," Selected Batches")}),(0,fs.jsx)("button",{onClick:ve,className:"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700",children:"Generate Metadata"}),(0,fs.jsx)("button",{onClick:xe,className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700",children:"Refresh Status"}),(0,fs.jsx)("button",{onClick:async()=>{try{O(!0);const e=await fetch("/api/v1/phase3/batch-diagnostics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok){const t=await e.json();X(t.batches||[])}else{const t=await e.json();alert("Diagnostics failed: "+(t.detail||t.message))}}catch(ha){console.error("Diagnostics error",ha),alert("Diagnostics failed")}finally{O(!1)}},className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Run Diagnostics"})]}),Y&&Y.length>0&&(0,fs.jsxs)("div",{className:"mt-4 bg-white p-3 rounded border text-sm",children:[(0,fs.jsx)("h4",{className:"font-medium mb-2",children:"Batch Diagnostics"}),Y.map(e=>(0,fs.jsxs)("div",{className:"mb-2",children:[(0,fs.jsx)("strong",{children:e.batch_name}),": total=",e.total_documents,", legacy_cleaned=",e.legacy_cleaned_count,", modern_cleaned=",e.modern_cleaned_count,", any_cleaned=",e.any_cleaned_count,(0,fs.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["legacy sample ids: ",e.legacy_samples.join(", ")||"none"]}),(0,fs.jsxs)("div",{className:"text-xs text-gray-600",children:["modern sample ids: ",e.modern_samples.join(", ")||"none"]})]},e.batch_name))]})]}),"pakistan-law-validation"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsxs)("label",{className:"flex items-center mr-4",children:[(0,fs.jsx)("input",{type:"checkbox",checked:se,onChange:e=>re(e.target.checked),className:"mr-2"}),(0,fs.jsx)("span",{className:"font-medium",children:"Dry Run (Preview Only)"})]}),(0,fs.jsx)("span",{className:"text-xs text-gray-500",children:"Preview which statutes will be dropped before actual deletion."})]}),(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsxs)("label",{className:"flex items-center mr-4",children:[(0,fs.jsx)("input",{type:"checkbox",checked:ie,onChange:e=>oe(e.target.checked),className:"mr-2"}),(0,fs.jsx)("span",{className:"font-medium text-sm",children:"Generate Metadata"})]}),(0,fs.jsx)("span",{className:"text-xs text-gray-500",children:"Save validation statistics and analysis."})]})]}),ae&&(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mt-4",children:[(0,fs.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900",children:"Validation Results"}),ae.metadata_file&&(0,fs.jsxs)("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:["\ud83d\udcc1 Metadata: ",ae.metadata_file]})]}),(0,fs.jsxs)("div",{className:"mb-2 text-sm",children:[(0,fs.jsx)("strong",{children:"Scanned:"})," ",ae.total_scanned," \xa0",(0,fs.jsx)("strong",{children:"Dropped:"})," ",ae.total_dropped," \xa0",(0,fs.jsx)("strong",{children:"Kept:"})," ",ae.total_kept," \xa0",(0,fs.jsx)("strong",{children:"Batches:"})," ",ae.processed_batches]}),ae.metadata&&(0,fs.jsxs)("div",{className:"mb-2 text-xs bg-white p-2 rounded border",children:[(0,fs.jsx)("strong",{children:"Drop Analysis:"}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,fs.jsxs)("div",{children:["Drop Rate: ",null===(a=ae.metadata.validation_results)||void 0===a||null===(l=a.drop_rate)||void 0===l?void 0:l.toFixed(1),"%"]}),(0,fs.jsxs)("div",{children:["Keep Rate: ",null===(i=ae.metadata.validation_results)||void 0===i||null===(o=i.keep_rate)||void 0===o?void 0:o.toFixed(1),"%"]})]}),(null===(c=ae.metadata.drop_reason_analysis)||void 0===c?void 0:c.top_drop_reasons)&&(0,fs.jsxs)("div",{className:"mt-1",children:[(0,fs.jsx)("strong",{children:"Top Reasons:"})," ",ae.metadata.drop_reason_analysis.top_drop_reasons.map(e=>{let[t,n]=e;return"".concat(t," (").concat(n,")")}).join(", ")]})]}),ae.dropped_docs.length>0&&(0,fs.jsxs)("div",{className:"mb-2",children:[(0,fs.jsx)("strong",{children:"Dropped Statutes:"}),(0,fs.jsx)("ul",{className:"list-disc ml-6 text-xs",children:ae.dropped_docs.map((e,t)=>(0,fs.jsxs)("li",{children:[e.name,(0,fs.jsxs)("span",{className:"text-red-600",children:[" (",e.reason,")"]}),(0,fs.jsxs)("span",{className:"text-gray-500",children:[" [",e.batch,"]"]})]},e.name+t))})]}),ae.kept_docs.length>0&&(0,fs.jsxs)("div",{className:"mb-2",children:[(0,fs.jsx)("strong",{children:"Kept Statutes:"}),(0,fs.jsx)("ul",{className:"list-disc ml-6 text-xs",children:ae.kept_docs.map((e,t)=>(0,fs.jsxs)("li",{children:[e.name,(0,fs.jsx)("span",{className:"text-green-600",children:" [Kept]"}),(0,fs.jsxs)("span",{className:"text-gray-500",children:[" [",e.batch,"]"]})]},e.name+t))})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:ae.dry_run?"No changes made (preview only)":"Non-Pakistan statutes have been dropped."})]}),(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Pakistan Law Validation Configuration"}),(0,fs.jsx)("button",{onClick:be,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Load Available Batches"})]}),(0,fs.jsx)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:(0,fs.jsxs)("ul",{className:"text-yellow-700 text-sm space-y-1",children:[(0,fs.jsx)("li",{children:"\u2022 Drop non-Pakistan laws using CLI logic"}),(0,fs.jsx)("li",{children:"\u2022 Validate all or selected batches"})]})}),(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,fs.jsxs)("div",{className:"space-y-3",children:[(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"radio",checked:te,onChange:()=>ne(!0),className:"mr-2"}),"Validate All"]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"radio",checked:!te,onChange:()=>ne(!1),className:"mr-2"}),"Validate Selected"]})]}),null===J&&(0,fs.jsx)("div",{className:"text-center py-4 text-gray-500",children:'Click "Load Available Batches" to load batches for validation'}),!te&&J&&J.batches.length>0&&(0,fs.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:J.batches.map(e=>(0,fs.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,fs.jsx)("input",{type:"checkbox",checked:Z.includes(e.batch_number),onChange:()=>Ne(e.batch_number),className:"rounded"}),(0,fs.jsxs)("span",{className:e.is_cleaned?"text-green-600":"text-gray-700",children:[e.batch_name," (",e.document_count,")"]})]},e.batch_number))})]}),J&&0===J.batches.length&&(0,fs.jsx)("div",{className:"text-center py-4 text-gray-500",children:"No batch collections found. Run section splitting first to create batches."}),(0,fs.jsxs)("div",{className:"flex space-x-4",children:[(0,fs.jsx)("button",{onClick:async()=>{O(!0),le(null);try{const e={target_database:C.target_database,target_collection_prefix:C.target_collection_prefix,batch_numbers:te?null:Z,clean_all:te},t="/api/v1/phase3/validate-pakistan-batches?dry_run=".concat(se,"&save_metadata=").concat(ie),n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const e=await n.json();le(e),pe(),ye()}else{const e=await n.json();alert("Error during validation: ".concat(e.message||e.detail))}}catch(e){console.error("Error validating Pakistan law batches:",e),alert("Pakistan law validation failed")}finally{O(!1)}},disabled:P||!!Q||!te&&0===Z.length,className:"bg-yellow-600 text-white px-6 py-2 rounded-md hover:bg-yellow-700 disabled:opacity-50",children:P?"Processing...":te?"Validate All":"Validate Selected"}),(0,fs.jsx)("button",{onClick:async()=>{O(!0);try{const e={target_database:C.target_database,target_collection_prefix:C.target_collection_prefix,batch_numbers:te?null:Z,clean_all:te},t=await fetch("/api/v1/phase3/preview-validation-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();alert("Metadata Preview:\n\nEstimated Documents: ".concat(e.estimated_documents,"\nBatches: ").concat(e.batches_to_process.length,"\n\nMetadata structure generated successfully!"))}else{const e=await t.json();alert("Error previewing metadata: ".concat(e.message||e.detail))}}catch(e){console.error("Error previewing validation metadata:",e),alert("Metadata preview failed")}finally{O(!1)}},disabled:P||!!Q||!te&&0===Z.length,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Preview Metadata"}),(0,fs.jsx)("button",{onClick:xe,className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700",children:"Refresh Status"})]})]}),"preview"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Batch Preview"}),(0,fs.jsx)("button",{onClick:async()=>{try{const e=await fetch("/api/v1/phase3/preview-batches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(e.ok){const t=await e.json();D(t)}}catch(e){console.error("Error fetching batch preview:",e)}},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Load Batch Preview"})]}),F?(0,fs.jsx)("div",{className:"space-y-4",children:F.batches.length>0?F.batches.map((e,t)=>{var n;return(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.batch_name}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium",children:"Documents:"})," ",e.document_count]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium",children:"Sample Documents:"})," ",(null===(n=e.sample_documents)||void 0===n?void 0:n.length)||0]})]}),e.sample_documents&&e.sample_documents.length>0&&(0,fs.jsxs)("div",{className:"space-y-2",children:[(0,fs.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Sample Documents (click to expand):"}),e.sample_documents.map((t,n)=>{var s;const r="".concat(e.batch_name,"-").concat(n),a=ce[r];return(0,fs.jsxs)("div",{className:"bg-white border rounded-lg",children:[(0,fs.jsxs)("div",{className:"p-3 cursor-pointer hover:bg-gray-50 flex items-center justify-between",onClick:()=>(e=>{de(t=>It(It({},t),{},{[e]:!t[e]}))})(r),children:[(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("div",{className:"font-medium text-sm text-gray-900",children:t.Statute_Name||"N/A"}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:[(null===(s=t.Sections)||void 0===s?void 0:s.length)||0," sections \u2022 Province: ",t.Province||"N/A"]})]}),(0,fs.jsx)("div",{className:"text-gray-400",children:a?"\u25bc":"\u25b6"})]}),a&&t.section_details&&(0,fs.jsx)("div",{className:"border-t border-gray-100",children:t.section_details.map((e,t)=>{const n="".concat(r,"-section-").concat(t),s=ue[n];return(0,fs.jsxs)("div",{className:"border-b border-gray-50 last:border-b-0",children:[(0,fs.jsxs)("div",{className:"p-3 pl-6 cursor-pointer hover:bg-gray-25 flex items-center justify-between",onClick:()=>(e=>{me(t=>It(It({},t),{},{[e]:!t[e]}))})(n),children:[(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("div",{className:"font-medium text-sm text-blue-900",children:e.section_title}),(0,fs.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.content_preview})]}),(0,fs.jsx)("div",{className:"text-gray-400 text-sm",children:s?"\u25bc":"\u25b6"})]}),s&&(0,fs.jsx)("div",{className:"p-3 pl-8 bg-gray-50 border-t border-gray-100",children:(0,fs.jsx)("div",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.content||"No content available"})})]},t)})}),a&&!t.section_details&&t.Sections&&(0,fs.jsxs)("div",{className:"border-t border-gray-100 p-3",children:[(0,fs.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Basic Section Info:"}),t.Sections.map((e,t)=>(0,fs.jsxs)("div",{className:"text-xs text-gray-700 mb-1",children:["\u2022 ",e.Section||"Section ".concat(t+1)]},t))]})]},n)})]})]},t)}):(0,fs.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,fs.jsx)(Ds,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,fs.jsx)("p",{children:"No batch collections found"}),(0,fs.jsx)("p",{className:"text-sm",children:"Run section splitting first to create batches"})]})}):(0,fs.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,fs.jsx)(Ls,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,fs.jsx)("p",{children:'Click "Load Batch Preview" to see batch collections'})]})]}),"statistics"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Processing Statistics"}),(0,fs.jsx)("button",{onClick:ge,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Load Statistics"})]}),L?(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(d=L.statistics)||void 0===d||null===(u=d.source_collection)||void 0===u?void 0:u.count)||0}),(0,fs.jsx)("div",{className:"text-sm text-blue-600",children:"Source Documents"}),(0,fs.jsx)("div",{className:"text-xs text-blue-500",children:null===(m=L.statistics)||void 0===m||null===(h=m.source_collection)||void 0===h?void 0:h.name}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:null!==(f=L.statistics)&&void 0!==f&&null!==(p=f.source_collection)&&void 0!==p&&p.exists?"\u2705 Exists":"\u274c Missing"})]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(x=L.statistics)||void 0===x||null===(g=x.target_database)||void 0===g||null===(y=g.batch_collections)||void 0===y?void 0:y.length)||0}),(0,fs.jsx)("div",{className:"text-sm text-green-600",children:"Batch Collections"}),(0,fs.jsx)("div",{className:"text-xs text-green-500",children:null===(b=L.statistics)||void 0===b||null===(v=b.target_database)||void 0===v?void 0:v.name}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:null!==(j=L.statistics)&&void 0!==j&&null!==(N=j.target_database)&&void 0!==N&&N.exists?"\u2705 Exists":"\u274c Missing"})]}),(null===(w=L.statistics)||void 0===w||null===(S=w.target_database)||void 0===S?void 0:S.batch_collections)&&(0,fs.jsxs)("div",{className:"md:col-span-2 bg-purple-50 p-4 rounded-lg",children:[(0,fs.jsx)("h4",{className:"font-medium text-purple-900 mb-2",children:"Batch Collections"}),(0,fs.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:L.statistics.target_database.batch_collections.map((e,t)=>(0,fs.jsx)("div",{className:"bg-white p-2 rounded text-center",children:(0,fs.jsx)("div",{className:"font-medium",children:e})},t))})]})]}):(0,fs.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,fs.jsx)(tr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,fs.jsx)("p",{children:"No statistics available"}),(0,fs.jsx)("button",{onClick:ge,className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Load Statistics"})]})]}),"history"===k&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Processing History"}),(0,fs.jsx)("button",{onClick:ye,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Refresh History"})]}),$?(0,fs.jsx)("div",{className:"space-y-4",children:$.history.length>0?(0,fs.jsx)("div",{className:"overflow-x-auto",children:(0,fs.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,fs.jsx)("thead",{className:"bg-gray-50",children:(0,fs.jsxs)("tr",{children:[(0,fs.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operation"}),(0,fs.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Database"}),(0,fs.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection"}),(0,fs.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,fs.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processed"}),(0,fs.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,fs.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:$.history.map((e,t)=>(0,fs.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,fs.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,fs.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("split"===e.operation_type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"split"===e.operation_type?"Section Splitting":"Field Cleaning"})}),(0,fs.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.database}),(0,fs.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.collection}),(0,fs.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,fs.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.total_processed," items"]}),(0,fs.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,fs.jsx)("button",{onClick:()=>window.open("/api/v1/phase3/history/".concat(e.filename),"_blank"),className:"text-indigo-600 hover:text-indigo-900",children:"View Details"})})]},t))})]})}):(0,fs.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,fs.jsx)(wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,fs.jsx)("p",{children:"No processing history found"}),(0,fs.jsx)("p",{className:"text-sm",children:"Run section splitting or field cleaning to generate history"})]})}):(0,fs.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,fs.jsx)(wr,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,fs.jsx)("p",{children:'Click "Refresh History" to load processing history'}),(0,fs.jsxs)("div",{className:"mt-4 text-xs text-gray-500",children:[(0,fs.jsx)("p",{children:"\u2022 Section splitting creates batch collections"}),(0,fs.jsx)("p",{children:"\u2022 Field cleaning processes each batch individually"}),(0,fs.jsx)("p",{children:"\u2022 All operations are logged with timestamps"}),(0,fs.jsx)("p",{children:"\u2022 Metadata files contain detailed statistics"})]})]})]})]})]})},Tr=vs("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Rr=vs("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Lr=vs("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),Ar=vs("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Fr=vs("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Dr=vs("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),zr=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)({progress:0}),[h,f]=(0,s.useState)({}),[p,x]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),[b,v]=(0,s.useState)(null),[j,N]=(0,s.useState)(null),[w,S]=(0,s.useState)(null),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{_(),C()},[]),(0,s.useEffect)(()=>{if(g){const e=setTimeout(()=>y(null),5e3);return()=>clearTimeout(e)}},[g]),(0,s.useEffect)(()=>()=>{k.current&&k.current.close()},[]);const _=async()=>{try{const e=await hs.get("/phase4/search/collections");t(e.data.collections),r(e.data.collections)}catch(e){x("Failed to fetch collections"),console.error("Fetch collections error:",e)}},C=async()=>{try{const e=await hs.get("/phase4/search/search-sessions");o(e.data.sessions)}catch(e){console.error("Fetch search sessions error:",e)}},E=e=>{k.current&&k.current.close();const t=new EventSource("http://localhost:8000/api/v1/phase4/search/progress-stream/".concat(e));k.current=t,t.onmessage=n=>{try{const s=JSON.parse(n.data);switch(s.type){case"connected":console.log("SSE connected for operation:",e);break;case"scan_progress":case"search_progress":m({progress:s.progress||0,current_collection:s.current_collection,collections_processed:s.collections_processed,total_collections:s.total_collections,current_statute:s.current_statute,processed_count:s.processed_count});break;case"scan_completed":l(s.results),d(e=>e?It(It({},e),{},{status:"completed"}):null),m({progress:100}),y("Scan completed successfully!"),t.close();break;case"search_completed":d(e=>e?It(It({},e),{},{status:"completed"}):null),m({progress:100}),y("AI search completed! Session ID: ".concat(s.session_id)),C(),t.close();break;case"scan_error":case"search_error":d(e=>e?It(It({},e),{},{status:"error"}):null),x(s.error||"Operation failed"),t.close();break;case"operation_stopped":d(e=>e?It(It({},e),{},{status:"stopped"}):null),y("Operation stopped successfully"),t.close()}}catch(s){console.error("SSE parsing error:",s)}},t.onerror=e=>{console.error("SSE error:",e),t.close()}};return(0,fs.jsxs)("div",{className:"p-6 space-y-6",children:[(0,fs.jsxs)("div",{className:"border-b border-gray-200 pb-4",children:[(0,fs.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[(0,fs.jsx)(cr,{className:"h-6 w-6 text-blue-600"}),"Date Search & Review"]}),(0,fs.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Find missing dates, export for review, and manage AI-powered date extraction"})]}),g&&(0,fs.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2",children:[(0,fs.jsx)(zs,{className:"h-5 w-5 text-green-600"}),(0,fs.jsx)("span",{className:"text-green-800",children:g})]}),p&&(0,fs.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[(0,fs.jsx)(Ys,{className:"h-5 w-5 text-red-600"}),(0,fs.jsx)("span",{className:"text-red-800",children:p}),(0,fs.jsx)("button",{onClick:()=>x(null),className:"ml-auto text-red-600 hover:text-red-800",children:"\xd7"})]}),(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Select Collections"}),(0,fs.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,fs.jsx)("button",{onClick:()=>{r(e)},className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"Select All"}),(0,fs.jsx)("button",{onClick:()=>{r([])},className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Clear All"}),(0,fs.jsxs)("span",{className:"text-sm text-gray-600 py-1",children:[n.length," of ",e.length," selected"]})]}),(0,fs.jsx)("div",{className:"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto",children:e.map(e=>(0,fs.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,fs.jsx)("input",{type:"checkbox",checked:n.includes(e),onChange:()=>(e=>{r(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),className:"rounded border-gray-300"}),(0,fs.jsx)("span",{className:"text-sm",children:e})]},e))})]}),c&&(0,fs.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-blue-900",children:["scan"===c.type?"Scanning Collections":"AI Date Search"," in Progress"]}),"running"===c.status&&(0,fs.jsxs)("button",{onClick:async()=>{if(c)try{f(e=>It(It({},e),{},{stop:!0})),await hs.post("/phase4/search/stop-operation/".concat(c.id))}catch(n){var e,t;x((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to stop operation"),console.error("Stop operation error:",n)}finally{f(e=>It(It({},e),{},{stop:!1}))}},disabled:h.stop,className:"flex items-center gap-2 px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",children:[(0,fs.jsx)(Lr,{className:"h-4 w-4"}),h.stop?"Stopping...":"Stop"]})]}),(0,fs.jsxs)("div",{className:"space-y-2",children:[(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(u.progress,"%")}})}),(0,fs.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,fs.jsxs)("div",{children:["Progress: ",u.progress.toFixed(1),"%"]}),u.current_collection&&(0,fs.jsxs)("div",{children:["Current: ",u.current_collection]}),u.current_statute&&(0,fs.jsxs)("div",{children:["Processing: ",u.current_statute]}),u.collections_processed&&u.total_collections&&(0,fs.jsxs)("div",{children:["Collections: ",u.collections_processed,"/",u.total_collections]}),u.processed_count&&(0,fs.jsxs)("div",{children:["Documents Processed: ",u.processed_count]})]})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,fs.jsxs)("button",{onClick:async()=>{try{f(e=>It(It({},e),{},{scan:!0})),x(null);const e=(await hs.post("/phase4/search/scan-missing-dates",{collections:n.length>0?n:null})).data.scan_id;d({type:"scan",id:e,status:"running"}),m({progress:0}),E(e)}catch(s){var e,t;x((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to start scan"),console.error("Start scan error:",s)}finally{f(e=>It(It({},e),{},{scan:!1}))}},disabled:h.scan||"running"===(null===c||void 0===c?void 0:c.status)||0===n.length,className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.scan?(0,fs.jsx)(Js,{className:"h-5 w-5 animate-spin"}):(0,fs.jsx)(cr,{className:"h-5 w-5"}),(0,fs.jsx)("span",{children:h.scan?"Scanning...":"Scan Missing Dates"})]}),(0,fs.jsxs)("button",{onClick:async()=>{try{f(e=>It(It({},e),{},{export:!0})),x(null);const e=await hs.post("/phase4/search/export-missing-dates",{collections:n.length>0?n:null},{responseType:"blob"}),t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s;const a=e.headers["content-disposition"];let l="missing_dates_".concat((new Date).toISOString().split("T")[0],".xlsx");if(a){const e=a.match(/filename=([^;]+)/);e&&(l=e[1].replace(/"/g,""))}r.download=l,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(s),document.body.removeChild(r),y("Excel file downloaded successfully!")}catch(s){var e,t;x((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to export missing dates"),console.error("Export error:",s)}finally{f(e=>It(It({},e),{},{export:!1}))}},disabled:h.export||"running"===(null===c||void 0===c?void 0:c.status)||0===n.length,className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.export?(0,fs.jsx)(Js,{className:"h-5 w-5 animate-spin"}):(0,fs.jsx)(ar,{className:"h-5 w-5"}),(0,fs.jsx)("span",{children:h.export?"Exporting...":"Export to Excel"})]}),(0,fs.jsxs)("button",{onClick:async()=>{try{f(e=>It(It({},e),{},{aiSearch:!0})),x(null);const e=(await hs.post("/phase4/search/search-dates-ai",{collections:n.length>0?n:null,use_ai:!0})).data.search_id;d({type:"search",id:e,status:"running"}),m({progress:0}),E(e)}catch(s){var e,t;x((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to start AI search"),console.error("Start AI search error:",s)}finally{f(e=>It(It({},e),{},{aiSearch:!1}))}},disabled:h.aiSearch||"running"===(null===c||void 0===c?void 0:c.status)||0===n.length,className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.aiSearch?(0,fs.jsx)(Js,{className:"h-5 w-5 animate-spin"}):(0,fs.jsx)(Ar,{className:"h-5 w-5"}),(0,fs.jsx)("span",{children:h.aiSearch?"Searching...":"AI Date Search"})]}),(0,fs.jsxs)("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 cursor-pointer",children:[h.upload?(0,fs.jsx)(Js,{className:"h-5 w-5 animate-spin"}):(0,fs.jsx)(Fr,{className:"h-5 w-5"}),(0,fs.jsx)("span",{children:h.upload?"Uploading...":"Upload Reviewed"}),(0,fs.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n)try{f(e=>It(It({},e),{},{upload:!0})),x(null);const e=new FormData;e.append("file",n);const t=await hs.post("/phase4/search/upload-reviewed-excel",e,{headers:{"Content-Type":"multipart/form-data"}});y("Upload successful! ".concat(t.data.approved_dates," approved dates found.")),v(n),N(t.data.session_id||null)}catch(a){var s,r;x((null===(s=a.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.detail)||"Failed to upload file"),console.error("Upload error:",a)}finally{f(e=>It(It({},e),{},{upload:!1})),e.target.value=""}},disabled:h.upload,className:"hidden"})]}),(0,fs.jsxs)("button",{onClick:async()=>{if(b){if(window.confirm("This will apply approved dates to the source DB. Proceed?"))try{f(e=>It(It({},e),{},{apply:!0})),x(null),S(null);const e=new FormData;e.append("file",b);const t=j?"/phase4/search/apply-approved-dates?session_id=".concat(encodeURIComponent(j)):"/phase4/search/apply-approved-dates",n=await hs.post(t,e,{headers:{"Content-Type":"multipart/form-data"}});S(n.data),y("Applied: ".concat(n.data.applied,", Failed: ").concat(n.data.failed_count)),C()}catch(n){var e,t;x((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Failed to apply approved dates"),console.error("Apply error:",n)}finally{f(e=>It(It({},e),{},{apply:!1}))}}else alert("No previously uploaded file found. Please upload a reviewed Excel first.")},disabled:h.apply||!b,className:"flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.apply?(0,fs.jsx)(Js,{className:"h-5 w-5 animate-spin"}):(0,fs.jsx)(zs,{className:"h-5 w-5"}),(0,fs.jsx)("span",{children:h.apply?"Applying...":"Apply Approved"})]})]}),a&&(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,fs.jsx)(Dr,{className:"h-5 w-5"}),"Scan Results"]}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,fs.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:a.summary.total_documents.toLocaleString()}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Total Documents"})]}),(0,fs.jsxs)("div",{className:"bg-red-50 p-3 rounded",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-red-900",children:a.summary.documents_missing_dates.toLocaleString()}),(0,fs.jsx)("div",{className:"text-sm text-red-600",children:"Missing Dates"})]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-900",children:a.summary.documents_with_dates.toLocaleString()}),(0,fs.jsx)("div",{className:"text-sm text-green-600",children:"With Dates"})]}),(0,fs.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,fs.jsxs)("div",{className:"text-2xl font-bold text-blue-900",children:[a.summary.missing_percentage.toFixed(1),"%"]}),(0,fs.jsx)("div",{className:"text-sm text-blue-600",children:"Missing Percentage"})]})]}),(0,fs.jsxs)("div",{className:"mb-6",children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Collection Breakdown"}),(0,fs.jsx)("div",{className:"overflow-x-auto",children:(0,fs.jsxs)("table",{className:"min-w-full border border-gray-200",children:[(0,fs.jsx)("thead",{className:"bg-gray-50",children:(0,fs.jsxs)("tr",{children:[(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Collection"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Total"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Missing"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"%"})]})}),(0,fs.jsx)("tbody",{children:Object.entries(a.collection_breakdown).map(e=>{let[t,n]=e;return(0,fs.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:t}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:n.total_documents.toLocaleString()}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm text-red-600",children:n.missing_dates.toLocaleString()}),(0,fs.jsxs)("td",{className:"px-4 py-2 text-sm",children:[n.missing_percentage.toFixed(1),"%"]})]},t)})})]})})]}),a.sample_missing.length>0&&(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Sample Missing Documents"}),(0,fs.jsx)("div",{className:"space-y-2",children:a.sample_missing.slice(0,5).map((e,t)=>(0,fs.jsxs)("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[(0,fs.jsx)("div",{className:"font-medium",children:e.Statute_Name}),(0,fs.jsxs)("div",{className:"text-gray-600",children:[e.Province," \u2022 ",e.collection]})]},t))})]})]}),i.length>0&&(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,fs.jsx)(Ls,{className:"h-5 w-5"}),"Recent Search Sessions"]}),(0,fs.jsxs)("div",{className:"flex gap-2",children:[(0,fs.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear all search session history? This action cannot be undone."))try{f(e=>It(It({},e),{},{clearSessions:!0}));const e=await hs.delete("/phase4/search/search-sessions");o([]),alert("Cleared ".concat(e.data.cleared_sessions," search sessions"))}catch(e){x("Failed to clear search sessions"),console.error("Clear search sessions error:",e)}finally{f(e=>It(It({},e),{},{clearSessions:!1}))}},disabled:h.clearSessions,className:"flex items-center gap-2 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50",children:[h.clearSessions?(0,fs.jsx)(Js,{className:"h-4 w-4 animate-spin"}):(0,fs.jsx)(Ys,{className:"h-4 w-4"}),"Clear All"]}),(0,fs.jsxs)("button",{onClick:C,className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[(0,fs.jsx)(Js,{className:"h-4 w-4"}),"Refresh"]})]})]}),(0,fs.jsx)("div",{className:"overflow-x-auto",children:(0,fs.jsxs)("table",{className:"min-w-full border border-gray-200",children:[(0,fs.jsx)("thead",{className:"bg-gray-50",children:(0,fs.jsxs)("tr",{children:[(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Session ID"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Created"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Status"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Documents"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"AI Processed"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"High Confidence"}),(0,fs.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Actions"})]})}),(0,fs.jsx)("tbody",{children:i.slice(0,10).map(e=>(0,fs.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,fs.jsx)("td",{className:"px-4 py-2 text-sm font-mono",children:e.session_label||e.session_id}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:e.created_at_local||e.created_at}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:(0,fs.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending_review"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:e.total_documents}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:e.metadata.ai_processed}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:e.metadata.high_confidence}),(0,fs.jsx)("td",{className:"px-4 py-2 text-sm",children:(0,fs.jsxs)("div",{className:"flex gap-1",children:[(0,fs.jsxs)("button",{onClick:()=>(async e=>{try{f(e=>It(It({},e),{},{viewResults:!0}));const t=await hs.get("/phase4/search/search-results/".concat(e),{responseType:"blob"}),n=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s;const a=t.headers["content-disposition"];let l="search-results-".concat(e,".xlsx");if(a){const e=a.match(/filename=([^;]+)/);e&&(l=e[1].replace(/"/g,""))}r.download=l,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s)}catch(t){x("Failed to download search results"),console.error("View search results error:",t)}finally{f(e=>It(It({},e),{},{viewResults:!1}))}})(e.session_id),disabled:h.viewResults,className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50 flex items-center gap-1",title:"Download AI search results as Excel file",children:[(0,fs.jsx)(Dr,{className:"h-3 w-3"}),"Excel"]}),(0,fs.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete search session ".concat(e,"?")))try{await hs.delete("/phase4/search/search-sessions/".concat(e)),o(t=>t.filter(t=>t.session_id!==e))}catch(t){x("Failed to delete search session"),console.error("Delete search session error:",t)}})(e.session_id),className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Delete this session",children:"Delete"})]})})]},e.session_id))})]})})]})]})},Mr=()=>{var e,t,n,r,a,l,i,o;const[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0),[h,f]=(0,s.useState)(null),[p,x]=(0,s.useState)("configuration"),[g,y]=(0,s.useState)("all"),[b,v]=(0,s.useState)(""),[j,N]=(0,s.useState)("batch"),[w,S]=(0,s.useState)([]),[k,_]=(0,s.useState)("Batched-Statutes"),[C,E]=(0,s.useState)("Date-Enriched-Batches"),[P,O]=(0,s.useState)(100),[T,R]=(0,s.useState)(!1),[L,A]=(0,s.useState)(!0),[F,D]=(0,s.useState)("idle"),[z,M]=(0,s.useState)(""),[U,I]=(0,s.useState)("idle"),[B,q]=(0,s.useState)(""),[V,H]=(0,s.useState)(!1),[Q,W]=(0,s.useState)(null),[$,K]=(0,s.useState)(!1),[J,G]=(0,s.useState)(null),[Y,X]=(0,s.useState)([]),[Z,ee]=(0,s.useState)([]),[te,ne]=(0,s.useState)(null),se=(0,s.useCallback)(async()=>{try{const t={},n=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");n&&(t.Authorization="Bearer ".concat(n));const s="/api/v1/phase4/available-batches?db_name=".concat(encodeURIComponent(k)),r=await fetch(s,{headers:t}),a=await r.json();var e;if(a.success)S(a.batches||[]),(null===(e=a.batches)||void 0===e?void 0:e.length)>0&&!b&&v(a.batches[0])}catch(ha){console.error("Failed to fetch available batches:",ha)}},[k,b]);(0,s.useEffect)(()=>{ae(),le(),re()},[se]),(0,s.useEffect)(()=>{se()},[se]),(0,s.useEffect)(()=>{"single"===g&&w.length>0&&!b&&v(w[0])},[g,w,b]);const re=()=>{try{var e,t;const n=localStorage.getItem("phase4_config");if(!n)return;const s=JSON.parse(n);_(s.sourceDb||"Batched-Statutes"),E(s.targetDb||"Date-Enriched-Batches"),N(s.collectionPrefix||"batch"),O(s.batchSize||100),R(null!==(e=s.dryRun)&&void 0!==e&&e),A(null===(t=s.generateMetadata)||void 0===t||t)}catch(ha){console.error("Failed to load Phase4 config",ha)}},ae=async()=>{try{const e={},t=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");t&&(e.Authorization="Bearer ".concat(t));const n=await fetch("/api/v1/phase4/status",{headers:e}),s=await n.json();s.success&&d(s),m(!1)}catch(ha){console.error(ha),f("Failed to fetch status"),m(!1)}},le=async()=>{try{m(!0),f(null);const e={},t=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");t&&(e.Authorization="Bearer ".concat(t));const n=await fetch("/api/v1/phase4/metadata",{headers:e}),s=await n.json();s.success?(X(s.files||[]),ee(s.db_entries||[]),G("Metadata refreshed successfully"),setTimeout(()=>G(null),3e3)):f("Failed to fetch metadata: "+(s.message||"Unknown error"))}catch(ha){console.error("Failed to fetch metadata:",ha),f("Failed to refresh metadata. Please check your connection and try again.")}finally{m(!1)}},ie=async()=>{try{const e={},t=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");t&&(e.Authorization="Bearer ".concat(t)),await fetch("/api/v1/phase4/stop-processing",{method:"POST",headers:e}),H(!1),W(null)}catch(h){console.error("Failed to stop processing:",h)}};return u?(0,fs.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,fs.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):h?(0,fs.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"flex",children:[(0,fs.jsx)("div",{className:"flex-shrink-0",children:(0,fs.jsx)(js,{className:"h-5 w-5 text-red-400"})}),(0,fs.jsxs)("div",{className:"ml-3",children:[(0,fs.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,fs.jsx)("p",{className:"mt-1 text-sm text-red-700",children:h}),(0,fs.jsx)("button",{onClick:()=>{f(null),ae()},className:"mt-2 text-sm text-red-600 hover:text-red-500 underline",children:"Try again"})]})]})}):(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,fs.jsx)(js,{className:"h-8 w-8 text-blue-600 mr-3"}),"Phase 4: Enhanced Date Processing"]}),(0,fs.jsx)("p",{className:"text-gray-600 mt-1",children:"Consolidate date fields and extract missing dates using AI assistance"})]}),(0,fs.jsx)("div",{className:"flex items-center space-x-4",children:(null===c||void 0===c?void 0:c.database_info)&&(0,fs.jsxs)("div",{className:"text-right",children:[(0,fs.jsx)("p",{className:"text-sm text-gray-500",children:"Target Database"}),(0,fs.jsx)("p",{className:"font-medium",children:"Date-Enriched-Batches"})]})})]})}),J&&(0,fs.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"flex",children:[(0,fs.jsx)("div",{className:"flex-shrink-0",children:(0,fs.jsx)(zs,{className:"h-5 w-5 text-green-400"})}),(0,fs.jsx)("div",{className:"ml-3",children:(0,fs.jsx)("p",{className:"text-sm text-green-700",children:J})}),(0,fs.jsx)("div",{className:"ml-auto pl-3",children:(0,fs.jsxs)("button",{onClick:()=>G(null),className:"inline-flex text-green-400 hover:text-green-500",children:[(0,fs.jsx)("span",{className:"sr-only",children:"Dismiss"}),"\xd7"]})})]})}),(0,fs.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,fs.jsx)("div",{className:"border-b border-gray-200",children:(0,fs.jsxs)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[(0,fs.jsxs)("button",{onClick:()=>x("configuration"),className:"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ".concat("configuration"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(tr,{className:"h-5 w-5 inline mr-2"}),"Configuration"]}),(0,fs.jsxs)("button",{onClick:async()=>{x("merge");try{const e=await fetch("/api/v1/phase4/metadata"),t=await e.json();t.success&&(X(t.files||[]),ee(t.db_entries||[]))}catch(ha){console.error("Failed to fetch metadata",ha)}},className:"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ".concat("merge"===p?"border-green-500 text-green-600 bg-green-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(Ns,{className:"h-5 w-5 inline mr-2"}),"Date Merge"]}),(0,fs.jsxs)("button",{onClick:()=>x("search"),className:"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ".concat("search"===p?"border-purple-500 text-purple-600 bg-purple-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(cr,{className:"h-5 w-5 inline mr-2"}),"Date Search"]}),(0,fs.jsxs)("button",{onClick:()=>x("processing"),className:"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ".concat("processing"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(Xs,{className:"h-5 w-5 inline mr-2"}),"Processing"]}),(0,fs.jsxs)("button",{onClick:()=>x("results"),className:"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ".concat("results"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,fs.jsx)(ks,{className:"h-5 w-5 inline mr-2"}),"Results & Export"]})]})}),(0,fs.jsxs)("div",{className:"p-6",children:["configuration"===p&&(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,fs.jsx)(tr,{className:"h-5 w-5 text-gray-600 mr-2"}),"Configuration"]}),(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Database"}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("input",{type:"text",value:k,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,fs.jsx)("button",{onClick:async()=>{D("testing"),M("Testing connection...");try{const n=localStorage.getItem("access_token")||sessionStorage.getItem("access_token"),s={"Content-Type":"application/json"};n&&(s.Authorization="Bearer ".concat(n));const r={connection_string:"",database_name:k,test_connection:!0},a=await fetch("/api/v1/database/connect",{method:"POST",headers:s,body:JSON.stringify(r)}),l=await a.json();var e,t;if(a.ok&&l.success)D("success"),M("Connection OK \u2014 "+(null!==(e=null===(t=l.data)||void 0===t?void 0:t.collection_count)&&void 0!==e?e:"unknown")+" collections");else D("error"),M(l.detail||l.error||"Connection failed")}catch(ha){D("error"),M(ha.message||String(ha))}},className:"px-3 py-2 bg-blue-600 text-white rounded-md",children:"Test"}),(0,fs.jsx)("button",{onClick:async()=>{I("testing"),q("Testing GPT...");try{const e=localStorage.getItem("access_token")||sessionStorage.getItem("access_token"),t={};e&&(t.Authorization="Bearer ".concat(e));const n=await fetch("/api/v1/phase4/test-gpt",{headers:t}),s=await n.json();n.ok&&s.success?(I("success"),q("GPT OK")):(I("error"),q(s.message||"GPT test failed"))}catch(ha){I("error"),q(ha.message||String(ha))}},className:"px-3 py-2 bg-indigo-600 text-white rounded-md",children:"Test GPT"})]}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click Test to verify backend connection to the configured backend MongoDB (backend config is used)."}),"idle"!==F&&(0,fs.jsx)("div",{className:"mt-2 text-sm ".concat("success"===F?"text-green-700":"text-red-700"),children:z}),"idle"!==U&&(0,fs.jsx)("div",{className:"mt-2 text-sm ".concat("success"===U?"text-green-700":"text-red-700"),children:B})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Database"}),(0,fs.jsx)("input",{type:"text",value:C,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Processing Mode"}),(0,fs.jsxs)("div",{className:"space-y-2",children:[(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"radio",value:"all",checked:"all"===g,onChange:e=>y(e.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,fs.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Process All Batches"})]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"radio",value:"single",checked:"single"===g,onChange:e=>y(e.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,fs.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Process Single Batch"})]})]})]}),"single"===g&&(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Batch"}),(0,fs.jsx)("select",{value:b,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:w.map(e=>(0,fs.jsx)("option",{value:e,children:e},e))})]}),(0,fs.jsxs)("div",{className:"md:col-span-2",children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Collection Prefix"}),(0,fs.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"e.g., batch, filled, processed",className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,fs.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Output collections will be named: ",j,"_1, ",j,"_2, etc."]})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch Size"}),(0,fs.jsx)("input",{type:"number",value:P,onChange:e=>O(Number(e.target.value)||1),min:1,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Number of documents to process per chunk (performance tuning)."})]}),(0,fs.jsx)("div",{className:"md:col-span-2 border-l pl-4",children:(0,fs.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[(0,fs.jsx)("input",{type:"checkbox",checked:T,onChange:e=>R(e.target.checked),className:"mr-2"}),"Dry Run (do not write to target DB)"]})})]}),(0,fs.jsxs)("div",{className:"mt-3",children:[(0,fs.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[(0,fs.jsx)("input",{type:"checkbox",checked:L,onChange:e=>A(e.target.checked),className:"mr-2"}),"Generate and save metadata for this run"]}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"When enabled, per-batch and overall metadata will be saved to the server metadata folder and the database."})]}),w.length>0&&(0,fs.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)(js,{className:"h-4 w-4 text-blue-600 mr-2"}),(0,fs.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Available Source Batches"})]}),(0,fs.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,fs.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-md font-mono",children:e},e))}),(0,fs.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Total: ",w.length," batch",1!==w.length?"es":""," ready for processing"]})]}),(0,fs.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:(0,fs.jsxs)("div",{className:"flex items-start justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"Configuration Complete"}),(0,fs.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,fs.jsxs)("p",{children:["\u2022 Processing mode: ",(0,fs.jsx)("span",{className:"font-medium capitalize",children:g})]}),"single"===g&&b&&(0,fs.jsxs)("p",{children:["\u2022 Selected batch: ",(0,fs.jsx)("span",{className:"font-medium font-mono",children:b})]}),(0,fs.jsxs)("p",{children:["\u2022 Target collection prefix: ",(0,fs.jsx)("span",{className:"font-medium font-mono",children:j})]}),(0,fs.jsxs)("p",{children:["\u2022 Chunk size: ",(0,fs.jsx)("span",{className:"font-medium",children:P})," documents per batch"]}),T&&(0,fs.jsxs)("p",{children:["\u2022 ",(0,fs.jsx)("span",{className:"font-medium text-orange-600",children:"Dry run mode enabled"})," (no data will be written)"]})]})]}),(0,fs.jsxs)("button",{onClick:()=>x("merge"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium shadow-sm",children:[(0,fs.jsx)(Ns,{className:"h-4 w-4 mr-2"}),"Start Date Merge"]})]})}),(0,fs.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsx)("button",{onClick:()=>{const e={sourceDb:k,targetDb:C,collectionPrefix:j,batchSize:P,dryRun:T,generateMetadata:L};try{localStorage.setItem("phase4_config",JSON.stringify(e)),console.info("Phase4 configuration saved")}catch(ha){console.error("Failed to save config",ha)}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Save Configuration"}),(0,fs.jsx)("button",{onClick:()=>{_("Batched-Statutes"),E("Date-Enriched-Batches"),N("batch"),O(100),R(!1),A(!0),localStorage.removeItem("phase4_config")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors text-sm border border-gray-300",children:"Reset to Defaults"})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:"Configuration saved automatically"})]})]})]}),"processing"===p&&(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,fs.jsx)(Xs,{className:"h-5 w-5 text-gray-600 mr-2"}),"Processing Control"]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-4",children:[V?(0,fs.jsxs)("button",{onClick:ie,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[(0,fs.jsx)(Tr,{className:"h-4 w-4 mr-2"}),"Stop Processing"]}):(0,fs.jsxs)("button",{onClick:async()=>{try{H(!0),K(!1),W(null),x("processing");const e={"Content-Type":"application/json"},t=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");t&&(e.Authorization="Bearer ".concat(t));const n={processing_mode:g,selected_batch:"single"===g?b:null,collection_prefix:j,batch_size:P,dry_run:T,generate_metadata:L};if((await fetch("/api/v1/phase4/start-processing",{method:"POST",headers:e,body:JSON.stringify(n)})).ok){const e=new EventSource("/api/v1/phase4/processing-progress");e.onmessage=t=>{const n=JSON.parse(t.data);if(W(n),"completed"===n.status)H(!1),K(!0),x("results"),e.close(),ae();else if("error"===n.status){var s;H(!1),e.close(),f("Processing failed: "+(null===(s=n.log_messages)||void 0===s?void 0:s.slice(-1)[0]))}},e.onerror=()=>{H(!1),e.close(),f("Connection to progress stream lost")}}else H(!1),f("Failed to start processing")}catch(h){console.error("Failed to start processing:",h),H(!1),f("Failed to start processing")}},disabled:"single"===g&&!b,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,fs.jsx)(Is,{className:"h-4 w-4 mr-2"}),"Start Processing"]}),(0,fs.jsx)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:V?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Us,{className:"h-4 w-4 text-orange-500"}),(0,fs.jsx)("span",{children:"Processing..."})]}):$?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(zs,{className:"h-4 w-4 text-green-500"}),(0,fs.jsx)("span",{children:"Completed"})]}):(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Xs,{className:"h-4 w-4 text-gray-400"}),(0,fs.jsx)("span",{children:"Ready"})]})})]}),(V||Q)&&(0,fs.jsx)("div",{className:"space-y-4",children:Q&&(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),(0,fs.jsxs)("span",{className:"text-sm text-gray-600",children:[Q.documents_processed,"/",Q.total_documents," documents"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Q.overall_progress,"%")}})}),(0,fs.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[Q.overall_progress.toFixed(1),"%"]})]}),Q.current_batch&&(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,fs.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Current Batch: ",Q.current_batch]}),(0,fs.jsxs)("span",{className:"text-sm text-gray-600",children:[Q.current_batch_progress.toFixed(1),"%"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Q.current_batch_progress,"%")}})})]}),Q.current_document&&(0,fs.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ns,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,fs.jsx)("span",{className:"text-sm font-medium",children:"Processing:"}),(0,fs.jsx)("span",{className:"text-sm text-gray-700 ml-2 truncate",children:Q.current_document})]})}),Q.batch_summary&&(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,fs.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-green-800",children:"Completed"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-green-900",children:Q.batch_summary.completed_batches.length}),(0,fs.jsx)("div",{className:"text-xs text-green-600",children:Q.batch_summary.completed_batches.slice(-3).join(", ")})]}),(0,fs.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Current"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-blue-900",children:Q.batch_summary.current_batch||"None"})]}),(0,fs.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-gray-800",children:"Remaining"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-gray-900",children:Q.batch_summary.remaining_batches.length})]})]})]})}),(null===Q||void 0===Q?void 0:Q.log_messages)&&Q.log_messages.length>0&&(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("h4",{className:"text-md font-semibold mb-3 flex items-center",children:[(0,fs.jsx)(Rr,{className:"h-4 w-4 text-gray-600 mr-2"}),"Live Processing Log"]}),(0,fs.jsx)("div",{className:"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg max-h-64 overflow-y-auto",children:Q.log_messages.slice(-20).map((e,t)=>(0,fs.jsx)("div",{className:"mb-1",children:e},t))})]}),(0,fs.jsxs)("div",{className:"flex justify-between",children:[(0,fs.jsx)("button",{onClick:()=>x("configuration"),className:"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Configuration"}),$&&(0,fs.jsxs)("button",{onClick:()=>x("results"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:["View Results",(0,fs.jsx)(ks,{className:"h-4 w-4 ml-2"})]})]})]}),"merge"===p&&(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,fs.jsx)(Ns,{className:"h-5 w-5 text-gray-600 mr-2"}),"Date Field Merge Processing"]}),(0,fs.jsx)("div",{className:"flex items-center space-x-2 text-sm",children:V?(0,fs.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,fs.jsx)(Us,{className:"h-4 w-4 mr-1 animate-pulse"}),"Processing..."]}):$?(0,fs.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,fs.jsx)(zs,{className:"h-4 w-4 mr-1"}),"Completed"]}):(0,fs.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,fs.jsx)(Xs,{className:"h-4 w-4 mr-1"}),"Ready to Merge"]})})]}),(0,fs.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-lg font-semibold text-blue-900",children:"Date Field Merge"}),(0,fs.jsx)("p",{className:"text-blue-700 text-sm mt-1",children:"Consolidate Date and Promulgation_Date fields into a single Date field"})]}),(0,fs.jsx)("div",{className:"flex items-center space-x-3",children:V?(0,fs.jsxs)("button",{onClick:ie,className:"flex items-center px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 font-medium shadow-lg",children:[(0,fs.jsx)(Tr,{className:"h-5 w-5 mr-2"}),"Stop Processing"]}):(0,fs.jsxs)("button",{onClick:async()=>{const e={processing_mode:g,selected_batch:"single"===g?b:null,collection_prefix:j,batch_size:P,dry_run:T,generate_metadata:L};try{H(!0),K(!1),W(null);if((await fetch("/api/v1/phase4/start-processing",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok){const e=new EventSource("/api/v1/phase4/processing-progress");e.onmessage=t=>{const n=JSON.parse(t.data);W(n),"completed"===n.status&&(H(!1),K(!0),e.close(),le(),ae())},e.onerror=()=>{H(!1),e.close()}}else H(!1),alert("Failed to start merge processing")}catch(ha){H(!1),console.error(ha),alert("Failed to start merge processing")}},disabled:"single"===g&&!b||V,className:"flex items-center px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium shadow-lg",children:[(0,fs.jsx)(Is,{className:"h-5 w-5 mr-2"}),"Start Date Merge"]})})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,fs.jsxs)("div",{className:"bg-white/70 rounded-lg p-3",children:[(0,fs.jsx)("div",{className:"text-gray-600 font-medium",children:"Mode"}),(0,fs.jsx)("div",{className:"text-blue-900 font-semibold capitalize",children:g})]}),(0,fs.jsxs)("div",{className:"bg-white/70 rounded-lg p-3",children:[(0,fs.jsx)("div",{className:"text-gray-600 font-medium",children:"Batch"}),(0,fs.jsx)("div",{className:"text-blue-900 font-semibold",children:"single"===g?b||"None":"All Batches"})]}),(0,fs.jsxs)("div",{className:"bg-white/70 rounded-lg p-3",children:[(0,fs.jsx)("div",{className:"text-gray-600 font-medium",children:"Chunk Size"}),(0,fs.jsx)("div",{className:"text-blue-900 font-semibold",children:P})]}),(0,fs.jsxs)("div",{className:"bg-white/70 rounded-lg p-3",children:[(0,fs.jsx)("div",{className:"text-gray-600 font-medium",children:"Dry Run"}),(0,fs.jsx)("div",{className:"text-blue-900 font-semibold",children:T?"Yes":"No"})]})]})]}),(V||Q)&&(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,fs.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,fs.jsx)(Xs,{className:"h-5 w-5 text-blue-600 mr-2"}),"Processing Progress"]}),Q&&(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,fs.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),(0,fs.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[null===(e=Q.documents_processed)||void 0===e?void 0:e.toLocaleString(),"/",null===(t=Q.total_documents)||void 0===t?void 0:t.toLocaleString()," documents"]})]}),(0,fs.jsx)("div",{className:"relative w-full bg-gray-200 rounded-full h-3",children:(0,fs.jsx)("div",{className:"absolute left-0 top-0 bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500 flex items-center justify-end pr-2",style:{width:"".concat(Math.max(Q.overall_progress,0),"%")},children:(0,fs.jsxs)("span",{className:"text-white text-xs font-bold",children:[null===(n=Q.overall_progress)||void 0===n?void 0:n.toFixed(1),"%"]})})})]}),Q.current_batch&&(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,fs.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Current Batch: ",(0,fs.jsx)("span",{className:"font-semibold text-gray-900",children:Q.current_batch})]}),(0,fs.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[null===(r=Q.current_batch_progress)||void 0===r?void 0:r.toFixed(1),"%"]})]}),(0,fs.jsx)("div",{className:"relative w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"absolute left-0 top-0 bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.max(Q.current_batch_progress||0,0),"%")}})})]}),Q.current_document&&(0,fs.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)(Ns,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Currently Processing:"}),(0,fs.jsx)("div",{className:"text-sm text-gray-900 font-mono bg-white px-2 py-1 rounded border",children:Q.current_document})]})]})}),Q.batch_summary&&(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 p-4 rounded-lg",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)(zs,{className:"h-5 w-5 text-green-600 mr-2"}),(0,fs.jsx)("div",{className:"text-sm font-medium text-green-800",children:"Completed Batches"})]}),(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-900",children:(null===(a=Q.batch_summary.completed_batches)||void 0===a?void 0:a.length)||0}),(null===(l=Q.batch_summary.completed_batches)||void 0===l?void 0:l.length)>0&&(0,fs.jsxs)("div",{className:"text-xs text-green-600 mt-1 truncate",children:["Latest: ",Q.batch_summary.completed_batches.slice(-1)[0]]})]}),(0,fs.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 p-4 rounded-lg",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)(Xs,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,fs.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Current Batch"})]}),(0,fs.jsx)("div",{className:"text-lg font-bold text-blue-900",children:Q.batch_summary.current_batch||"None"})]}),(0,fs.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 border border-gray-200 p-4 rounded-lg",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)(Us,{className:"h-5 w-5 text-gray-600 mr-2"}),(0,fs.jsx)("div",{className:"text-sm font-medium text-gray-800",children:"Remaining Batches"})]}),(0,fs.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(null===(i=Q.batch_summary.remaining_batches)||void 0===i?void 0:i.length)||0})]})]}),(null===Q||void 0===Q?void 0:Q.log_messages)&&Q.log_messages.length>0&&(0,fs.jsxs)("div",{children:[(0,fs.jsxs)("h5",{className:"text-md font-semibold mb-3 flex items-center",children:[(0,fs.jsx)(Rr,{className:"h-4 w-4 text-yellow-600 mr-2"}),"Live Processing Log"]}),(0,fs.jsx)("div",{className:"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg max-h-48 overflow-y-auto border",children:Q.log_messages.slice(-15).map((e,t)=>(0,fs.jsxs)("div",{className:"mb-1 leading-relaxed",children:[(0,fs.jsxs)("span",{className:"text-green-500",children:["[",(new Date).toLocaleTimeString(),"]"]})," ",e]},t))})]})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Metadata Files"}),(0,fs.jsxs)("button",{onClick:async()=>{try{await le()}catch(ha){console.error("Refresh failed:",ha)}},disabled:u,className:"flex items-center px-3 py-1.5 text-sm bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 disabled:bg-gray-50 disabled:text-gray-400 rounded-md transition-colors border border-blue-200",children:[u?(0,fs.jsx)("div",{className:"animate-spin h-3 w-3 border-2 border-blue-600 border-t-transparent rounded-full mr-1"}):(0,fs.jsx)(Xs,{className:"h-3 w-3 mr-1"}),u?"Refreshing...":"Refresh"]})]}),(0,fs.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===Y.length?(0,fs.jsxs)("div",{className:"text-sm text-gray-500 py-8 text-center",children:["No metadata files found.",(0,fs.jsx)("br",{}),(0,fs.jsx)("span",{className:"text-xs",children:"Run processing to generate metadata"})]}):Y.map(e=>(0,fs.jsx)("div",{className:"p-3 rounded-lg hover:bg-gray-50 cursor-pointer border mb-2 transition-colors ".concat((null===te||void 0===te?void 0:te.filename)===e.filename?"bg-blue-50 border-blue-200":"border-gray-200"),onClick:()=>ne(e),children:(0,fs.jsxs)("div",{className:"flex justify-between items-start",children:[(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:e.filename}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:["Modified: ",new Date(1e3*e.modified).toLocaleString()]})]}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[(e.size/1024).toFixed(1)," KB"]})]})},e.filename))})]}),(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Database Results"}),(0,fs.jsxs)("button",{onClick:async()=>{try{await ae()}catch(ha){console.error("Refresh failed:",ha)}},disabled:u,className:"flex items-center px-3 py-1.5 text-sm bg-green-50 text-green-600 hover:bg-green-100 hover:text-green-700 disabled:bg-gray-50 disabled:text-gray-400 rounded-md transition-colors border border-green-200",children:[u?(0,fs.jsx)("div",{className:"animate-spin h-3 w-3 border-2 border-green-600 border-t-transparent rounded-full mr-1"}):(0,fs.jsx)(js,{className:"h-3 w-3 mr-1"}),u?"Refreshing...":"Refresh"]})]}),(0,fs.jsx)("div",{className:"max-h-64 overflow-y-auto",children:0===Z.length?(0,fs.jsxs)("div",{className:"text-sm text-gray-500 py-8 text-center",children:["No database entries found.",(0,fs.jsx)("br",{}),(0,fs.jsx)("span",{className:"text-xs",children:"Run processing to create target collections"})]}):Z.map(e=>{var t,n;return(0,fs.jsx)("div",{className:"p-3 rounded-lg hover:bg-gray-50 border border-gray-200 mb-2",children:(0,fs.jsxs)("div",{className:"flex justify-between items-start",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.batch}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:["Target: ",e.target_collection]})]}),(0,fs.jsxs)("div",{className:"text-right",children:[(0,fs.jsx)("div",{className:"text-sm font-semibold text-green-600",children:null===(t=e.processed)||void 0===t?void 0:t.toLocaleString()}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:["/ ",null===(n=e.total_documents)||void 0===n?void 0:n.toLocaleString()]})]})]})},e._id)})})]})]}),(0,fs.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,fs.jsxs)("button",{onClick:async()=>{if(te)try{const e=await fetch("/api/v1/phase4/metadata"),t=await e.json();if(!t.files.find(e=>e.filename===te.filename))return;const n=await fetch("/api/v1/phase4/metadata?batch="+encodeURIComponent(te.filename)),s=await n.json(),r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),a=window.URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=te.filename,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l)}catch(ha){console.error("Failed to download metadata",ha),alert("Failed to download metadata file")}else alert("Please select a metadata file first")},disabled:!te,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[(0,fs.jsx)(ar,{className:"h-4 w-4 mr-2"}),"Download Metadata"]}),$&&(0,fs.jsxs)("button",{onClick:()=>x("results"),className:"flex items-center px-6 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 font-medium",children:[(0,fs.jsx)(ks,{className:"h-4 w-4 mr-2"}),"View Results & Export"]})]}),te&&(0,fs.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-4",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-3",children:[(0,fs.jsx)(Ns,{className:"h-4 w-4 text-gray-600 mr-2"}),(0,fs.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Preview: ",te.filename]})]}),(0,fs.jsx)("pre",{className:"text-xs font-mono bg-white border rounded-lg p-3 max-h-32 overflow-y-auto",children:JSON.stringify(Z.find(e=>e.batch&&te.filename.includes(e.batch))||{},null,2)})]})]}),"results"===p&&(0,fs.jsxs)("div",{className:"space-y-6",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,fs.jsx)(ks,{className:"h-5 w-5 text-gray-600 mr-2"}),"Results & Export"]}),(0,fs.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-lg font-semibold text-green-800",children:"Processing Complete!"}),(0,fs.jsx)("p",{className:"text-green-700 mt-1",children:"Your date enrichment processing has finished successfully. You can now export the results."})]}),(0,fs.jsxs)("button",{onClick:async()=>{try{const e={},t=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");t&&(e.Authorization="Bearer ".concat(t));const n=await fetch("/api/v1/phase4/export-results",{headers:e});if(n.ok){const e=await n.blob(),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="phase4_date_processed_results_".concat((new Date).toISOString().split("T")[0],".xlsx"),document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(t),document.body.removeChild(s)}}catch(h){console.error("Failed to export results:",h)}},className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold",children:[(0,fs.jsx)(ar,{className:"h-5 w-5 mr-2"}),"Export to Excel"]})]})}),c&&(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-md font-semibold mb-3",children:"Processing Summary"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Current Phase"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-blue-900",children:c.current_phase})]}),(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-green-800",children:"Total Documents"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-green-900",children:(null===(o=c.total_documents)||void 0===o?void 0:o.toLocaleString())||"N/A"})]}),(0,fs.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"Status"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-purple-900",children:c.status})]})]})]}),(null===Q||void 0===Q?void 0:Q.batch_summary)&&(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-md font-semibold mb-3",children:"Batch Processing Results"}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,fs.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-green-800",children:"Completed Batches"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-green-900",children:Q.batch_summary.completed_batches.length}),(0,fs.jsx)("div",{className:"text-xs text-green-600 mt-2",children:Q.batch_summary.completed_batches.join(", ")})]}),(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-blue-800",children:"Documents Processed"}),(0,fs.jsx)("div",{className:"text-lg font-bold text-blue-900",children:Q.documents_processed.toLocaleString()})]}),(0,fs.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,fs.jsx)("div",{className:"text-sm font-medium text-purple-800",children:"Success Rate"}),(0,fs.jsxs)("div",{className:"text-lg font-bold text-purple-900",children:[Q.overall_progress.toFixed(1),"%"]})]})]})]}),(0,fs.jsxs)("div",{className:"flex justify-between",children:[(0,fs.jsx)("button",{onClick:()=>x("processing"),className:"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back to Processing"}),(0,fs.jsx)("button",{onClick:()=>{x("configuration"),K(!1),W(null)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start New Processing"})]})]}),"search"===p&&(0,fs.jsx)(zr,{})]})]})]})},Ur=()=>(0,fs.jsx)(Mr,{}),Ir=vs("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Br=e=>{let{onClick:t,disabled:n=!1,isProcessing:s=!1,icon:r,children:a,progressText:l,variant:i="primary",size:o="md",fullWidth:c=!1,className:d=""}=e;const u=c?"w-full":"",m="".concat("inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[i]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[o]," ").concat(u," ").concat(d);return(0,fs.jsx)("button",{onClick:t,disabled:n||s,className:m,children:s?(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsx)(Ms,{className:"animate-spin mr-2 ".concat("sm"===o?"w-3 h-3":"lg"===o?"w-5 h-5":"w-4 h-4")}),l||"Processing..."]}):(0,fs.jsxs)(fs.Fragment,{children:[r&&(0,fs.jsx)(r,{className:"mr-2 ".concat("sm"===o?"w-3 h-3":"lg"===o?"w-5 h-5":"w-4 h-4")}),a]})})},qr="http://localhost:8000/api/v1/phase5";class Vr{static getAuthToken(){return localStorage.getItem("token")}static async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getAuthToken(),s=await fetch("".concat(qr).concat(e),It(It({},t),{},{headers:It(It({"Content-Type":"application/json"},n&&{Authorization:"Bearer ".concat(n)}),t.headers)}));if(!s.ok){const e=await s.json().catch(()=>({detail:"Unknown error"}));throw new Error(e.detail||"Request failed: ".concat(s.statusText))}return s.json()}static async getStatus(e){const t=e?"?collection=".concat(encodeURIComponent(e)):"";return this.makeRequest("/status".concat(t))}static async startGrouping(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.makeRequest("/start-grouping",{method:"POST",body:JSON.stringify(e)})}static createProgressStream(){const e=this.getAuthToken(),t=new URL("".concat(qr,"/progress-stream"));return e&&t.searchParams.append("token",e),new EventSource(t.toString())}static async getGroups(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2?arguments[2]:void 0;const n=new URLSearchParams({page:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1).toString(),limit:e.toString()});return t&&Object.entries(t).forEach(e=>{let[t,s]=e;s&&n.append(t,s)}),this.makeRequest("/groups?".concat(n))}static async getGroupedStatutes(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const n=new URLSearchParams({page:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1).toString(),limit:t.toString()});return this.makeRequest("/groups/".concat(e,"/statutes?").concat(n))}static async clearGroups(){return this.makeRequest("/clear",{method:"POST"})}static async getStatistics(){return this.makeRequest("/statistics")}static async exportGroups(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";const t=this.getAuthToken(),n=await fetch("".concat(qr,"/export?format=").concat(e),{headers:It({},t&&{Authorization:"Bearer ".concat(t)})});if(!n.ok)throw new Error("Export failed: ".concat(n.statusText));return n.blob()}static async getCollections(){return(await this.makeRequest("/collections")).data}static async getProvinces(){return(await this.makeRequest("/provinces")).data}static async analyzeStatute(e){return(await this.makeRequest("/analyze-statute",{method:"POST",body:JSON.stringify({statute:e})})).data}static async detectAmendmentChains(e){return(await this.makeRequest("/detect-amendment-chains",{method:"POST",body:JSON.stringify({collection_name:e})})).data}static async getCollectionStatistics(e){return(await this.makeRequest("/statistics/".concat(encodeURIComponent(e)))).data}static async exportGroupsEnhanced(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;return(await this.makeRequest("/export-groups",{method:"POST",body:JSON.stringify({format:e,collection_name:t,include_analysis:n,filters:s})})).data}static async batchAnalyzeStatutes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const n=[];for(let s=0;s<e.length;s+=t){const r=e.slice(s,s+t).map(e=>this.analyzeStatute(e).catch(t=>(console.warn("Failed to analyze statute ".concat(e._id,":"),t),null))),a=await Promise.all(r);n.push(...a.filter(e=>null!==e)),s+t<e.length&&await new Promise(e=>setTimeout(e,500))}return n}static async downloadExport(e,t,n){try{let s,r;"json"===n?(s=JSON.stringify(e,null,2),r="application/json"):(s=this.convertToCSV(e.groups||e),r="text/csv");const a=new Blob([s],{type:r}),l=window.URL.createObjectURL(a),i=document.createElement("a");i.href=l,i.download="".concat(t,".").concat(n),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l)}catch(s){throw console.error("Failed to download export:",s),s}}static convertToCSV(e){if(!e||!Array.isArray(e)||0===e.length)return"";const t=Object.keys(e[0]),n=[];n.push(t.join(","));for(const s of e){const e=t.map(e=>{const t=s[e];return"string"===typeof t&&(t.includes(",")||t.includes('"'))?'"'.concat(t.replace(/"/g,'""'),'"'):t||""});n.push(e.join(","))}return n.join("\n")}}function Hr(e){var t;let{disabled:n,status:r,onGroupingStarted:a,onError:l,onCollectionChanged:i}=e;const[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)([]),[f,p]=(0,s.useState)({selectedCollection:"",similarityThreshold:.85,batchSize:50,useAzureOpenAI:!0});(0,s.useEffect)(()=>{(async()=>{try{const e=await Vr.getCollections();if(h(e.collections),e.collections.length>0&&!f.selectedCollection){const t=e.collections[0];p(e=>It(It({},e),{},{selectedCollection:t})),i&&i(t)}}catch(e){console.error("Failed to load collections:",e),l("Failed to load available collections")}})()},[l,i,f.selectedCollection]);const x=n||o||(null===r||void 0===r?void 0:r.is_processing)||!f.selectedCollection;return(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,fs.jsx)(Br,{onClick:async()=>{try{c(!0);const e={config:{similarity_threshold:f.similarityThreshold,batch_size:f.batchSize,use_azure_openai:f.useAzureOpenAI},source_collections:f.selectedCollection?[f.selectedCollection]:void 0},t=await Vr.startGrouping(e);t&&t.success?a(t.task_id||"unknown",t.total_statutes||0):l((null===t||void 0===t?void 0:t.message)||"Failed to start grouping process")}catch(e){console.error("Error starting grouping:",e),l(e instanceof Error?e.message:"Unknown error occurred")}finally{c(!1)}},disabled:x,isProcessing:o,icon:Is,progressText:"Starting Grouping...",variant:"primary",size:"lg",children:"Start Statute Grouping"}),(0,fs.jsx)(Br,{onClick:()=>u(!d),disabled:x,icon:tr,variant:"secondary",size:"lg",children:"Advanced"})]}),(0,fs.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,fs.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"Collection Selection"}),(0,fs.jsxs)("span",{className:"text-xs text-blue-600",children:[m.length," collections available"]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-xs font-medium text-blue-700 mb-2",children:"Select Collection to Process"}),(0,fs.jsxs)("select",{value:f.selectedCollection,onChange:e=>{const t=e.target.value;p(e=>It(It({},e),{},{selectedCollection:t})),i&&i(t)},className:"w-full px-3 py-2 border border-blue-300 rounded-md text-sm bg-white",disabled:x,children:[(0,fs.jsx)("option",{value:"",children:"Select a collection..."}),m.map(e=>(0,fs.jsx)("option",{value:e,children:e},e))]}),(0,fs.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Process one collection at a time (following Phase 4 pattern)"})]})]}),d&&(0,fs.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border space-y-4",children:[(0,fs.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Advanced Configuration"}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Similarity Threshold"}),(0,fs.jsx)("input",{type:"number",min:"0.1",max:"1.0",step:"0.05",value:f.similarityThreshold,onChange:e=>p(t=>It(It({},t),{},{similarityThreshold:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:x}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Higher values = stricter grouping (0.1-1.0)"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Size"}),(0,fs.jsx)("input",{type:"number",min:"10",max:"200",step:"10",value:f.batchSize,onChange:e=>p(t=>It(It({},t),{},{batchSize:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",disabled:x}),(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Statutes processed per batch (10-200)"})]})]}),(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)("input",{id:"use-azure-openai",type:"checkbox",checked:f.useAzureOpenAI,onChange:e=>p(t=>It(It({},t),{},{useAzureOpenAI:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:x}),(0,fs.jsx)("label",{htmlFor:"use-azure-openai",className:"ml-2 block text-sm text-gray-900",children:"Use Azure OpenAI for semantic grouping"})]}),!(null!==r&&void 0!==r&&r.azure_openai_configured)&&f.useAzureOpenAI&&(0,fs.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:(0,fs.jsx)("p",{className:"text-sm text-yellow-800",children:"\u26a0\ufe0f Azure OpenAI is not configured. Grouping will use fallback similarity matching."})})]}),(0,fs.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Current Status"}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-blue-700",children:"Source Database:"}),(0,fs.jsx)("span",{className:"ml-2 text-blue-600",children:(null===r||void 0===r?void 0:r.source_database)||"N/A"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-blue-700",children:"Target Database:"}),(0,fs.jsx)("span",{className:"ml-2 text-blue-600",children:(null===r||void 0===r?void 0:r.target_database)||"N/A"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-blue-700",children:"Collections:"}),(0,fs.jsx)("span",{className:"ml-2 text-blue-600",children:(null===r||void 0===r?void 0:r.source_collections)||"0"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-blue-700",children:"Total Statutes:"}),(0,fs.jsx)("span",{className:"ml-2 text-blue-600",children:(null===(t=r.total_source_documents)||void 0===t?void 0:t.toLocaleString())||"0"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-blue-700",children:"Azure OpenAI:"}),(0,fs.jsx)("span",{className:"ml-2 ".concat(null!==r&&void 0!==r&&r.azure_openai_configured?"text-green-600":"text-red-600"),children:null!==r&&void 0!==r&&r.azure_openai_configured?"\u2713 Configured":"\u2717 Not Configured"})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("span",{className:"font-medium text-blue-700",children:"Model:"}),(0,fs.jsx)("span",{className:"ml-2 text-blue-600",children:(null===r||void 0===r?void 0:r.deployment_name)||"N/A"})]})]})]})]})}function Qr(e){let{isActive:t,onComplete:n,onError:r}=e;const[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),c=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(t){try{const e=Vr.createProgressStream();c.current=e,e.onopen=()=>{console.log("Progress stream connected"),o(!0)},e.onmessage=e=>{try{const t=JSON.parse(e.data);l(t),"completed"===t.status?setTimeout(()=>{n()},2e3):"error"===t.status&&r(t.error||"Unknown error occurred during grouping")}catch(t){console.error("Error parsing progress data:",t),r("Failed to parse progress data")}},e.onerror=e=>{console.error("EventSource error:",e),o(!1),t&&r("Lost connection to progress stream")}}catch(e){console.error("Failed to create progress stream:",e),r("Failed to connect to progress stream")}return()=>{c.current&&(c.current.close(),c.current=null,o(!1))}}c.current&&(c.current.close(),c.current=null,o(!1),l(null))},[t,n,r]),t?(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-4",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Grouping Progress"}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(i?"bg-green-400":"bg-red-400")}),(0,fs.jsx)("span",{className:"text-sm text-gray-500",children:i?"Connected":"Disconnected"})]})]}),a&&(0,fs.jsxs)(fs.Fragment,{children:[(0,fs.jsxs)("div",{className:"space-y-2",children:[(0,fs.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,fs.jsx)("span",{className:"font-medium text-gray-700",children:Wr(a.status)}),(0,fs.jsxs)("span",{className:"text-gray-500",children:[a.progress.toFixed(1),"%"]})]}),(0,fs.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,fs.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat($r(a.status)),style:{width:"".concat(a.progress,"%")}})})]}),(0,fs.jsxs)("div",{className:"flex items-start space-x-3",children:[Kr(a.status),(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsx)("p",{className:"text-sm text-gray-700",children:a.message}),a.timestamp&&(0,fs.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(a.timestamp).toLocaleTimeString()})]})]}),(a.total_statutes||a.total_groups||a.total_versioned)&&(0,fs.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100",children:[a.total_statutes&&(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.total_statutes.toLocaleString()}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:"Total Statutes"})]}),a.total_groups&&(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.total_groups.toLocaleString()}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:"Groups Created"})]}),a.total_versioned&&(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:a.total_versioned.toLocaleString()}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:"Versions Assigned"})]})]}),a.error&&(0,fs.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)(Ys,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,fs.jsx)("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})})]}),!a&&i&&(0,fs.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,fs.jsx)(Ms,{className:"h-6 w-6 animate-spin text-blue-500 mr-2"}),(0,fs.jsx)("span",{className:"text-gray-500",children:"Waiting for progress updates..."})]})]}):null}function Wr(e){switch(e){case"fetching":return"Fetching Statutes";case"fetching_complete":return"Fetching Complete";case"grouping":return"Grouping Statutes";case"grouping_complete":return"Grouping Complete";case"versioning":return"Assigning Versions";case"completed":return"Process Complete";case"error":return"Error";default:return"Processing"}}function $r(e){switch(e){case"completed":return"bg-green-500";case"error":return"bg-red-500";case"grouping":default:return"bg-blue-500";case"versioning":return"bg-purple-500"}}function Kr(e){switch(e){case"completed":return(0,fs.jsx)(Ir,{className:"h-5 w-5 text-green-500 flex-shrink-0"});case"error":return(0,fs.jsx)(Ys,{className:"h-5 w-5 text-red-500 flex-shrink-0"});default:return(0,fs.jsx)(Ms,{className:"h-5 w-5 animate-spin text-blue-500 flex-shrink-0"})}}const Jr=vs("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Gr=vs("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Yr=vs("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Xr=e=>{let{amendments:t}=e;return t&&0!==t.length?(0,fs.jsxs)("div",{className:"ml-4 mt-2",children:[(0,fs.jsxs)("div",{className:"text-xs text-blue-600 font-medium mb-1",children:["Amendments (",t.length,")"]}),(0,fs.jsx)("ul",{className:"space-y-1",children:t.map((e,t)=>(0,fs.jsxs)("li",{className:"text-sm text-blue-600 flex items-center",children:[(0,fs.jsx)(ur,{className:"w-3 h-3 mr-1 text-blue-400"}),e]},t))})]}):(0,fs.jsx)("span",{className:"text-gray-400 text-sm ml-2",children:"No amendments"})},Zr=e=>{let{analysis:t}=e;if(!t||!t.is_constitutional)return null;return(0,fs.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,fs.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ".concat((e=>{switch(e){case"amendment":return"bg-blue-100 text-blue-800 border-blue-200";case"repeal":return"bg-red-100 text-red-800 border-red-200";case"addition":return"bg-green-100 text-green-800 border-green-200";case"order":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(t.amendment_type)),children:[(0,fs.jsx)(Jr,{className:"w-3 h-3 mr-1"}),"Constitutional ",t.amendment_type]}),t.confidence>0&&(0,fs.jsxs)("div",{className:"text-xs text-gray-500",children:["Confidence: ",t.confidence,"%"]})]})},ea=e=>{let{member:t,isLatest:n,showDetails:s=!1}=e;return(0,fs.jsxs)("div",{className:"\n      relative p-3 rounded-lg border transition-all duration-200\n      ".concat((r=t.position,0===r?"bg-green-50 border-green-200 text-green-800":"bg-blue-50 border-blue-200 text-blue-800"),"\n      ").concat(n?"ring-2 ring-blue-300 shadow-md":"hover:shadow-sm","\n    "),children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)("div",{className:"w-6 h-6 rounded-full bg-white border-2 border-current flex items-center justify-center text-xs font-bold",children:t.position+1}),(0,fs.jsx)("span",{className:"ml-2 text-xs font-semibold",children:t.amendment_type})]}),n&&(0,fs.jsx)("div",{className:"text-xs font-medium bg-blue-600 text-white px-2 py-1 rounded",children:"Latest"})]}),(0,fs.jsx)("h4",{className:"font-medium text-sm leading-tight mb-2",children:t.statute_name}),(0,fs.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,fs.jsx)(Ss,{className:"w-3 h-3 mr-1"}),(e=>{if(!e)return"Unknown date";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return e}})(t.date)]}),s&&(0,fs.jsx)("div",{className:"mt-2 pt-2 border-t border-current/20",children:(0,fs.jsxs)("div",{className:"text-xs text-gray-600",children:["ID: ",t.statute_id.slice(-8)]})})]});var r},ta=e=>{let{chain:t,amendments:n,constitutionalAnalysis:s,isExpanded:r=!1,showFullDetails:a=!1}=e;if(!t&&n)return(0,fs.jsx)(Xr,{amendments:n});if(!t||!t.members||0===t.members.length)return(0,fs.jsxs)("div",{className:"text-gray-400 text-sm ml-2 flex items-center",children:[(0,fs.jsx)(Ys,{className:"w-3 h-3 mr-1"}),"No amendment chain"]});const l=[...t.members].sort((e,t)=>e.position-t.position),i=l[l.length-1];return(0,fs.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ns,{className:"w-4 h-4 text-blue-600 mr-2"}),(0,fs.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Amendment Chain: ",t.base_name]})]}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[t.total_amendments," amendments"]})]}),(0,fs.jsx)(Zr,{analysis:s}),(0,fs.jsx)("div",{className:"space-y-2",children:r?(0,fs.jsx)("div",{className:"grid gap-2",children:l.map(e=>(0,fs.jsx)(ea,{member:e,isLatest:e.statute_id===i.statute_id,showDetails:a},"".concat(e.statute_id,"-").concat(e.position)))}):(0,fs.jsxs)("div",{className:"grid gap-2",children:[(0,fs.jsx)(ea,{member:l[0],isLatest:!1,showDetails:a}),l.length>2&&(0,fs.jsx)("div",{className:"text-center py-2",children:(0,fs.jsxs)("div",{className:"text-xs text-gray-400 bg-gray-50 inline-block px-3 py-1 rounded-full",children:["... ",l.length-2," intermediate amendment",l.length-2!==1?"s":""," ..."]})}),l.length>1&&(0,fs.jsx)(ea,{member:i,isLatest:!0,showDetails:a})]})}),a&&(0,fs.jsxs)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[(0,fs.jsxs)("div",{children:["Chain ID: ",t.chain_id]}),(0,fs.jsxs)("div",{children:["Created: ",new Date(t.creation_date).toLocaleString()]})]})]})},na=e=>{let{chains:t,onChainSelect:n,selectedChainId:s}=e;return t&&0!==t.length?(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:["Found ",t.length," amendment chain",1!==t.length?"s":""]}),t.map(e=>(0,fs.jsxs)("div",{className:"\n            p-4 rounded-lg border cursor-pointer transition-all duration-200\n            ".concat(s===e.chain_id?"border-blue-300 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm","\n          "),onClick:()=>null===n||void 0===n?void 0:n(e),children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,fs.jsx)("h3",{className:"font-medium text-gray-900",children:e.base_name}),(0,fs.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[e.total_amendments," amendments"]})]}),(0,fs.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[e.members.length," statutes in chain"]}),(0,fs.jsx)(ta,{chain:e,isExpanded:s===e.chain_id,showFullDetails:!1})]},e.chain_id))]}):(0,fs.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,fs.jsx)(Ns,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,fs.jsx)("p",{children:"No amendment chains detected"}),(0,fs.jsx)("p",{className:"text-sm mt-1",children:"Run amendment chain detection first"})]})},sa=ta,ra=e=>{let{statistics:t,isLoading:n,error:s,onDetectChains:r,onExportJson:a,onExportCsv:l}=e;return n?(0,fs.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:(0,fs.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,fs.jsx)(Js,{className:"w-5 h-5 animate-spin text-blue-600"}),(0,fs.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading statistics..."})]})}):s?(0,fs.jsx)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6",children:(0,fs.jsxs)("div",{className:"flex items-center text-red-800",children:[(0,fs.jsx)(Ys,{className:"w-5 h-5 mr-2"}),(0,fs.jsxs)("span",{className:"text-sm",children:["Failed to load statistics: ",s]})]})}):t?(0,fs.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsxs)("h3",{className:"text-lg font-semibold flex items-center",children:[(0,fs.jsx)(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Collection Statistics"]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,fs.jsxs)("button",{onClick:r,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,fs.jsx)(Ns,{className:"w-4 h-4 mr-1"}),"Detect Chains"]}),a&&(0,fs.jsxs)("button",{onClick:a,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,fs.jsx)(ar,{className:"w-4 h-4 mr-1"}),"JSON"]}),l&&(0,fs.jsxs)("button",{onClick:l,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,fs.jsx)(ar,{className:"w-4 h-4 mr-1"}),"CSV"]})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.total_statutes}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Total Statutes"})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.constitutional_amendments||0}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Constitutional"})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.amendment_chains||0}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Amendment Chains"})]}),(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:t.province_distribution.length}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:"Provinces"})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Top Provinces"}),(0,fs.jsx)("div",{className:"space-y-1",children:t.province_distribution.slice(0,3).map((e,t)=>(0,fs.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,fs.jsx)("span",{className:"text-gray-600",children:e.province}),(0,fs.jsx)("span",{className:"font-medium",children:e.count})]},t))})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Statute Types"}),(0,fs.jsx)("div",{className:"space-y-1",children:t.type_distribution.slice(0,3).map((e,t)=>(0,fs.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,fs.jsx)("span",{className:"text-gray-600",children:e.type}),(0,fs.jsx)("span",{className:"font-medium",children:e.count})]},t))})]})]})]}):(0,fs.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6",children:(0,fs.jsxs)("div",{className:"text-center text-gray-500",children:[(0,fs.jsx)(ks,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),(0,fs.jsx)("p",{className:"text-sm",children:"No statistics available"})]})})};function aa(e){let{refreshTrigger:t,selectedCollection:n,onRefresh:r}=e;const[a,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(new Set),[h,f]=(0,s.useState)(new Set),[p,x]=(0,s.useState)([]),[g,y]=(0,s.useState)(null),[b,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(null),[w,S]=(0,s.useState)([]),[k,_]=(0,s.useState)(!1),[C,E]=(0,s.useState)({page:1,limit:20,total:0,pages:0}),[P,O]=(0,s.useState)({searchTerm:"",selectedProvince:"all",selectedYear:"all",amendmentTypeFilter:"all",constitutionalOnly:!1,showChainOnly:!1}),T=(0,s.useMemo)(()=>({searchTerm:P.searchTerm,selectedProvince:P.selectedProvince,selectedYear:P.selectedYear,amendmentTypeFilter:P.amendmentTypeFilter,constitutionalOnly:P.constitutionalOnly,showChainOnly:P.showChainOnly}),[P.searchTerm,P.selectedProvince,P.selectedYear,P.amendmentTypeFilter,P.constitutionalOnly,P.showChainOnly]),[R,L]=(0,s.useState)({province:"",statute_type:"",base_name:""}),[A,F]=(0,s.useState)({field:"name",direction:"asc"}),D=(0,s.useMemo)(()=>((e,t,n)=>{if(!e||0===e.length)return[];let s=e.filter(e=>{if(!e)return!1;if(t.searchTerm){var n,s,r,a,l;const i=t.searchTerm.toLowerCase(),o=(e.title||e.base_name||"").toLowerCase().includes(i),c=(null===(n=e.provinces)||void 0===n?void 0:n.some(e=>e.toLowerCase().includes(i)))||(null===(s=e.province)||void 0===s?void 0:s.toLowerCase().includes(i))||!1,d=(null===(r=e.statute_type)||void 0===r?void 0:r.toLowerCase().includes(i))||!1,u=(null===(a=e.constitutional_info)||void 0===a||null===(l=a.constitutional_base)||void 0===l?void 0:l.toLowerCase().includes(i))||!1;if(!o&&!c&&!d&&!u)return!1}var i,o,c,d;if(t.selectedProvince&&"all"!==t.selectedProvince&&(!(null===(i=e.provinces)||void 0===i?void 0:i.includes(t.selectedProvince))&&e.province!==t.selectedProvince))return!1;if(t.selectedYear&&"all"!==t.selectedYear&&!(null===(o=e.years)||void 0===o?void 0:o.includes(t.selectedYear)))return!1;if(t.constitutionalOnly&&!(null===(c=e.constitutional_info)||void 0===c?void 0:c.is_constitutional))return!1;if(t.showChainOnly&&!(e.amendment_chain&&e.amendment_chain.members&&e.amendment_chain.members.length>1))return!1;if(t.amendmentTypeFilter&&"all"!==t.amendmentTypeFilter&&(null===(d=e.constitutional_info)||void 0===d?void 0:d.amendment_type)!==t.amendmentTypeFilter)return!1;return!0});return s.sort((e,t)=>{var s,r,a,l,i,o,c,d;let u,m;switch(n.field){case"name":default:u=e.title||e.base_name||"",m=t.title||t.base_name||"";break;case"year":u=Math.max(...(null===(s=e.years)||void 0===s?void 0:s.map(e=>parseInt(e)||0))||[0]),m=Math.max(...(null===(r=t.years)||void 0===r?void 0:r.map(e=>parseInt(e)||0))||[0]);break;case"province":u=(null===(a=e.provinces)||void 0===a?void 0:a[0])||e.province||"",m=(null===(l=t.provinces)||void 0===l?void 0:l[0])||t.province||"";break;case"amendments":u=(null===(i=e.amendment_chain)||void 0===i?void 0:i.total_amendments)||e.version_count||0,m=(null===(o=t.amendment_chain)||void 0===o?void 0:o.total_amendments)||t.version_count||0;break;case"confidence":u=e.group_confidence||(null===(c=e.constitutional_info)||void 0===c?void 0:c.confidence)||0,m=t.group_confidence||(null===(d=t.constitutional_info)||void 0===d?void 0:d.confidence)||0}if("string"===typeof u){const e=u.localeCompare(m);return"asc"===n.direction?e:-e}{const e=u-m;return"asc"===n.direction?e:-e}}),s})(a,T,A),[a,T,A]),z=(0,s.useMemo)(()=>{const e=new Set;return a.forEach(t=>{var n;null===(n=t.years)||void 0===n||n.forEach(t=>e.add(t))}),Array.from(e).sort((e,t)=>parseInt(t)-parseInt(e))},[a]),M=(0,s.useMemo)(()=>{const e=new Set;return a.forEach(t=>{var n;null!==(n=t.constitutional_info)&&void 0!==n&&n.amendment_type&&e.add(t.constitutional_info.amendment_type)}),Array.from(e).sort()},[a]),U=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(n)for(let t=1;t<=e;t++)try{const e=await Vr.detectAmendmentChains(n);return S(e.chains||[]),void _(!0)}catch(c){console.error("Amendment chain detection attempt ".concat(t," failed:"),c),t===e?d("Failed to detect amendment chains after ".concat(e," attempts")):await new Promise(e=>setTimeout(e,1e3*Math.pow(2,t-1)))}},[n]),I=(0,s.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(n)for(let s=1;s<=t;s++)try{const t=await Vr.exportGroupsEnhanced(e,n,!0,T);return void await Vr.downloadExport(t,"phase5-groups-".concat(n,"-").concat((new Date).toISOString().split("T")[0]),e)}catch(c){console.error("Export attempt ".concat(s," failed:"),c),s===t?d("Failed to export groups after ".concat(t," attempts")):await new Promise(e=>setTimeout(e,1e3*Math.pow(2,s-1)))}},[n,T]);(0,s.useEffect)(()=>{(async()=>{try{const e=await Vr.getProvinces();x(e.provinces)}catch(c){console.error("Failed to load provinces:",c)}})()},[]),(0,s.useEffect)(()=>{n&&(async()=>{if(n){v(!0),N(null);try{const e=await Vr.getCollectionStatistics(n);y(e)}catch(c){console.error("Failed to load statistics:",c),N(c instanceof Error?c.message:"Unknown error")}finally{v(!1)}}})()},[n]);const B=(0,s.useMemo)(()=>({province:R.province,statute_type:R.statute_type,base_name:R.base_name}),[R.province,R.statute_type,R.base_name]),q=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{o(!0),d(null);const t=20,n=await Vr.getGroups(e,t,It(It(It({},B.province&&{province:B.province}),B.statute_type&&{statute_type:B.statute_type}),B.base_name&&{base_name:B.base_name}));if(n.success){const e=Array.isArray(n.groups)?n.groups:[];l(e),E(n.pagination||{page:1,limit:20,total:0,pages:0}),d(null)}else d(n.message||"Failed to load statute groups"),l([])}catch(t){console.error("Error loading groups:",t),d(t instanceof Error?t.message:"Unknown error occurred")}finally{o(!1)}},[B]),V=async e=>{const t=u.has(e),n=new Set(u);if(t)n.delete(e);else{n.add(e);const t=a.find(t=>t.group_id===e);t&&!t.statutes&&await(async e=>{try{f(t=>new Set(t).add(e));const t=await Vr.getGroupedStatutes(e);t.success&&l(n=>n.map(n=>n.group_id===e?It(It({},n),{},{statutes:t.statutes}):n))}catch(t){console.error("Error loading group statutes:",t),d(t instanceof Error?t.message:"Failed to load group statutes")}finally{f(t=>{const n=new Set(t);return n.delete(e),n})}})(e)}m(n)},H=async e=>{try{const t=await Vr.exportGroups(e),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="statute-groups.".concat(e),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}catch(t){console.error("Export failed:",t),d(t instanceof Error?t.message:"Export failed")}};(0,s.useEffect)(()=>{q(1)},[q,t]);const Q=(e,t)=>{L(n=>It(It({},n),{},{[e]:t})),E(e=>It(It({},e),{},{page:1}))};return!i||a&&0!==a.length?c?(0,fs.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Groups"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:c}),(0,fs.jsx)("button",{onClick:()=>q((null===C||void 0===C?void 0:C.page)||1),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})}):(0,fs.jsxs)("div",{className:"space-y-6",children:[n&&(0,fs.jsx)(ra,{statistics:g||void 0,isLoading:b,error:j||void 0,onDetectChains:U,onExportJson:()=>I("json"),onExportCsv:()=>I("csv")}),k&&(0,fs.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold",children:"Amendment Chains"}),(0,fs.jsx)("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,fs.jsx)(na,{chains:w,onChainSelect:e=>console.log("Selected chain:",e)})]}),(0,fs.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[(0,fs.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,fs.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,fs.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Grouped Statutes",(null===C||void 0===C?void 0:C.total)&&C.total>0&&(0,fs.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",C.total.toLocaleString()," groups)"]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsxs)("button",{onClick:()=>H("json"),className:"flex items-center px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,fs.jsx)(ar,{className:"h-4 w-4 mr-1"}),"JSON"]}),(0,fs.jsxs)("button",{onClick:()=>H("csv"),className:"flex items-center px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,fs.jsx)(ar,{className:"h-4 w-4 mr-1"}),"CSV"]})]})]}),(0,fs.jsxs)("div",{className:"space-y-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Groups"}),(0,fs.jsxs)("div",{className:"relative",children:[(0,fs.jsx)(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,fs.jsx)("input",{type:"text",placeholder:"Search by name, province, type, or constitutional base...",value:P.searchTerm,onChange:e=>O(t=>It(It({},t),{},{searchTerm:e.target.value})),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,fs.jsxs)("select",{value:P.selectedProvince,onChange:e=>O(t=>It(It({},t),{},{selectedProvince:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,fs.jsx)("option",{value:"all",children:"All Provinces"}),p.map(e=>(0,fs.jsx)("option",{value:e,children:e},e))]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,fs.jsxs)("select",{value:P.selectedYear,onChange:e=>O(t=>It(It({},t),{},{selectedYear:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,fs.jsx)("option",{value:"all",children:"All Years"}),z.map(e=>(0,fs.jsx)("option",{value:e,children:e},e))]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amendment Type"}),(0,fs.jsxs)("select",{value:P.amendmentTypeFilter,onChange:e=>O(t=>It(It({},t),{},{amendmentTypeFilter:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,fs.jsx)("option",{value:"all",children:"All Types"}),M.map(e=>(0,fs.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,fs.jsxs)("div",{className:"flex space-x-1",children:[(0,fs.jsxs)("select",{value:A.field,onChange:e=>F(t=>It(It({},t),{},{field:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,fs.jsx)("option",{value:"name",children:"Name"}),(0,fs.jsx)("option",{value:"year",children:"Year"}),(0,fs.jsx)("option",{value:"province",children:"Province"}),(0,fs.jsx)("option",{value:"amendments",children:"Amendments"}),(0,fs.jsx)("option",{value:"confidence",children:"Confidence"})]}),(0,fs.jsx)("button",{onClick:()=>F(e=>It(It({},e),{},{direction:"asc"===e.direction?"desc":"asc"})),className:"px-3 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-50 transition-colors",title:"Sort ".concat("asc"===A.direction?"ascending":"descending"),children:"asc"===A.direction?"\u2191":"\u2193"})]})]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:P.constitutionalOnly,onChange:e=>O(t=>It(It({},t),{},{constitutionalOnly:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,fs.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Constitutional only"})]}),(0,fs.jsxs)("label",{className:"flex items-center",children:[(0,fs.jsx)("input",{type:"checkbox",checked:P.showChainOnly,onChange:e=>O(t=>It(It({},t),{},{showChainOnly:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,fs.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Amendment chains only"})]}),(0,fs.jsx)("button",{onClick:()=>O({searchTerm:"",selectedProvince:"all",selectedYear:"all",amendmentTypeFilter:"all",constitutionalOnly:!1,showChainOnly:!1}),className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 rounded hover:bg-blue-50 transition-colors",children:"Clear all filters"})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Legacy Search by Name"}),(0,fs.jsxs)("div",{className:"relative",children:[(0,fs.jsx)(cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,fs.jsx)("input",{type:"text",placeholder:"Enter statute name...",value:R.base_name,onChange:e=>Q("base_name",e.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Legacy Province"}),(0,fs.jsxs)("select",{value:R.province,onChange:e=>Q("province",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:[(0,fs.jsx)("option",{value:"",children:"All Provinces"}),p.map(e=>(0,fs.jsx)("option",{value:e,children:e},e))]})]}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Legacy Statute Type"}),(0,fs.jsx)("input",{type:"text",placeholder:"e.g., Act, Regulation...",value:R.statute_type,onChange:e=>Q("statute_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),(0,fs.jsx)("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,fs.jsxs)("span",{children:["Showing ",D.length," of ",a.length," groups",D.length!==a.length&&(0,fs.jsx)("span",{className:"text-blue-600 ml-1",children:"(filtered)"})]}),(0,fs.jsxs)("span",{children:[D.reduce((e,t)=>{var n;return e+(t.total_statutes||t.version_count||(null===(n=t.statutes)||void 0===n?void 0:n.length)||0)},0)," total statutes"]})]})}),(0,fs.jsx)("div",{className:"divide-y divide-gray-200",children:a&&0!==a.length?0===D.length?(0,fs.jsxs)("div",{className:"p-8 text-center",children:[(0,fs.jsx)(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Groups Match Your Filters"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or filter settings to find groups."}),(0,fs.jsx)("button",{onClick:()=>O({searchTerm:"",selectedProvince:"all",selectedYear:"all",amendmentTypeFilter:"all",constitutionalOnly:!1,showChainOnly:!1}),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Clear All Filters"})]}):D.map(e=>(0,fs.jsx)(la,{group:e,isExpanded:u.has(e.group_id||e.id||""),isLoadingStatutes:h.has(e.group_id||e.id||""),onToggle:()=>V(e.group_id||e.id||"")},e.group_id||e.id)):(0,fs.jsxs)("div",{className:"p-8 text-center",children:[(0,fs.jsx)(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i?"Loading Groups...":"No Grouped Statutes Available"}),(0,fs.jsx)("p",{className:"text-gray-600",children:i?"Please wait while we load the statute groups.":Object.values(R).some(e=>e)?"Try adjusting your filters to see more results.":"Run the grouping process to create statute groups from your documents."})]})}),(null===C||void 0===C?void 0:C.pages)&&C.pages>1&&(0,fs.jsxs)("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing page ",C.page||1," of ",C.pages||1]}),(0,fs.jsxs)("div",{className:"flex space-x-2",children:[(0,fs.jsx)("button",{onClick:()=>q((C.page||1)-1),disabled:(C.page||1)<=1||i,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,fs.jsx)("button",{onClick:()=>q((C.page||1)+1),disabled:(C.page||1)>=(C.pages||1)||i,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]}):(0,fs.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:(0,fs.jsxs)("div",{className:"flex items-center justify-center",children:[(0,fs.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,fs.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading statute groups..."})]})})}function la(e){var t,n;let{group:s,isExpanded:r,isLoadingStatutes:a,onToggle:l}=e;const i=s.amendment_chain&&s.amendment_chain.members&&s.amendment_chain.members.length>1,o=(null===(t=s.constitutional_info)||void 0===t?void 0:t.is_constitutional)||!1,c=s.constitutional_info||s.amendment_chain;return(0,fs.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",children:[(0,fs.jsx)("button",{onClick:l,className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition-colors",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[r?(0,fs.jsx)(Es,{className:"h-5 w-5 text-gray-400"}):(0,fs.jsx)(ur,{className:"h-5 w-5 text-gray-400"}),(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsxs)("div",{className:"flex items-center mb-2",children:[(0,fs.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mr-3",children:s.base_name}),(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[o&&(0,fs.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[(0,fs.jsx)(Jr,{className:"w-3 h-3 mr-1"}),"Constitutional"]}),i&&(0,fs.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:[(0,fs.jsx)(Ns,{className:"w-3 h-3 mr-1"}),null===(n=s.amendment_chain)||void 0===n?void 0:n.total_amendments," Amendments"]}),c&&(0,fs.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:[(0,fs.jsx)(Ir,{className:"w-3 h-3 mr-1"}),"AI Analyzed"]})]})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ns,{className:"h-4 w-4 mr-1"}),s.version_count," version",1!==s.version_count?"s":""]}),s.province&&(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Gr,{className:"h-4 w-4 mr-1"}),s.province]}),s.statute_type&&(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Yr,{className:"h-4 w-4 mr-1"}),s.statute_type]}),s.group_confidence&&s.group_confidence>0&&(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ir,{className:"w-4 h-4 mr-1"}),Math.round(100*s.group_confidence),"% confidence"]})]})]})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]})}),r&&(0,fs.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[a?(0,fs.jsxs)("div",{className:"flex items-center justify-center py-4",children:[(0,fs.jsx)(Js,{className:"w-5 h-5 animate-spin text-blue-500 mr-2"}),(0,fs.jsx)("span",{className:"text-gray-600",children:"Loading statutes..."})]}):s.statutes&&s.statutes.length>0?(0,fs.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,fs.jsxs)("h4",{className:"font-medium text-gray-900",children:["Statutes (",s.statutes.length,")"]}),s.statutes.sort((e,t)=>e.version_number-t.version_number).map(e=>(0,fs.jsx)(ia,{statute:e},e._id))]}):(0,fs.jsx)("div",{className:"text-gray-500 text-sm mb-4",children:"No statutes loaded for this group"}),i&&(0,fs.jsx)("div",{className:"mt-4",children:(0,fs.jsx)(sa,{chain:s.amendment_chain,constitutionalAnalysis:s.constitutional_info,isExpanded:!0,showFullDetails:!1})}),s.constitutional_info&&!i&&(0,fs.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[(0,fs.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"Constitutional Analysis"}),(0,fs.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,fs.jsxs)("p",{children:[(0,fs.jsx)("strong",{children:"Type:"})," ",s.constitutional_info.amendment_type||"Not specified"]}),(0,fs.jsxs)("p",{children:[(0,fs.jsx)("strong",{children:"Base:"})," ",s.constitutional_info.constitutional_base||"Not specified"]}),s.constitutional_info.target_articles&&s.constitutional_info.target_articles.length>0&&(0,fs.jsxs)("p",{className:"mt-1",children:[(0,fs.jsx)("strong",{children:"Target Articles:"})," ",s.constitutional_info.target_articles.slice(0,3).join(", "),s.constitutional_info.target_articles.length>3&&" +".concat(s.constitutional_info.target_articles.length-3," more")]}),(0,fs.jsxs)("p",{className:"mt-1",children:[(0,fs.jsx)("strong",{children:"Confidence:"})," ",Math.round(100*(s.constitutional_info.confidence||0)),"%"]})]})]})]})]})}function ia(e){var t;let{statute:n}=e;return(0,fs.jsx)("div",{className:"p-3 bg-white border rounded-md ".concat(n.is_base_version?"border-blue-200 bg-blue-50":"border-gray-200"),children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{className:"flex-1",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,fs.jsxs)("span",{className:"text-sm font-medium ".concat(n.is_base_version?"text-blue-900":"text-gray-900"),children:["Version ",n.version_number,n.is_base_version&&(0,fs.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full",children:"Base"})]}),n.similarity_score&&(0,fs.jsxs)("span",{className:"text-xs text-gray-500",children:["(",(100*n.similarity_score).toFixed(1),"% similarity)"]})]}),n.date_enacted&&(0,fs.jsxs)("div",{className:"flex items-center text-xs text-gray-600 mt-1",children:[(0,fs.jsx)(Ss,{className:"h-3 w-3 mr-1"}),new Date(n.date_enacted).toLocaleDateString()]})]}),(0,fs.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=n.statute_data)||void 0===t?void 0:t.title)||"No title"})]})})}function oa(){var e,t,n,r;const[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[h,f]=(0,s.useState)(0),[p,x]=(0,s.useState)(null),[g,y]=(0,s.useState)(""),b=async e=>{try{o(!0),d(null);const n=e||g,s=await Vr.getStatus(n||void 0);if(s){if(l(s),m(s.is_processing||!1),s.grouped_documents&&s.grouped_documents>0)try{const e=await Vr.getStatistics();x(e)}catch(t){console.error("Failed to load statistics:",t)}}else d("Invalid response from Phase 5 service")}catch(n){console.error("Error loading status:",n),d(n instanceof Error?n.message:"Failed to load Phase 5 status. Service may not be available."),l({current_phase:"phase5",status:"unknown",is_processing:!1,source_database:"N/A",target_database:"N/A",source_collections:0,total_source_documents:0,grouped_documents:0,azure_openai_configured:!1,deployment_name:"N/A",current_progress:0})}finally{o(!1)}},v=e=>{d(e),m(!1),b()};(0,s.useEffect)(()=>{b()},[]);const j=()=>{b()};return i?(0,fs.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,fs.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,fs.jsxs)("div",{className:"flex items-center justify-center",children:[(0,fs.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,fs.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading Phase 5 Dashboard..."})]})})})}):c&&!a?(0,fs.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,fs.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-8",children:(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)(Ys,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,fs.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Dashboard"}),(0,fs.jsx)("p",{className:"text-gray-600 mb-6",children:c}),(0,fs.jsx)("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Try Again"})]})})})}):(0,fs.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,fs.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Phase 5: Statute Grouping & Versioning"}),(0,fs.jsx)("p",{className:"text-gray-600 mt-2",children:"Semantic grouping and chronological versioning of legal statutes using AI"})]}),(0,fs.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,fs.jsxs)("button",{onClick:j,className:"flex items-center px-3 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,fs.jsx)(Js,{className:"h-4 w-4 mr-1"}),"Refresh"]}),a&&a.grouped_documents&&a.grouped_documents>0&&(0,fs.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear all grouping data? This action cannot be undone."))try{await Vr.clearGroups(),f(e=>e+1),x(null),b()}catch(e){console.error("Error clearing data:",e),d(e instanceof Error?e.message:"Failed to clear data")}},className:"flex items-center px-3 py-2 text-sm border border-red-300 text-red-700 rounded-md hover:bg-red-50",children:[(0,fs.jsx)(tr,{className:"h-4 w-4 mr-1"}),"Clear Data"]})]})]})}),c&&(0,fs.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,fs.jsxs)("div",{className:"flex items-start",children:[(0,fs.jsx)(Ys,{className:"h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"}),(0,fs.jsxs)("div",{children:[(0,fs.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,fs.jsx)("p",{className:"text-sm text-red-700 mt-1",children:c}),(0,fs.jsx)("button",{onClick:()=>d(null),className:"text-sm text-red-600 underline mt-2 hover:text-red-800",children:"Dismiss"})]})]})}),p&&(0,fs.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(ks,{className:"h-8 w-8 text-blue-500"}),(0,fs.jsxs)("div",{className:"ml-4",children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Groups"}),(0,fs.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===p||void 0===p||null===(e=p.total_groups)||void 0===e?void 0:e.toLocaleString())||"0"})]})]})}),(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(Ir,{className:"h-8 w-8 text-green-500"}),(0,fs.jsxs)("div",{className:"ml-4",children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Statutes"}),(0,fs.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===p||void 0===p||null===(t=p.total_statutes)||void 0===t?void 0:t.toLocaleString())||"0"})]})]})}),(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(ks,{className:"h-8 w-8 text-purple-500"}),(0,fs.jsxs)("div",{className:"ml-4",children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg Versions"}),(0,fs.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===p||void 0===p||null===(n=p.average_versions_per_group)||void 0===n?void 0:n.toFixed(1))||"0.0"})]})]})}),(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,fs.jsxs)("div",{className:"flex items-center",children:[(0,fs.jsx)(tr,{className:"h-8 w-8 text-orange-500"}),(0,fs.jsxs)("div",{className:"ml-4",children:[(0,fs.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Most Common Province"}),(0,fs.jsx)("p",{className:"text-lg font-bold text-gray-900",children:(null===(r=Object.entries(p.groups_by_province||{}).sort((e,t)=>{let[,n]=e,[,s]=t;return s-n})[0])||void 0===r?void 0:r[0])||"N/A"})]})]})})]}),(0,fs.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,fs.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[a&&(0,fs.jsx)(Hr,{status:a,disabled:u,onGroupingStarted:(e,t)=>{m(!0),d(null),setTimeout(()=>{b()},1e3)},onError:v,onCollectionChanged:e=>{y(e),b(e)}}),(0,fs.jsx)(Qr,{isActive:u,onComplete:()=>{m(!1),f(e=>e+1),b()},onError:v})]}),(0,fs.jsx)("div",{className:"lg:col-span-2",children:(0,fs.jsx)(aa,{refreshTrigger:h})})]}),p&&p.groups_by_province&&Object.keys(p.groups_by_province).length>0&&(0,fs.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,fs.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Groups by Province"}),(0,fs.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:Object.entries(p.groups_by_province).sort((e,t)=>{let[,n]=e,[,s]=t;return s-n}).map(e=>{let[t,n]=e;return(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n}),(0,fs.jsx)("div",{className:"text-sm text-gray-600",children:t})]},t)})})]}),(0,fs.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,fs.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,fs.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,fs.jsxs)("span",{children:["Phase: ",null===a||void 0===a?void 0:a.current_phase]}),(0,fs.jsxs)("span",{children:["Status: ",null===a||void 0===a?void 0:a.status]}),(null===a||void 0===a?void 0:a.azure_openai_configured)&&(0,fs.jsx)("span",{className:"text-green-600",children:"\u2713 Azure OpenAI"})]}),(0,fs.jsxs)("div",{children:["Last updated: ",(new Date).toLocaleTimeString()]})]})})]})})}const ca=()=>(0,fs.jsx)(oa,{});function da(){console.log("\ud83d\udd0d AppRoutes: Component rendering");const{isAuthenticated:e,isLoading:t}=gs();return console.log("\ud83d\udd0d AppRoutes: Auth state:",{isAuthenticated:e,isLoading:t}),t?(console.log("\ud83d\udd0d AppRoutes: Showing loading spinner"),(0,fs.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,fs.jsxs)("div",{className:"text-center",children:[(0,fs.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"LawChronicle"}),(0,fs.jsx)("p",{className:"text-gray-600",children:"Initializing..."}),(0,fs.jsx)("div",{className:"mt-4 animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600 mx-auto"})]})})):e?(console.log("\ud83d\udd0d AppRoutes: Showing authenticated layout"),(0,fs.jsx)(Ts,{children:(0,fs.jsxs)(be,{children:[(0,fs.jsx)(ge,{path:"/",element:(0,fs.jsx)(xe,{to:"/dashboard",replace:!0})}),(0,fs.jsx)(ge,{path:"/dashboard",element:(0,fs.jsx)(Ks,{})}),(0,fs.jsx)(ge,{path:"/phase1",element:(0,fs.jsx)(pr,{})}),(0,fs.jsx)(ge,{path:"/phase2",element:(0,fs.jsx)(Cr,{})}),(0,fs.jsx)(ge,{path:"/phase3",element:(0,fs.jsx)(Or,{})}),(0,fs.jsx)(ge,{path:"/phase4",element:(0,fs.jsx)(Ur,{})}),(0,fs.jsx)(ge,{path:"/phase5",element:(0,fs.jsx)(ca,{})}),(0,fs.jsx)(ge,{path:"*",element:(0,fs.jsx)(xe,{to:"/dashboard",replace:!0})})]})})):(console.log("\ud83d\udd0d AppRoutes: Showing login page"),(0,fs.jsx)(As,{}))}const ua=function(){return console.log("\ud83d\udd0d App: Component rendering"),(0,fs.jsx)(xs,{children:(0,fs.jsx)(da,{})})},ma=new Te.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});a.createRoot(document.getElementById("root")).render((0,fs.jsx)(s.StrictMode,{children:(0,fs.jsx)(Te.QueryClientProvider,{client:ma,children:(0,fs.jsx)(ke,{children:(0,fs.jsx)(ua,{})})})}))})()})();
//# sourceMappingURL=main.a44bc33a.js.map