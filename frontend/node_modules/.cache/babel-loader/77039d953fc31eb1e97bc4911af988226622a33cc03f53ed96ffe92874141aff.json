{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Database,Activity,Play,Square,Download,CheckCircle,Clock,FileText,Zap,Settings,BarChart3}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Phase4Dashboard=()=>{var _status$total_documen;const[status,setStatus]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('configuration');// Processing Configuration State\nconst[processingMode,setProcessingMode]=useState('all');const[selectedBatch,setSelectedBatch]=useState('');const[collectionPrefix,setCollectionPrefix]=useState('batch');const[availableBatches,setAvailableBatches]=useState([]);// Additional configuration state\nconst[mongoUri,setMongoUri]=useState('');const[sourceDb,setSourceDb]=useState('Batched-Statutes');const[sourceCollection,setSourceCollection]=useState('');const[targetDb,setTargetDb]=useState('Date-Enriched-Batches');const[batchSize,setBatchSize]=useState(100);const[useAzureOpenAI,setUseAzureOpenAI]=useState(true);const[azureEndpoint,setAzureEndpoint]=useState('');const[azureApiKey,setAzureApiKey]=useState('');const[azureDeployment,setAzureDeployment]=useState('');const[dryRun,setDryRun]=useState(false);// Processing State\nconst[isProcessing,setIsProcessing]=useState(false);const[progress,setProgress]=useState(null);const[processingComplete,setProcessingComplete]=useState(false);useEffect(()=>{fetchStatus();fetchAvailableBatches();loadConfig();},[]);const loadConfig=()=>{try{var _cfg$useAzureOpenAI,_cfg$dryRun;const raw=localStorage.getItem('phase4_config');if(!raw)return;const cfg=JSON.parse(raw);setMongoUri(cfg.mongoUri||'');setSourceDb(cfg.sourceDb||'Batched-Statutes');setSourceCollection(cfg.sourceCollection||'');setTargetDb(cfg.targetDb||'Date-Enriched-Batches');setCollectionPrefix(cfg.collectionPrefix||'batch');setBatchSize(cfg.batchSize||100);setUseAzureOpenAI((_cfg$useAzureOpenAI=cfg.useAzureOpenAI)!==null&&_cfg$useAzureOpenAI!==void 0?_cfg$useAzureOpenAI:true);setAzureEndpoint(cfg.azureEndpoint||'');setAzureApiKey(cfg.azureApiKey||'');setAzureDeployment(cfg.azureDeployment||'');setDryRun((_cfg$dryRun=cfg.dryRun)!==null&&_cfg$dryRun!==void 0?_cfg$dryRun:false);}catch(e){console.error('Failed to load Phase4 config',e);}};const handleSaveConfig=()=>{const cfg={mongoUri,sourceDb,sourceCollection,targetDb,collectionPrefix,batchSize,useAzureOpenAI,azureEndpoint,azureApiKey,azureDeployment,dryRun};try{localStorage.setItem('phase4_config',JSON.stringify(cfg));// small feedback - keep it minimal\nconsole.info('Phase4 configuration saved');}catch(e){console.error('Failed to save config',e);}};const handleResetConfig=()=>{setMongoUri('');setSourceDb('Batched-Statutes');setSourceCollection('');setTargetDb('Date-Enriched-Batches');setCollectionPrefix('batch');setBatchSize(100);setUseAzureOpenAI(true);setAzureEndpoint('');setAzureApiKey('');setAzureDeployment('');setDryRun(false);localStorage.removeItem('phase4_config');};const fetchStatus=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const res=await fetch('/api/v1/phase4/status',{headers});const data=await res.json();if(data.success){setStatus(data);}setLoading(false);}catch(e){console.error(e);setError('Failed to fetch status');setLoading(false);}};const fetchAvailableBatches=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const res=await fetch('/api/v1/phase4/available-batches',{headers});const data=await res.json();if(data.success){var _data$batches;setAvailableBatches(data.batches||[]);if(((_data$batches=data.batches)===null||_data$batches===void 0?void 0:_data$batches.length)>0&&!selectedBatch){setSelectedBatch(data.batches[0]);}}}catch(e){console.error('Failed to fetch available batches:',e);}};const handleStartProcessing=async()=>{try{setIsProcessing(true);setProcessingComplete(false);setProgress(null);setActiveTab('processing');// Auto-navigate to processing tab\nconst headers={'Content-Type':'application/json'};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const requestBody={processing_mode:processingMode,selected_batch:processingMode==='single'?selectedBatch:null,collection_prefix:collectionPrefix};const response=await fetch('/api/v1/phase4/start-processing',{method:'POST',headers,body:JSON.stringify(requestBody)});if(response.ok){// Start listening for progress updates\nconst eventSource=new EventSource('/api/v1/phase4/processing-progress');eventSource.onmessage=event=>{const data=JSON.parse(event.data);setProgress(data);if(data.status==='completed'){setIsProcessing(false);setProcessingComplete(true);setActiveTab('results');// Auto-navigate to results tab when completed\neventSource.close();fetchStatus();}else if(data.status==='error'){var _data$log_messages;setIsProcessing(false);eventSource.close();setError('Processing failed: '+((_data$log_messages=data.log_messages)===null||_data$log_messages===void 0?void 0:_data$log_messages.slice(-1)[0]));}};eventSource.onerror=()=>{setIsProcessing(false);eventSource.close();setError('Connection to progress stream lost');};}else{setIsProcessing(false);setError('Failed to start processing');}}catch(error){console.error('Failed to start processing:',error);setIsProcessing(false);setError('Failed to start processing');}};const handleStopProcessing=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);await fetch('/api/v1/phase4/stop-processing',{method:'POST',headers});setIsProcessing(false);setProgress(null);}catch(error){console.error('Failed to stop processing:',error);}};const handleExportResults=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const response=await fetch('/api/v1/phase4/export-results',{headers});if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"phase4_date_processed_results_\".concat(new Date().toISOString().split('T')[0],\".xlsx\");document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);}}catch(error){console.error('Failed to export results:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-red-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-700\",children:error})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Database,{className:\"h-8 w-8 text-blue-600 mr-3\"}),\"Phase 4: Enhanced Date Processing\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Consolidate date fields and extract missing dates using AI assistance\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:(status===null||status===void 0?void 0:status.database_info)&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Target Database\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"Date-Enriched-Batches\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8\",\"aria-label\":\"Tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('configuration'),className:\"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm \".concat(activeTab==='configuration'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 inline mr-2\"}),\"Configuration\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('processing'),className:\"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm \".concat(activeTab==='processing'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 inline mr-2\"}),\"Processing\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('results'),className:\"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm \".concat(activeTab==='results'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 inline mr-2\"}),\"Results & Export\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='configuration'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-gray-600 mr-2\"}),\"Configuration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Mongo URI\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:mongoUri,onChange:e=>setMongoUri(e.target.value),placeholder:\"mongodb://localhost:27017\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Optional. Used for testing alternate Mongo endpoints.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Source Database\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sourceDb,onChange:e=>setSourceDb(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Source Collection (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sourceCollection,onChange:e=>setSourceCollection(e.target.value),placeholder:\"leave empty to use all batch_* collections\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Target Database\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:targetDb,onChange:e=>setTargetDb(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Processing Mode\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"all\",checked:processingMode==='all',onChange:e=>setProcessingMode(e.target.value),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Process All Batches\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"single\",checked:processingMode==='single',onChange:e=>setProcessingMode(e.target.value),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Process Single Batch\"})]})]})]}),processingMode==='single'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Batch\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedBatch,onChange:e=>setSelectedBatch(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\",children:availableBatches.map(batch=>/*#__PURE__*/_jsx(\"option\",{value:batch,children:batch},batch))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Target Collection Prefix\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:collectionPrefix,onChange:e=>setCollectionPrefix(e.target.value),placeholder:\"e.g., batch, filled, processed\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Output collections will be named: \",collectionPrefix,\"_1, \",collectionPrefix,\"_2, etc.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Batch Size\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:batchSize,onChange:e=>setBatchSize(Number(e.target.value)||1),min:1,className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Number of documents to process per chunk (performance tuning).\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 border-l pl-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-sm font-medium text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:dryRun,onChange:e=>setDryRun(e.target.checked),className:\"mr-2\"}),\"Dry Run (do not write to target DB)\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-sm font-medium text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:useAzureOpenAI,onChange:e=>setUseAzureOpenAI(e.target.checked),className:\"mr-2\"}),\"Use Azure OpenAI\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Endpoint\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:azureEndpoint,onChange:e=>setAzureEndpoint(e.target.value),placeholder:\"https://<your-resource>.openai.azure.com/\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:azureApiKey,onChange:e=>setAzureApiKey(e.target.value),placeholder:\"sk-...\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 mb-1\",children:\"Deployment\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:azureDeployment,onChange:e=>setAzureDeployment(e.target.value),placeholder:\"gpt-4o-mini\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]})]})]}),availableBatches.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Available Source Batches:\"}),\" \",availableBatches.join(', ')]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveConfig,className:\"px-4 py-2 bg-gray-100 rounded-md border\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetConfig,className:\"px-4 py-2 bg-white rounded-md border\",children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('processing'),disabled:processingMode==='single'&&!selectedBatch,className:\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\",children:[\"Next: Start Processing\",/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4 ml-2\"})]})]})]})]}),activeTab==='processing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 text-gray-600 mr-2\"}),\"Processing Control\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[!isProcessing?/*#__PURE__*/_jsxs(\"button\",{onClick:handleStartProcessing,disabled:processingMode==='single'&&!selectedBatch,className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4 mr-2\"}),\"Start Processing\"]}):/*#__PURE__*/_jsxs(\"button\",{onClick:handleStopProcessing,className:\"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\",children:[/*#__PURE__*/_jsx(Square,{className:\"h-4 w-4 mr-2\"}),\"Stop Processing\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:isProcessing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Processing...\"})]}):processingComplete?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Completed\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Activity,{className:\"h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Ready\"})]})})]}),(isProcessing||progress)&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:progress&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Overall Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[progress.documents_processed,\"/\",progress.total_documents,\" documents\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(progress.overall_progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-xs text-gray-500 mt-1\",children:[progress.overall_progress.toFixed(1),\"%\"]})]}),progress.current_batch&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[\"Current Batch: \",progress.current_batch]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[progress.current_batch_progress.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(progress.current_batch_progress,\"%\")}})})]}),progress.current_document&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 text-gray-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Processing:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 ml-2 truncate\",children:progress.current_document})]})}),progress.batch_summary&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-800\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:progress.batch_summary.completed_batches.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-600\",children:progress.batch_summary.completed_batches.slice(-3).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800\",children:\"Current\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-900\",children:progress.batch_summary.current_batch||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-800\",children:\"Remaining\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:progress.batch_summary.remaining_batches.length})]})]})]})}),(progress===null||progress===void 0?void 0:progress.log_messages)&&progress.log_messages.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-md font-semibold mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4 text-gray-600 mr-2\"}),\"Live Processing Log\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg max-h-64 overflow-y-auto\",children:progress.log_messages.slice(-20).map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:message},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('configuration'),className:\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Back to Configuration\"}),processingComplete&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('results'),className:\"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\",children:[\"View Results\",/*#__PURE__*/_jsx(BarChart3,{className:\"h-4 w-4 ml-2\"})]})]})]}),activeTab==='results'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-gray-600 mr-2\"}),\"Results & Export\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-green-800\",children:\"Processing Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-700 mt-1\",children:\"Your date enrichment processing has finished successfully. You can now export the results.\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExportResults,className:\"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-5 w-5 mr-2\"}),\"Export to Excel\"]})]})}),status&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold mb-3\",children:\"Processing Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800\",children:\"Current Phase\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-900\",children:status.current_phase})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-800\",children:\"Total Documents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:((_status$total_documen=status.total_documents)===null||_status$total_documen===void 0?void 0:_status$total_documen.toLocaleString())||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-purple-800\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-purple-900\",children:status.status})]})]})]}),(progress===null||progress===void 0?void 0:progress.batch_summary)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold mb-3\",children:\"Batch Processing Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-800\",children:\"Completed Batches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:progress.batch_summary.completed_batches.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-600 mt-2\",children:progress.batch_summary.completed_batches.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800\",children:\"Documents Processed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-900\",children:progress.documents_processed.toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-purple-800\",children:\"Success Rate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-purple-900\",children:[progress.overall_progress.toFixed(1),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('processing'),className:\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Back to Processing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('configuration');setProcessingComplete(false);setProgress(null);},className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Start New Processing\"})]})]})]})]})]});};export default Phase4Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Database","Activity","Play","Square","Download","CheckCircle","Clock","FileText","Zap","Settings","BarChart3","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Phase4Dashboard","_status$total_documen","status","setStatus","loading","setLoading","error","setError","activeTab","setActiveTab","processingMode","setProcessingMode","selectedBatch","setSelectedBatch","collectionPrefix","setCollectionPrefix","availableBatches","setAvailableBatches","mongoUri","setMongoUri","sourceDb","setSourceDb","sourceCollection","setSourceCollection","targetDb","setTargetDb","batchSize","setBatchSize","useAzureOpenAI","setUseAzureOpenAI","azureEndpoint","setAzureEndpoint","azureApiKey","setAzureApiKey","azureDeployment","setAzureDeployment","dryRun","setDryRun","isProcessing","setIsProcessing","progress","setProgress","processingComplete","setProcessingComplete","fetchStatus","fetchAvailableBatches","loadConfig","_cfg$useAzureOpenAI","_cfg$dryRun","raw","localStorage","getItem","cfg","JSON","parse","e","console","handleSaveConfig","setItem","stringify","info","handleResetConfig","removeItem","headers","token","sessionStorage","concat","res","fetch","data","json","success","_data$batches","batches","length","handleStartProcessing","requestBody","processing_mode","selected_batch","collection_prefix","response","method","body","ok","eventSource","EventSource","onmessage","event","close","_data$log_messages","log_messages","slice","onerror","handleStopProcessing","handleExportResults","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","split","appendChild","click","revokeObjectURL","removeChild","className","children","database_info","onClick","type","value","onChange","target","placeholder","checked","map","batch","Number","min","join","disabled","documents_processed","total_documents","style","width","overall_progress","toFixed","current_batch","current_batch_progress","current_document","batch_summary","completed_batches","remaining_batches","message","index","current_phase","toLocaleString"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/Phase4Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Database,\r\n  Activity,\r\n  Play,\r\n  Square,\r\n  Download,\r\n  CheckCircle,\r\n  Clock,\r\n  FileText,\r\n  Zap,\r\n  Settings,\r\n  BarChart3\r\n} from 'lucide-react';\r\n\r\ninterface Phase4Status {\r\n  current_phase: string;\r\n  total_documents?: number;\r\n  processed_documents?: number;\r\n  status: string;\r\n  available_batches?: string[];\r\n  database_info?: {\r\n    source_db: string;\r\n    target_db: string;\r\n    collections_count: number;\r\n  };\r\n}\r\n\r\ninterface ProcessingProgress {\r\n  overall_progress: number;\r\n  current_batch_progress: number;\r\n  current_document: string;\r\n  current_batch: string;\r\n  documents_processed: number;\r\n  total_documents: number;\r\n  status: string;\r\n  log_messages: string[];\r\n  batch_summary?: {\r\n    completed_batches: string[];\r\n    current_batch: string;\r\n    remaining_batches: string[];\r\n  };\r\n}\r\n\r\nconst Phase4Dashboard: React.FC = () => {\r\n  const [status, setStatus] = useState<Phase4Status | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'configuration' | 'processing' | 'results'>('configuration');\r\n\r\n  // Processing Configuration State\r\n  const [processingMode, setProcessingMode] = useState<'single' | 'all'>('all');\r\n  const [selectedBatch, setSelectedBatch] = useState<string>('');\r\n  const [collectionPrefix, setCollectionPrefix] = useState('batch');\r\n  const [availableBatches, setAvailableBatches] = useState<string[]>([]);\r\n  // Additional configuration state\r\n  const [mongoUri, setMongoUri] = useState('');\r\n  const [sourceDb, setSourceDb] = useState('Batched-Statutes');\r\n  const [sourceCollection, setSourceCollection] = useState('');\r\n  const [targetDb, setTargetDb] = useState('Date-Enriched-Batches');\r\n  const [batchSize, setBatchSize] = useState<number>(100);\r\n  const [useAzureOpenAI, setUseAzureOpenAI] = useState<boolean>(true);\r\n  const [azureEndpoint, setAzureEndpoint] = useState('');\r\n  const [azureApiKey, setAzureApiKey] = useState('');\r\n  const [azureDeployment, setAzureDeployment] = useState('');\r\n  const [dryRun, setDryRun] = useState<boolean>(false);\r\n  \r\n  // Processing State\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [progress, setProgress] = useState<ProcessingProgress | null>(null);\r\n  const [processingComplete, setProcessingComplete] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchStatus();\r\n    fetchAvailableBatches();\r\n    loadConfig();\r\n  }, []);\r\n\r\n  const loadConfig = () => {\r\n    try {\r\n      const raw = localStorage.getItem('phase4_config');\r\n      if (!raw) return;\r\n      const cfg = JSON.parse(raw);\r\n      setMongoUri(cfg.mongoUri || '');\r\n      setSourceDb(cfg.sourceDb || 'Batched-Statutes');\r\n      setSourceCollection(cfg.sourceCollection || '');\r\n      setTargetDb(cfg.targetDb || 'Date-Enriched-Batches');\r\n      setCollectionPrefix(cfg.collectionPrefix || 'batch');\r\n      setBatchSize(cfg.batchSize || 100);\r\n      setUseAzureOpenAI(cfg.useAzureOpenAI ?? true);\r\n      setAzureEndpoint(cfg.azureEndpoint || '');\r\n      setAzureApiKey(cfg.azureApiKey || '');\r\n      setAzureDeployment(cfg.azureDeployment || '');\r\n      setDryRun(cfg.dryRun ?? false);\r\n    } catch (e) {\r\n      console.error('Failed to load Phase4 config', e);\r\n    }\r\n  };\r\n\r\n  const handleSaveConfig = () => {\r\n    const cfg = {\r\n      mongoUri,\r\n      sourceDb,\r\n      sourceCollection,\r\n      targetDb,\r\n      collectionPrefix,\r\n      batchSize,\r\n      useAzureOpenAI,\r\n      azureEndpoint,\r\n      azureApiKey,\r\n      azureDeployment,\r\n      dryRun\r\n    };\r\n    try {\r\n      localStorage.setItem('phase4_config', JSON.stringify(cfg));\r\n      // small feedback - keep it minimal\r\n      console.info('Phase4 configuration saved');\r\n    } catch (e) {\r\n      console.error('Failed to save config', e);\r\n    }\r\n  };\r\n\r\n  const handleResetConfig = () => {\r\n    setMongoUri('');\r\n    setSourceDb('Batched-Statutes');\r\n    setSourceCollection('');\r\n    setTargetDb('Date-Enriched-Batches');\r\n    setCollectionPrefix('batch');\r\n    setBatchSize(100);\r\n    setUseAzureOpenAI(true);\r\n    setAzureEndpoint('');\r\n    setAzureApiKey('');\r\n    setAzureDeployment('');\r\n    setDryRun(false);\r\n    localStorage.removeItem('phase4_config');\r\n  };\r\n\r\n  const fetchStatus = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const res = await fetch('/api/v1/phase4/status', { headers });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        setStatus(data);\r\n      }\r\n      setLoading(false);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setError('Failed to fetch status');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAvailableBatches = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const res = await fetch('/api/v1/phase4/available-batches', { headers });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        setAvailableBatches(data.batches || []);\r\n        if (data.batches?.length > 0 && !selectedBatch) {\r\n          setSelectedBatch(data.batches[0]);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to fetch available batches:', e);\r\n    }\r\n  };\r\n\r\n  const handleStartProcessing = async () => {\r\n    try {\r\n      setIsProcessing(true);\r\n      setProcessingComplete(false);\r\n      setProgress(null);\r\n      setActiveTab('processing'); // Auto-navigate to processing tab\r\n      \r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const requestBody = {\r\n        processing_mode: processingMode,\r\n        selected_batch: processingMode === 'single' ? selectedBatch : null,\r\n        collection_prefix: collectionPrefix\r\n      };\r\n      \r\n      const response = await fetch('/api/v1/phase4/start-processing', {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify(requestBody)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        // Start listening for progress updates\r\n        const eventSource = new EventSource('/api/v1/phase4/processing-progress');\r\n        eventSource.onmessage = (event) => {\r\n          const data: ProcessingProgress = JSON.parse(event.data);\r\n          setProgress(data);\r\n          \r\n          if (data.status === 'completed') {\r\n            setIsProcessing(false);\r\n            setProcessingComplete(true);\r\n            setActiveTab('results'); // Auto-navigate to results tab when completed\r\n            eventSource.close();\r\n            fetchStatus();\r\n          } else if (data.status === 'error') {\r\n            setIsProcessing(false);\r\n            eventSource.close();\r\n            setError('Processing failed: ' + data.log_messages?.slice(-1)[0]);\r\n          }\r\n        };\r\n        \r\n        eventSource.onerror = () => {\r\n          setIsProcessing(false);\r\n          eventSource.close();\r\n          setError('Connection to progress stream lost');\r\n        };\r\n      } else {\r\n        setIsProcessing(false);\r\n        setError('Failed to start processing');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to start processing:', error);\r\n      setIsProcessing(false);\r\n      setError('Failed to start processing');\r\n    }\r\n  };\r\n\r\n  const handleStopProcessing = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      await fetch('/api/v1/phase4/stop-processing', {\r\n        method: 'POST',\r\n        headers\r\n      });\r\n      \r\n      setIsProcessing(false);\r\n      setProgress(null);\r\n    } catch (error) {\r\n      console.error('Failed to stop processing:', error);\r\n    }\r\n  };\r\n\r\n  const handleExportResults = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const response = await fetch('/api/v1/phase4/export-results', {\r\n        headers\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `phase4_date_processed_results_${new Date().toISOString().split('T')[0]}.xlsx`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to export results:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n        <div className=\"flex\">\r\n          <div className=\"flex-shrink-0\">\r\n            <CheckCircle className=\"h-5 w-5 text-red-400\" />\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\r\n            <p className=\"mt-1 text-sm text-red-700\">{error}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 flex items-center\">\r\n              <Database className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n              Phase 4: Enhanced Date Processing\r\n            </h2>\r\n            <p className=\"text-gray-600 mt-1\">\r\n              Consolidate date fields and extract missing dates using AI assistance\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            {status?.database_info && (\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Target Database</p>\r\n                <p className=\"font-medium\">Date-Enriched-Batches</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\" aria-label=\"Tabs\">\r\n            <button\r\n              onClick={() => setActiveTab('configuration')}\r\n              className={`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${\r\n                activeTab === 'configuration'\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <Settings className=\"h-5 w-5 inline mr-2\" />\r\n              Configuration\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('processing')}\r\n              className={`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${\r\n                activeTab === 'processing'\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <Activity className=\"h-5 w-5 inline mr-2\" />\r\n              Processing\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('results')}\r\n              className={`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${\r\n                activeTab === 'results'\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <BarChart3 className=\"h-5 w-5 inline mr-2\" />\r\n              Results & Export\r\n            </button>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"p-6\">\r\n          {activeTab === 'configuration' && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n                <Settings className=\"h-5 w-5 text-gray-600 mr-2\" />\r\n                Configuration\r\n              </h3>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"md:col-span-3\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Mongo URI</label>\r\n                    <input type=\"text\" value={mongoUri} onChange={(e) => setMongoUri(e.target.value)} placeholder=\"mongodb://localhost:27017\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Optional. Used for testing alternate Mongo endpoints.</p>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Source Database</label>\r\n                    <input type=\"text\" value={sourceDb} onChange={(e) => setSourceDb(e.target.value)} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Source Collection (optional)</label>\r\n                    <input type=\"text\" value={sourceCollection} onChange={(e) => setSourceCollection(e.target.value)} placeholder=\"leave empty to use all batch_* collections\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Target Database</label>\r\n                    <input type=\"text\" value={targetDb} onChange={(e) => setTargetDb(e.target.value)} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {/* Processing Mode Selection */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">Processing Mode</label>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"flex items-center\">\r\n                        <input type=\"radio\" value=\"all\" checked={processingMode === 'all'} onChange={(e) => setProcessingMode(e.target.value as 'single' | 'all')} className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\" />\r\n                        <span className=\"ml-2 text-sm text-gray-700\">Process All Batches</span>\r\n                      </label>\r\n                      <label className=\"flex items-center\">\r\n                        <input type=\"radio\" value=\"single\" checked={processingMode === 'single'} onChange={(e) => setProcessingMode(e.target.value as 'single' | 'all')} className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\" />\r\n                        <span className=\"ml-2 text-sm text-gray-700\">Process Single Batch</span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Batch Selection (only when single mode) */}\r\n                  {processingMode === 'single' && (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Batch</label>\r\n                      <select value={selectedBatch} onChange={(e) => setSelectedBatch(e.target.value)} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\">\r\n                        {availableBatches.map((batch) => (\r\n                          <option key={batch} value={batch}>{batch}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Collection Prefix */}\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Target Collection Prefix</label>\r\n                    <input type=\"text\" value={collectionPrefix} onChange={(e) => setCollectionPrefix(e.target.value)} placeholder=\"e.g., batch, filled, processed\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Output collections will be named: {collectionPrefix}_1, {collectionPrefix}_2, etc.</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Batch Size</label>\r\n                    <input type=\"number\" value={batchSize} onChange={(e) => setBatchSize(Number(e.target.value) || 1)} min={1} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Number of documents to process per chunk (performance tuning).</p>\r\n                  </div>\r\n\r\n                  <div className=\"md:col-span-2 border-l pl-4\">\r\n                    <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                      <input type=\"checkbox\" checked={dryRun} onChange={(e) => setDryRun(e.target.checked)} className=\"mr-2\" />\r\n                      Dry Run (do not write to target DB)\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"border-t pt-4\">\r\n                  <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                    <input type=\"checkbox\" checked={useAzureOpenAI} onChange={(e) => setUseAzureOpenAI(e.target.checked)} className=\"mr-2\" />\r\n                    Use Azure OpenAI\r\n                  </label>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm text-gray-600 mb-1\">Endpoint</label>\r\n                      <input type=\"text\" value={azureEndpoint} onChange={(e) => setAzureEndpoint(e.target.value)} placeholder=\"https://<your-resource>.openai.azure.com/\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm text-gray-600 mb-1\">API Key</label>\r\n                      <input type=\"text\" value={azureApiKey} onChange={(e) => setAzureApiKey(e.target.value)} placeholder=\"sk-...\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm text-gray-600 mb-1\">Deployment</label>\r\n                      <input type=\"text\" value={azureDeployment} onChange={(e) => setAzureDeployment(e.target.value)} placeholder=\"gpt-4o-mini\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Available Batches Info */}\r\n                {availableBatches.length > 0 && (\r\n                  <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\r\n                    <p className=\"text-sm text-blue-800\"><strong>Available Source Batches:</strong> {availableBatches.join(', ')}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"flex justify-end space-x-4\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button onClick={handleSaveConfig} className=\"px-4 py-2 bg-gray-100 rounded-md border\">Save</button>\r\n                    <button onClick={handleResetConfig} className=\"px-4 py-2 bg-white rounded-md border\">Reset</button>\r\n                  </div>\r\n\r\n                  <button onClick={() => setActiveTab('processing')} disabled={processingMode === 'single' && !selectedBatch} className=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\">\r\n                    Next: Start Processing\r\n                    <Play className=\"h-4 w-4 ml-2\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'processing' && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n                <Activity className=\"h-5 w-5 text-gray-600 mr-2\" />\r\n                Processing Control\r\n              </h3>\r\n              \r\n              <div className=\"flex items-center space-x-4\">\r\n                {!isProcessing ? (\r\n                  <button\r\n                    onClick={handleStartProcessing}\r\n                    disabled={processingMode === 'single' && !selectedBatch}\r\n                    className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <Play className=\"h-4 w-4 mr-2\" />\r\n                    Start Processing\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={handleStopProcessing}\r\n                    className=\"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\r\n                  >\r\n                    <Square className=\"h-4 w-4 mr-2\" />\r\n                    Stop Processing\r\n                  </button>\r\n                )}\r\n\r\n                <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\r\n                  {isProcessing ? (\r\n                    <>\r\n                      <Clock className=\"h-4 w-4 text-orange-500\" />\r\n                      <span>Processing...</span>\r\n                    </>\r\n                  ) : processingComplete ? (\r\n                    <>\r\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n                      <span>Completed</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Activity className=\"h-4 w-4 text-gray-400\" />\r\n                      <span>Ready</span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Progress Visualization */}\r\n              {(isProcessing || progress) && (\r\n                <div className=\"space-y-4\">\r\n                  {progress && (\r\n                    <div className=\"space-y-4\">\r\n                      {/* Overall Progress */}\r\n                      <div>\r\n                        <div className=\"flex justify-between items-center mb-2\">\r\n                          <span className=\"text-sm font-medium text-gray-700\">Overall Progress</span>\r\n                          <span className=\"text-sm text-gray-600\">\r\n                            {progress.documents_processed}/{progress.total_documents} documents\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                          <div\r\n                            className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                            style={{ width: `${progress.overall_progress}%` }}\r\n                          ></div>\r\n                        </div>\r\n                        <div className=\"text-right text-xs text-gray-500 mt-1\">\r\n                          {progress.overall_progress.toFixed(1)}%\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Current Batch Progress */}\r\n                      {progress.current_batch && (\r\n                        <div>\r\n                          <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"text-sm font-medium text-gray-700\">\r\n                              Current Batch: {progress.current_batch}\r\n                            </span>\r\n                            <span className=\"text-sm text-gray-600\">\r\n                              {progress.current_batch_progress.toFixed(1)}%\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                            <div\r\n                              className=\"bg-green-500 h-2 rounded-full transition-all duration-300\"\r\n                              style={{ width: `${progress.current_batch_progress}%` }}\r\n                            ></div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Current Document */}\r\n                      {progress.current_document && (\r\n                        <div className=\"bg-gray-50 rounded-lg p-3\">\r\n                          <div className=\"flex items-center\">\r\n                            <FileText className=\"h-4 w-4 text-gray-500 mr-2\" />\r\n                            <span className=\"text-sm font-medium\">Processing:</span>\r\n                            <span className=\"text-sm text-gray-700 ml-2 truncate\">\r\n                              {progress.current_document}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Batch Summary */}\r\n                      {progress.batch_summary && (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n                          <div className=\"bg-green-50 p-3 rounded-lg\">\r\n                            <div className=\"text-sm font-medium text-green-800\">Completed</div>\r\n                            <div className=\"text-lg font-bold text-green-900\">\r\n                              {progress.batch_summary.completed_batches.length}\r\n                            </div>\r\n                            <div className=\"text-xs text-green-600\">\r\n                              {progress.batch_summary.completed_batches.slice(-3).join(', ')}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                            <div className=\"text-sm font-medium text-blue-800\">Current</div>\r\n                            <div className=\"text-lg font-bold text-blue-900\">\r\n                              {progress.batch_summary.current_batch || 'None'}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                            <div className=\"text-sm font-medium text-gray-800\">Remaining</div>\r\n                            <div className=\"text-lg font-bold text-gray-900\">\r\n                              {progress.batch_summary.remaining_batches.length}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Live Log */}\r\n              {progress?.log_messages && progress.log_messages.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-md font-semibold mb-3 flex items-center\">\r\n                    <Zap className=\"h-4 w-4 text-gray-600 mr-2\" />\r\n                    Live Processing Log\r\n                  </h4>\r\n                  \r\n                  <div className=\"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg max-h-64 overflow-y-auto\">\r\n                    {progress.log_messages.slice(-20).map((message, index) => (\r\n                      <div key={index} className=\"mb-1\">\r\n                        {message}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation */}\r\n              <div className=\"flex justify-between\">\r\n                <button\r\n                  onClick={() => setActiveTab('configuration')}\r\n                  className=\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                >\r\n                  Back to Configuration\r\n                </button>\r\n                {processingComplete && (\r\n                  <button\r\n                    onClick={() => setActiveTab('results')}\r\n                    className=\"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\r\n                  >\r\n                    View Results\r\n                    <BarChart3 className=\"h-4 w-4 ml-2\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'results' && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n                <BarChart3 className=\"h-5 w-5 text-gray-600 mr-2\" />\r\n                Results & Export\r\n              </h3>\r\n\r\n              {/* Export Controls */}\r\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h4 className=\"text-lg font-semibold text-green-800\">Processing Complete!</h4>\r\n                    <p className=\"text-green-700 mt-1\">\r\n                      Your date enrichment processing has finished successfully. You can now export the results.\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={handleExportResults}\r\n                    className=\"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold\"\r\n                  >\r\n                    <Download className=\"h-5 w-5 mr-2\" />\r\n                    Export to Excel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Status Summary */}\r\n              {status && (\r\n                <div>\r\n                  <h4 className=\"text-md font-semibold mb-3\">Processing Summary</h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-blue-800\">Current Phase</div>\r\n                      <div className=\"text-lg font-bold text-blue-900\">{status.current_phase}</div>\r\n                    </div>\r\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-green-800\">Total Documents</div>\r\n                      <div className=\"text-lg font-bold text-green-900\">\r\n                        {status.total_documents?.toLocaleString() || 'N/A'}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-purple-800\">Status</div>\r\n                      <div className=\"text-lg font-bold text-purple-900\">{status.status}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Final Batch Summary */}\r\n              {progress?.batch_summary && (\r\n                <div>\r\n                  <h4 className=\"text-md font-semibold mb-3\">Batch Processing Results</h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-green-800\">Completed Batches</div>\r\n                      <div className=\"text-lg font-bold text-green-900\">\r\n                        {progress.batch_summary.completed_batches.length}\r\n                      </div>\r\n                      <div className=\"text-xs text-green-600 mt-2\">\r\n                        {progress.batch_summary.completed_batches.join(', ')}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-blue-800\">Documents Processed</div>\r\n                      <div className=\"text-lg font-bold text-blue-900\">\r\n                        {progress.documents_processed.toLocaleString()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-purple-800\">Success Rate</div>\r\n                      <div className=\"text-lg font-bold text-purple-900\">\r\n                        {progress.overall_progress.toFixed(1)}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation */}\r\n              <div className=\"flex justify-between\">\r\n                <button\r\n                  onClick={() => setActiveTab('processing')}\r\n                  className=\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                >\r\n                  Back to Processing\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setActiveTab('configuration');\r\n                    setProcessingComplete(false);\r\n                    setProgress(null);\r\n                  }}\r\n                  className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                >\r\n                  Start New Processing\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phase4Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}