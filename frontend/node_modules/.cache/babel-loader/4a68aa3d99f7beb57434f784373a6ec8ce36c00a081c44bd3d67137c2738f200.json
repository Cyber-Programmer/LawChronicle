{"ast":null,"code":"import _objectSpread from\"D:/DigiFloat/LawChronicle/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{ArrowUpDown,Save,AlertTriangle,CheckCircle,Plus,X,Eye}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SortingInterface=_ref=>{let{config}=_ref;const[sortingRules,setSortingRules]=useState({primary_sort:'statute_name',secondary_sort:'year',tertiary_sort:'section_number',custom_rules:[]});const[loading,setLoading]=useState(false);const[message,setMessage]=useState(null);const[showPreview,setShowPreview]=useState(false);const[sortPreview,setSortPreview]=useState([]);const[availableFields,setAvailableFields]=useState(['statute_name','year','section_number','section_definition','category','province','statute_type','date','promulgation_date']);// Fetch current sorting rules\nconst fetchSortingRules=useCallback(async()=>{setLoading(true);try{const response=await fetch('/api/v1/phase2/sorting-rules');const data=await response.json();if(data.success){setSortingRules(data.sorting_rules);}else{setMessage({type:'error',text:'Failed to fetch sorting rules'});}}catch(error){setMessage({type:'error',text:'Error fetching sorting rules'});}finally{setLoading(false);}},[]);// Save sorting rules\nconst saveSortingRules=async()=>{try{const response=await fetch('/api/v1/phase2/update-sorting-rules',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sorting_rules:sortingRules})});const data=await response.json();if(data.success){setMessage({type:'success',text:'Sorting rules saved successfully'});}else{setMessage({type:'error',text:'Failed to save sorting rules'});}}catch(error){setMessage({type:'error',text:'Error saving sorting rules'});}};// Add custom sorting rule\nconst addCustomRule=()=>{const newRule={field:'',direction:'asc',priority:sortingRules.custom_rules.length+1,custom_logic:''};setSortingRules(prev=>_objectSpread(_objectSpread({},prev),{},{custom_rules:[...prev.custom_rules,newRule]}));};// Remove custom sorting rule\nconst removeCustomRule=index=>{setSortingRules(prev=>_objectSpread(_objectSpread({},prev),{},{custom_rules:prev.custom_rules.filter((_,i)=>i!==index)}));};// Update custom sorting rule\nconst updateCustomRule=(index,field,value)=>{setSortingRules(prev=>_objectSpread(_objectSpread({},prev),{},{custom_rules:prev.custom_rules.map((rule,i)=>i===index?_objectSpread(_objectSpread({},rule),{},{[field]:value}):rule)}));};// Update main sorting fields\nconst updateMainSorting=(field,value)=>{setSortingRules(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};// Generate sort preview\nconst generateSortPreview=async()=>{setLoading(true);try{// Simulate sorting preview with sample data\nconst sampleData=[{statute_name:'Apprenticeship Act',year:2018,section_number:'1'},{statute_name:'Apprenticeship Act',year:2018,section_number:'2'},{statute_name:'Apprenticeship Act',year:2019,section_number:'1'},{statute_name:'Banking Act',year:2017,section_number:'1'},{statute_name:'Banking Act',year:2017,section_number:'2'},{statute_name:'Civil Code',year:2020,section_number:'1'},{statute_name:'Civil Code',year:2020,section_number:'2'},{statute_name:'Civil Code',year:2020,section_number:'3'}];// Apply sorting rules\nlet sortedData=[...sampleData];// Primary sort\nif(sortingRules.primary_sort){sortedData.sort((a,b)=>{const aVal=a[sortingRules.primary_sort];const bVal=b[sortingRules.primary_sort];if(aVal<bVal)return-1;if(aVal>bVal)return 1;return 0;});}// Secondary sort\nif(sortingRules.secondary_sort&&sortingRules.secondary_sort!==sortingRules.primary_sort){sortedData.sort((a,b)=>{const aPrimary=a[sortingRules.primary_sort];const bPrimary=b[sortingRules.primary_sort];if(aPrimary!==bPrimary)return 0;// Only sort if primary is same\nconst aVal=a[sortingRules.secondary_sort];const bVal=b[sortingRules.secondary_sort];if(aVal<bVal)return-1;if(aVal>bVal)return 1;return 0;});}// Tertiary sort\nif(sortingRules.tertiary_sort&&sortingRules.tertiary_sort!==sortingRules.primary_sort&&sortingRules.tertiary_sort!==sortingRules.secondary_sort){sortedData.sort((a,b)=>{const aPrimary=a[sortingRules.primary_sort];const bPrimary=b[sortingRules.primary_sort];if(aPrimary!==bPrimary)return 0;const aSecondary=a[sortingRules.secondary_sort];const bSecondary=b[sortingRules.secondary_sort];if(aSecondary!==bSecondary)return 0;const aVal=a[sortingRules.tertiary_sort];const bVal=b[sortingRules.tertiary_sort];if(aVal<bVal)return-1;if(aVal>bVal)return 1;return 0;});}// Apply custom rules\nsortingRules.custom_rules.forEach(rule=>{if(rule.field){sortedData.sort((a,b)=>{const aVal=a[rule.field];const bVal=b[rule.field];const multiplier=rule.direction==='asc'?1:-1;if(aVal<bVal)return-1*multiplier;if(aVal>bVal)return 1*multiplier;return 0;});}});setSortPreview(sortedData);setShowPreview(true);}catch(error){setMessage({type:'error',text:'Error generating sort preview'});}finally{setLoading(false);}};// Get sort direction icon\nconst getSortDirectionIcon=field=>{if(field===sortingRules.primary_sort)return'1️⃣';if(field===sortingRules.secondary_sort)return'2️⃣';if(field===sortingRules.tertiary_sort)return'3️⃣';return'';};useEffect(()=>{fetchSortingRules();},[fetchSortingRules]);// Clear message after 5 seconds\nuseEffect(()=>{if(message){const timer=setTimeout(()=>setMessage(null),5000);return()=>clearTimeout(timer);}},[message]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Sorting Configuration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Configure document sorting rules and custom sort logic\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:generateSortPreview,disabled:loading,className:\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 mr-2\"}),\"Preview Sort\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:saveSortingRules,className:\"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(Save,{className:\"h-4 w-4 mr-2\"}),\"Save Rules\"]})]})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md p-4 \".concat(message.type==='success'?'bg-green-50 border border-green-200':'bg-red-50 border border-red-200'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:message.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-green-400\"}):/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-5 w-5 text-red-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(message.type==='success'?'text-green-800':'text-red-800'),children:message.text})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Primary Sorting Configuration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Define the main sorting hierarchy for documents\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Primary Sort Field \",getSortDirectionIcon(sortingRules.primary_sort)]}),/*#__PURE__*/_jsxs(\"select\",{value:sortingRules.primary_sort,onChange:e=>updateMainSorting('primary_sort',e.target.value),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select field\"}),availableFields.map(field=>/*#__PURE__*/_jsx(\"option\",{value:field,children:field.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())},field))]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"Documents will be sorted by this field first\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Secondary Sort Field \",getSortDirectionIcon(sortingRules.secondary_sort)]}),/*#__PURE__*/_jsxs(\"select\",{value:sortingRules.secondary_sort,onChange:e=>updateMainSorting('secondary_sort',e.target.value),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select field\"}),availableFields.map(field=>/*#__PURE__*/_jsx(\"option\",{value:field,children:field.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())},field))]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"Used when primary sort values are equal\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Tertiary Sort Field \",getSortDirectionIcon(sortingRules.tertiary_sort)]}),/*#__PURE__*/_jsxs(\"select\",{value:sortingRules.tertiary_sort,onChange:e=>updateMainSorting('tertiary_sort',e.target.value),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select field\"}),availableFields.map(field=>/*#__PURE__*/_jsx(\"option\",{value:field,children:field.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())},field))]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"Final tie-breaker when other sorts are equal\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Custom Sorting Rules\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Define additional sorting logic and custom sort keys\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:addCustomRule,className:\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Rule\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:sortingRules.custom_rules.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(ArrowUpDown,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No custom sorting rules defined\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Add rules to implement complex sorting logic\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sortingRules.custom_rules.map((rule,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 grid grid-cols-1 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Field\"}),/*#__PURE__*/_jsxs(\"select\",{value:rule.field,onChange:e=>updateCustomRule(index,'field',e.target.value),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select field\"}),availableFields.map(field=>/*#__PURE__*/_jsx(\"option\",{value:field,children:field.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase())},field))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Direction\"}),/*#__PURE__*/_jsxs(\"select\",{value:rule.direction,onChange:e=>updateCustomRule(index,'direction',e.target.value),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Ascending (A\\u2192Z)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Descending (Z\\u2192A)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:rule.priority,onChange:e=>updateCustomRule(index,'priority',parseInt(e.target.value)),min:\"1\",className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Custom Logic\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:rule.custom_logic||'',onChange:e=>updateCustomRule(index,'custom_logic',e.target.value),placeholder:\"Optional custom logic\",className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeCustomRule(index),className:\"text-red-600 hover:text-red-900 p-1\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]},index))})})]}),showPreview&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Sort Preview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Preview of how documents will be sorted with current rules\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Order\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Statute Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Section\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:sortPreview.map((doc,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:index+1})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:doc.statute_name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:doc.year}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:doc.section_number})]},index))})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Advanced Sorting Options\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Configure advanced sorting behavior and performance options\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Sorting Behavior\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"case-sensitive\",className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"case-sensitive\",className:\"text-sm text-gray-700\",children:\"Case-sensitive sorting\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"numeric-sort\",className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"numeric-sort\",className:\"text-sm text-gray-700\",children:\"Natural numeric sorting (1, 2, 10, 11)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"locale-aware\",className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"locale-aware\",className:\"text-sm text-gray-700\",children:\"Locale-aware string sorting\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-sm font-medium text-gray-900 mb-3\",children:\"Performance Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"create-indexes\",className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"create-indexes\",className:\"text-sm text-gray-700\",children:\"Create database indexes for sort fields\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"batch-sort\",className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"batch-sort\",className:\"text-sm text-gray-700\",children:\"Enable batch sorting for large datasets\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"parallel-sort\",className:\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"parallel-sort\",className:\"text-sm text-gray-700\",children:\"Enable parallel sorting (experimental)\"})]})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-2\",children:\"Sorting Configuration Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Primary Sort:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-gray-900\",children:sortingRules.primary_sort||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Secondary Sort:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-gray-900\",children:sortingRules.secondary_sort||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Tertiary Sort:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-gray-900\",children:sortingRules.tertiary_sort||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Custom Rules:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-gray-900\",children:sortingRules.custom_rules.length})]})]})]})]});};export default SortingInterface;","map":{"version":3,"names":["React","useState","useEffect","useCallback","ArrowUpDown","Save","AlertTriangle","CheckCircle","Plus","X","Eye","jsx","_jsx","jsxs","_jsxs","SortingInterface","_ref","config","sortingRules","setSortingRules","primary_sort","secondary_sort","tertiary_sort","custom_rules","loading","setLoading","message","setMessage","showPreview","setShowPreview","sortPreview","setSortPreview","availableFields","setAvailableFields","fetchSortingRules","response","fetch","data","json","success","sorting_rules","type","text","error","saveSortingRules","method","headers","body","JSON","stringify","addCustomRule","newRule","field","direction","priority","length","custom_logic","prev","_objectSpread","removeCustomRule","index","filter","_","i","updateCustomRule","value","map","rule","updateMainSorting","generateSortPreview","sampleData","statute_name","year","section_number","sortedData","sort","a","b","aVal","bVal","aPrimary","bPrimary","aSecondary","bSecondary","forEach","multiplier","getSortDirectionIcon","timer","setTimeout","clearTimeout","className","children","onClick","disabled","concat","onChange","e","target","replace","l","toUpperCase","parseInt","min","placeholder","doc","id","htmlFor"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/SortingInterface.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { ArrowUpDown, Settings, Save, RefreshCw, AlertTriangle, CheckCircle, Plus, X, Eye } from 'lucide-react';\r\n\r\ninterface SortingRules {\r\n  primary_sort: string;\r\n  secondary_sort: string;\r\n  tertiary_sort: string;\r\n  custom_rules: Array<{\r\n    field: string;\r\n    direction: 'asc' | 'desc';\r\n    priority: number;\r\n    custom_logic?: string;\r\n  }>;\r\n}\r\n\r\ninterface SortingInterfaceProps {\r\n  config: any;\r\n}\r\n\r\nconst SortingInterface: React.FC<SortingInterfaceProps> = ({ config }) => {\r\n  const [sortingRules, setSortingRules] = useState<SortingRules>({\r\n    primary_sort: 'statute_name',\r\n    secondary_sort: 'year',\r\n    tertiary_sort: 'section_number',\r\n    custom_rules: []\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [sortPreview, setSortPreview] = useState<any[]>([]);\r\n  const [availableFields, setAvailableFields] = useState<string[]>([\r\n    'statute_name', 'year', 'section_number', 'section_definition', \r\n    'category', 'province', 'statute_type', 'date', 'promulgation_date'\r\n  ]);\r\n\r\n  // Fetch current sorting rules\r\n  const fetchSortingRules = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/sorting-rules');\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSortingRules(data.sorting_rules);\r\n      } else {\r\n        setMessage({ type: 'error', text: 'Failed to fetch sorting rules' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: 'Error fetching sorting rules' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Save sorting rules\r\n  const saveSortingRules = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/update-sorting-rules', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ sorting_rules: sortingRules })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setMessage({ type: 'success', text: 'Sorting rules saved successfully' });\r\n      } else {\r\n        setMessage({ type: 'error', text: 'Failed to save sorting rules' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: 'Error saving sorting rules' });\r\n    }\r\n  };\r\n\r\n  // Add custom sorting rule\r\n  const addCustomRule = () => {\r\n    const newRule = {\r\n      field: '',\r\n      direction: 'asc' as const,\r\n      priority: sortingRules.custom_rules.length + 1,\r\n      custom_logic: ''\r\n    };\r\n    setSortingRules(prev => ({\r\n      ...prev,\r\n      custom_rules: [...prev.custom_rules, newRule]\r\n    }));\r\n  };\r\n\r\n  // Remove custom sorting rule\r\n  const removeCustomRule = (index: number) => {\r\n    setSortingRules(prev => ({\r\n      ...prev,\r\n      custom_rules: prev.custom_rules.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  // Update custom sorting rule\r\n  const updateCustomRule = (index: number, field: string, value: any) => {\r\n    setSortingRules(prev => ({\r\n      ...prev,\r\n      custom_rules: prev.custom_rules.map((rule, i) => \r\n        i === index ? { ...rule, [field]: value } : rule\r\n      )\r\n    }));\r\n  };\r\n\r\n  // Update main sorting fields\r\n  const updateMainSorting = (field: string, value: string) => {\r\n    setSortingRules(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  // Generate sort preview\r\n  const generateSortPreview = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Simulate sorting preview with sample data\r\n      const sampleData = [\r\n        { statute_name: 'Apprenticeship Act', year: 2018, section_number: '1' },\r\n        { statute_name: 'Apprenticeship Act', year: 2018, section_number: '2' },\r\n        { statute_name: 'Apprenticeship Act', year: 2019, section_number: '1' },\r\n        { statute_name: 'Banking Act', year: 2017, section_number: '1' },\r\n        { statute_name: 'Banking Act', year: 2017, section_number: '2' },\r\n        { statute_name: 'Civil Code', year: 2020, section_number: '1' },\r\n        { statute_name: 'Civil Code', year: 2020, section_number: '2' },\r\n        { statute_name: 'Civil Code', year: 2020, section_number: '3' }\r\n      ];\r\n\r\n      // Apply sorting rules\r\n      let sortedData = [...sampleData];\r\n      \r\n      // Primary sort\r\n      if (sortingRules.primary_sort) {\r\n        sortedData.sort((a, b) => {\r\n          const aVal = a[sortingRules.primary_sort as keyof typeof a];\r\n          const bVal = b[sortingRules.primary_sort as keyof typeof b];\r\n          if (aVal < bVal) return -1;\r\n          if (aVal > bVal) return 1;\r\n          return 0;\r\n        });\r\n      }\r\n\r\n      // Secondary sort\r\n      if (sortingRules.secondary_sort && sortingRules.secondary_sort !== sortingRules.primary_sort) {\r\n        sortedData.sort((a, b) => {\r\n          const aPrimary = a[sortingRules.primary_sort as keyof typeof a];\r\n          const bPrimary = b[sortingRules.primary_sort as keyof typeof b];\r\n          if (aPrimary !== bPrimary) return 0; // Only sort if primary is same\r\n          \r\n          const aVal = a[sortingRules.secondary_sort as keyof typeof a];\r\n          const bVal = b[sortingRules.secondary_sort as keyof typeof b];\r\n          if (aVal < bVal) return -1;\r\n          if (aVal > bVal) return 1;\r\n          return 0;\r\n        });\r\n      }\r\n\r\n      // Tertiary sort\r\n      if (sortingRules.tertiary_sort && sortingRules.tertiary_sort !== sortingRules.primary_sort && sortingRules.tertiary_sort !== sortingRules.secondary_sort) {\r\n        sortedData.sort((a, b) => {\r\n          const aPrimary = a[sortingRules.primary_sort as keyof typeof a];\r\n          const bPrimary = b[sortingRules.primary_sort as keyof typeof b];\r\n          if (aPrimary !== bPrimary) return 0;\r\n          \r\n          const aSecondary = a[sortingRules.secondary_sort as keyof typeof a];\r\n          const bSecondary = b[sortingRules.secondary_sort as keyof typeof b];\r\n          if (aSecondary !== bSecondary) return 0;\r\n          \r\n          const aVal = a[sortingRules.tertiary_sort as keyof typeof a];\r\n          const bVal = b[sortingRules.tertiary_sort as keyof typeof b];\r\n          if (aVal < bVal) return -1;\r\n          if (aVal > bVal) return 1;\r\n          return 0;\r\n        });\r\n      }\r\n\r\n      // Apply custom rules\r\n      sortingRules.custom_rules.forEach(rule => {\r\n        if (rule.field) {\r\n          sortedData.sort((a, b) => {\r\n            const aVal = a[rule.field as keyof typeof a];\r\n            const bVal = b[rule.field as keyof typeof b];\r\n            const multiplier = rule.direction === 'asc' ? 1 : -1;\r\n            if (aVal < bVal) return -1 * multiplier;\r\n            if (aVal > bVal) return 1 * multiplier;\r\n            return 0;\r\n          });\r\n        }\r\n      });\r\n\r\n      setSortPreview(sortedData);\r\n      setShowPreview(true);\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: 'Error generating sort preview' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Get sort direction icon\r\n  const getSortDirectionIcon = (field: string) => {\r\n    if (field === sortingRules.primary_sort) return '1️⃣';\r\n    if (field === sortingRules.secondary_sort) return '2️⃣';\r\n    if (field === sortingRules.tertiary_sort) return '3️⃣';\r\n    return '';\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSortingRules();\r\n  }, [fetchSortingRules]);\r\n\r\n  // Clear message after 5 seconds\r\n  useEffect(() => {\r\n    if (message) {\r\n      const timer = setTimeout(() => setMessage(null), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [message]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Sorting Configuration</h3>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Configure document sorting rules and custom sort logic\r\n          </p>\r\n        </div>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={generateSortPreview}\r\n            disabled={loading}\r\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\r\n          >\r\n            <Eye className=\"h-4 w-4 mr-2\" />\r\n            Preview Sort\r\n          </button>\r\n          <button\r\n            onClick={saveSortingRules}\r\n            className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n          >\r\n            <Save className=\"h-4 w-4 mr-2\" />\r\n            Save Rules\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message Display */}\r\n      {message && (\r\n        <div className={`rounded-md p-4 ${\r\n          message.type === 'success' ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'\r\n        }`}>\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              {message.type === 'success' ? (\r\n                <CheckCircle className=\"h-5 w-5 text-green-400\" />\r\n              ) : (\r\n                <AlertTriangle className=\"h-5 w-5 text-red-400\" />\r\n              )}\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className={`text-sm ${\r\n                message.type === 'success' ? 'text-green-800' : 'text-red-800'\r\n              }`}>\r\n                {message.text}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Sorting Configuration */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h4 className=\"text-lg font-medium text-gray-900\">Primary Sorting Configuration</h4>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Define the main sorting hierarchy for documents\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            {/* Primary Sort */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Primary Sort Field {getSortDirectionIcon(sortingRules.primary_sort)}\r\n              </label>\r\n              <select\r\n                value={sortingRules.primary_sort}\r\n                onChange={(e) => updateMainSorting('primary_sort', e.target.value)}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">Select field</option>\r\n                {availableFields.map(field => (\r\n                  <option key={field} value={field}>{field.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}</option>\r\n                ))}\r\n              </select>\r\n              <p className=\"mt-1 text-xs text-gray-500\">Documents will be sorted by this field first</p>\r\n            </div>\r\n\r\n            {/* Secondary Sort */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Secondary Sort Field {getSortDirectionIcon(sortingRules.secondary_sort)}\r\n              </label>\r\n              <select\r\n                value={sortingRules.secondary_sort}\r\n                onChange={(e) => updateMainSorting('secondary_sort', e.target.value)}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">Select field</option>\r\n                {availableFields.map(field => (\r\n                  <option key={field} value={field}>{field.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}</option>\r\n                ))}\r\n              </select>\r\n              <p className=\"mt-1 text-xs text-gray-500\">Used when primary sort values are equal</p>\r\n            </div>\r\n\r\n            {/* Tertiary Sort */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Tertiary Sort Field {getSortDirectionIcon(sortingRules.tertiary_sort)}\r\n              </label>\r\n              <select\r\n                value={sortingRules.tertiary_sort}\r\n                onChange={(e) => updateMainSorting('tertiary_sort', e.target.value)}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"\">Select field</option>\r\n                {availableFields.map(field => (\r\n                  <option key={field} value={field}>{field.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}</option>\r\n                ))}\r\n              </select>\r\n              <p className=\"mt-1 text-xs text-gray-500\">Final tie-breaker when other sorts are equal</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Custom Sorting Rules */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h4 className=\"text-lg font-medium text-gray-900\">Custom Sorting Rules</h4>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Define additional sorting logic and custom sort keys\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={addCustomRule}\r\n              className=\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n            >\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Add Rule\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          {sortingRules.custom_rules.length === 0 ? (\r\n            <div className=\"text-center py-8\">\r\n              <ArrowUpDown className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n              <p className=\"text-gray-600\">No custom sorting rules defined</p>\r\n              <p className=\"text-sm text-gray-500\">Add rules to implement complex sorting logic</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {sortingRules.custom_rules.map((rule, index) => (\r\n                <div key={index} className=\"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg\">\r\n                  <div className=\"flex-1 grid grid-cols-1 md:grid-cols-4 gap-3\">\r\n                    <div>\r\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                        Field\r\n                      </label>\r\n                      <select\r\n                        value={rule.field}\r\n                        onChange={(e) => updateCustomRule(index, 'field', e.target.value)}\r\n                        className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                      >\r\n                        <option value=\"\">Select field</option>\r\n                        {availableFields.map(field => (\r\n                          <option key={field} value={field}>{field.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                        Direction\r\n                      </label>\r\n                      <select\r\n                        value={rule.direction}\r\n                        onChange={(e) => updateCustomRule(index, 'direction', e.target.value)}\r\n                        className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                      >\r\n                        <option value=\"asc\">Ascending (A→Z)</option>\r\n                        <option value=\"desc\">Descending (Z→A)</option>\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                        Priority\r\n                      </label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={rule.priority}\r\n                        onChange={(e) => updateCustomRule(index, 'priority', parseInt(e.target.value))}\r\n                        min=\"1\"\r\n                        className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-xs font-medium text-gray-700 mb-1\">\r\n                        Custom Logic\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={rule.custom_logic || ''}\r\n                        onChange={(e) => updateCustomRule(index, 'custom_logic', e.target.value)}\r\n                        placeholder=\"Optional custom logic\"\r\n                        className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button\r\n                    onClick={() => removeCustomRule(index)}\r\n                    className=\"text-red-600 hover:text-red-900 p-1\"\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sort Preview */}\r\n      {showPreview && (\r\n        <div className=\"bg-white shadow rounded-lg\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h4 className=\"text-lg font-medium text-gray-900\">Sort Preview</h4>\r\n            <p className=\"text-sm text-gray-600\">\r\n              Preview of how documents will be sorted with current rules\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"p-6\">\r\n            <div className=\"overflow-hidden\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Order\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Statute Name\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Year\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Section\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {sortPreview.map((doc, index) => (\r\n                    <tr key={index} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\r\n                          {index + 1}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                        {doc.statute_name}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {doc.year}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {doc.section_number}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Advanced Sorting Options */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h4 className=\"text-lg font-medium text-gray-900\">Advanced Sorting Options</h4>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Configure advanced sorting behavior and performance options\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <h5 className=\"text-sm font-medium text-gray-900 mb-3\">Sorting Behavior</h5>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"case-sensitive\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"case-sensitive\" className=\"text-sm text-gray-700\">\r\n                    Case-sensitive sorting\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"numeric-sort\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"numeric-sort\" className=\"text-sm text-gray-700\">\r\n                    Natural numeric sorting (1, 2, 10, 11)\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"locale-aware\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"locale-aware\" className=\"text-sm text-gray-700\">\r\n                    Locale-aware string sorting\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <h5 className=\"text-sm font-medium text-gray-900 mb-3\">Performance Options</h5>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"create-indexes\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"create-indexes\" className=\"text-sm text-gray-700\">\r\n                    Create database indexes for sort fields\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"batch-sort\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"batch-sort\" className=\"text-sm text-gray-700\">\r\n                    Enable batch sorting for large datasets\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"parallel-sort\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"parallel-sort\" className=\"text-sm text-gray-700\">\r\n                    Enable parallel sorting (experimental)\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary */}\r\n      <div className=\"bg-gray-50 rounded-lg p-4\">\r\n        <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Sorting Configuration Summary</h4>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\r\n          <div>\r\n            <span className=\"text-gray-600\">Primary Sort:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">\r\n              {sortingRules.primary_sort || 'None'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Secondary Sort:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">\r\n              {sortingRules.secondary_sort || 'None'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Tertiary Sort:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">\r\n              {sortingRules.tertiary_sort || 'None'}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Custom Rules:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">\r\n              {sortingRules.custom_rules.length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SortingInterface;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}