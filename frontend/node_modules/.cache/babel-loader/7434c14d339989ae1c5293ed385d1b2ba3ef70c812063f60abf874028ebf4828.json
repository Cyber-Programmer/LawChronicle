{"ast":null,"code":"var _jsxFileName = \"D:\\\\DigiFloat\\\\LawChronicle\\\\frontend\\\\src\\\\components\\\\phase5\\\\ProgressStream.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { AlertCircle, CheckCircle2, Loader2 } from 'lucide-react';\nimport { Phase5ApiService } from './apiService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProgressStream({\n  isActive,\n  onComplete,\n  onError\n}) {\n  _s();\n  const [progress, setProgress] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const eventSourceRef = useRef(null);\n  useEffect(() => {\n    if (!isActive) {\n      // Clean up connection when not active\n      if (eventSourceRef.current) {\n        eventSourceRef.current.close();\n        eventSourceRef.current = null;\n        setIsConnected(false);\n        setProgress(null);\n      }\n      return;\n    }\n\n    // Create new EventSource connection\n    try {\n      const eventSource = Phase5ApiService.createProgressStream();\n      eventSourceRef.current = eventSource;\n      eventSource.onopen = () => {\n        console.log('Progress stream connected');\n        setIsConnected(true);\n      };\n      eventSource.onmessage = event => {\n        try {\n          const progressData = JSON.parse(event.data);\n          setProgress(progressData);\n\n          // Handle completion\n          if (progressData.status === 'completed') {\n            setTimeout(() => {\n              onComplete();\n            }, 2000); // Show completed state for 2 seconds\n          } else if (progressData.status === 'error') {\n            onError(progressData.error || 'Unknown error occurred during grouping');\n          }\n        } catch (error) {\n          console.error('Error parsing progress data:', error);\n          onError('Failed to parse progress data');\n        }\n      };\n      eventSource.onerror = error => {\n        console.error('EventSource error:', error);\n        setIsConnected(false);\n\n        // Only report error if we're still supposed to be active\n        if (isActive) {\n          onError('Lost connection to progress stream');\n        }\n      };\n    } catch (error) {\n      console.error('Failed to create progress stream:', error);\n      onError('Failed to connect to progress stream');\n    }\n\n    // Cleanup function\n    return () => {\n      if (eventSourceRef.current) {\n        eventSourceRef.current.close();\n        eventSourceRef.current = null;\n        setIsConnected(false);\n      }\n    };\n  }, [isActive, onComplete, onError]);\n  if (!isActive) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white border border-gray-200 rounded-lg p-6 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900\",\n        children: \"Grouping Progress\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-2 h-2 rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500\",\n          children: isConnected ? 'Connected' : 'Disconnected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), progress && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: getStatusLabel(progress.status)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: [progress.progress.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `h-2 rounded-full transition-all duration-300 ${getProgressBarColor(progress.status)}`,\n            style: {\n              width: `${progress.progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start space-x-3\",\n        children: [getStatusIcon(progress.status), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: progress.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), progress.timestamp && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: new Date(progress.timestamp).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), (progress.total_statutes || progress.total_groups || progress.total_versioned) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100\",\n        children: [progress.total_statutes && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: progress.total_statutes.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Total Statutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this), progress.total_groups && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-600\",\n            children: progress.total_groups.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Groups Created\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this), progress.total_versioned && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-purple-600\",\n            children: progress.total_versioned.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Versions Assigned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this), progress.error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-md p-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: \"Error\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-700 mt-1\",\n              children: progress.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), !progress && isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-8\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-6 w-6 animate-spin text-blue-500 mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-500\",\n        children: \"Waiting for progress updates...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n_s(ProgressStream, \"lXcuUbGRjyhtnRHZt+4w4WFQNEU=\");\n_c = ProgressStream;\nfunction getStatusLabel(status) {\n  switch (status) {\n    case 'fetching':\n      return 'Fetching Statutes';\n    case 'fetching_complete':\n      return 'Fetching Complete';\n    case 'grouping':\n      return 'Grouping Statutes';\n    case 'grouping_complete':\n      return 'Grouping Complete';\n    case 'versioning':\n      return 'Assigning Versions';\n    case 'completed':\n      return 'Process Complete';\n    case 'error':\n      return 'Error';\n    default:\n      return 'Processing';\n  }\n}\nfunction getProgressBarColor(status) {\n  switch (status) {\n    case 'completed':\n      return 'bg-green-500';\n    case 'error':\n      return 'bg-red-500';\n    case 'grouping':\n      return 'bg-blue-500';\n    case 'versioning':\n      return 'bg-purple-500';\n    default:\n      return 'bg-blue-500';\n  }\n}\nfunction getStatusIcon(status) {\n  switch (status) {\n    case 'completed':\n      return /*#__PURE__*/_jsxDEV(CheckCircle2, {\n        className: \"h-5 w-5 text-green-500 flex-shrink-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 14\n      }, this);\n    case 'error':\n      return /*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-5 w-5 text-red-500 flex-shrink-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 14\n      }, this);\n    default:\n      return /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-5 w-5 animate-spin text-blue-500 flex-shrink-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 14\n      }, this);\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"ProgressStream\");","map":{"version":3,"names":["React","useState","useEffect","useRef","AlertCircle","CheckCircle2","Loader2","Phase5ApiService","jsxDEV","_jsxDEV","Fragment","_Fragment","ProgressStream","isActive","onComplete","onError","_s","progress","setProgress","isConnected","setIsConnected","eventSourceRef","current","close","eventSource","createProgressStream","onopen","console","log","onmessage","event","progressData","JSON","parse","data","status","setTimeout","error","onerror","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getStatusLabel","toFixed","getProgressBarColor","style","width","getStatusIcon","message","timestamp","Date","toLocaleTimeString","total_statutes","total_groups","total_versioned","toLocaleString","_c","$RefreshReg$"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase5/ProgressStream.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { AlertCircle, CheckCircle2, Loader2 } from 'lucide-react';\r\nimport { Phase5ApiService } from './apiService';\r\nimport type { GroupingProgress } from './types';\r\n\r\ninterface ProgressStreamProps {\r\n  isActive: boolean;\r\n  onComplete: () => void;\r\n  onError: (error: string) => void;\r\n}\r\n\r\nexport default function ProgressStream({ isActive, onComplete, onError }: ProgressStreamProps) {\r\n  const [progress, setProgress] = useState<GroupingProgress | null>(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const eventSourceRef = useRef<EventSource | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!isActive) {\r\n      // Clean up connection when not active\r\n      if (eventSourceRef.current) {\r\n        eventSourceRef.current.close();\r\n        eventSourceRef.current = null;\r\n        setIsConnected(false);\r\n        setProgress(null);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Create new EventSource connection\r\n    try {\r\n      const eventSource = Phase5ApiService.createProgressStream();\r\n      eventSourceRef.current = eventSource;\r\n\r\n      eventSource.onopen = () => {\r\n        console.log('Progress stream connected');\r\n        setIsConnected(true);\r\n      };\r\n\r\n      eventSource.onmessage = (event) => {\r\n        try {\r\n          const progressData: GroupingProgress = JSON.parse(event.data);\r\n          setProgress(progressData);\r\n\r\n          // Handle completion\r\n          if (progressData.status === 'completed') {\r\n            setTimeout(() => {\r\n              onComplete();\r\n            }, 2000); // Show completed state for 2 seconds\r\n          } else if (progressData.status === 'error') {\r\n            onError(progressData.error || 'Unknown error occurred during grouping');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error parsing progress data:', error);\r\n          onError('Failed to parse progress data');\r\n        }\r\n      };\r\n\r\n      eventSource.onerror = (error) => {\r\n        console.error('EventSource error:', error);\r\n        setIsConnected(false);\r\n        \r\n        // Only report error if we're still supposed to be active\r\n        if (isActive) {\r\n          onError('Lost connection to progress stream');\r\n        }\r\n      };\r\n\r\n    } catch (error) {\r\n      console.error('Failed to create progress stream:', error);\r\n      onError('Failed to connect to progress stream');\r\n    }\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      if (eventSourceRef.current) {\r\n        eventSourceRef.current.close();\r\n        eventSourceRef.current = null;\r\n        setIsConnected(false);\r\n      }\r\n    };\r\n  }, [isActive, onComplete, onError]);\r\n\r\n  if (!isActive) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 rounded-lg p-6 space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"text-lg font-medium text-gray-900\">Grouping Progress</h3>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-400' : 'bg-red-400'}`}></div>\r\n          <span className=\"text-sm text-gray-500\">\r\n            {isConnected ? 'Connected' : 'Disconnected'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {progress && (\r\n        <>\r\n          {/* Progress Bar */}\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"font-medium text-gray-700\">\r\n                {getStatusLabel(progress.status)}\r\n              </span>\r\n              <span className=\"text-gray-500\">\r\n                {progress.progress.toFixed(1)}%\r\n              </span>\r\n            </div>\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div \r\n                className={`h-2 rounded-full transition-all duration-300 ${getProgressBarColor(progress.status)}`}\r\n                style={{ width: `${progress.progress}%` }}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Message */}\r\n          <div className=\"flex items-start space-x-3\">\r\n            {getStatusIcon(progress.status)}\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-sm text-gray-700\">{progress.message}</p>\r\n              {progress.timestamp && (\r\n                <p className=\"text-xs text-gray-500 mt-1\">\r\n                  {new Date(progress.timestamp).toLocaleTimeString()}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Statistics */}\r\n          {(progress.total_statutes || progress.total_groups || progress.total_versioned) && (\r\n            <div className=\"grid grid-cols-3 gap-4 pt-4 border-t border-gray-100\">\r\n              {progress.total_statutes && (\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {progress.total_statutes.toLocaleString()}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">Total Statutes</div>\r\n                </div>\r\n              )}\r\n              {progress.total_groups && (\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-2xl font-bold text-green-600\">\r\n                    {progress.total_groups.toLocaleString()}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">Groups Created</div>\r\n                </div>\r\n              )}\r\n              {progress.total_versioned && (\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-2xl font-bold text-purple-600\">\r\n                    {progress.total_versioned.toLocaleString()}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">Versions Assigned</div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Error Display */}\r\n          {progress.error && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\r\n              <div className=\"flex items-start\">\r\n                <AlertCircle className=\"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0\" />\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-red-800\">Error</h4>\r\n                  <p className=\"text-sm text-red-700 mt-1\">{progress.error}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {!progress && isConnected && (\r\n        <div className=\"flex items-center justify-center py-8\">\r\n          <Loader2 className=\"h-6 w-6 animate-spin text-blue-500 mr-2\" />\r\n          <span className=\"text-gray-500\">Waiting for progress updates...</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getStatusLabel(status: string): string {\r\n  switch (status) {\r\n    case 'fetching': return 'Fetching Statutes';\r\n    case 'fetching_complete': return 'Fetching Complete';\r\n    case 'grouping': return 'Grouping Statutes';\r\n    case 'grouping_complete': return 'Grouping Complete';\r\n    case 'versioning': return 'Assigning Versions';\r\n    case 'completed': return 'Process Complete';\r\n    case 'error': return 'Error';\r\n    default: return 'Processing';\r\n  }\r\n}\r\n\r\nfunction getProgressBarColor(status: string): string {\r\n  switch (status) {\r\n    case 'completed': return 'bg-green-500';\r\n    case 'error': return 'bg-red-500';\r\n    case 'grouping': return 'bg-blue-500';\r\n    case 'versioning': return 'bg-purple-500';\r\n    default: return 'bg-blue-500';\r\n  }\r\n}\r\n\r\nfunction getStatusIcon(status: string) {\r\n  switch (status) {\r\n    case 'completed':\r\n      return <CheckCircle2 className=\"h-5 w-5 text-green-500 flex-shrink-0\" />;\r\n    case 'error':\r\n      return <AlertCircle className=\"h-5 w-5 text-red-500 flex-shrink-0\" />;\r\n    default:\r\n      return <Loader2 className=\"h-5 w-5 animate-spin text-blue-500 flex-shrink-0\" />;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}