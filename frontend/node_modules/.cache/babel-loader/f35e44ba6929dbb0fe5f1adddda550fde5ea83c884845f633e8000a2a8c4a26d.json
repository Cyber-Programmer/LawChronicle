{"ast":null,"code":"import _objectSpread from\"D:/DigiFloat/LawChronicle/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{FileText,Edit3,Save,X,Search,RefreshCw,AlertTriangle,CheckCircle,ChevronDown,ChevronRight,FileText as SectionIcon}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StatuteNameNormalizer=_ref=>{let{config}=_ref;const[statuteGroups,setStatuteGroups]=useState([]);const[loading,setLoading]=useState(false);const[searchTerm,setSearchTerm]=useState('');const[editingId,setEditingId]=useState(null);const[editingName,setEditingName]=useState('');const[message,setMessage]=useState(null);const[selectedGroups,setSelectedGroups]=useState(new Set());const[batchEditMode,setBatchEditMode]=useState(false);const[batchNewName,setBatchNewName]=useState('');const[expandedGroups,setExpandedGroups]=useState(new Set());const[expandedSections,setExpandedSections]=useState(new Set());// Pagination state\nconst[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(100);const[totalItems,setTotalItems]=useState(0);const[totalPages,setTotalPages]=useState(0);// Fetch statute groups from normalized collection\nconst fetchStatuteGroups=useCallback(async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;let search=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';setLoading(true);try{const skip=(page-1)*limit;const queryParams=new URLSearchParams({limit:limit.toString(),skip:skip.toString(),search:search});const response=await fetch(\"/api/v1/phase2/detailed-normalized-structure?\".concat(queryParams),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({},config))});const data=await response.json();if(data.success&&data.detailed_data){var _data$pagination,_data$pagination2;// Transform the data to match our interface\nconst groups=data.detailed_data.map(statute=>({_id:statute.statute_name||'Unknown',Statute_Name:statute.statute_name||'Unknown',Sections:statute.sections||[],section_count:statute.section_count||0}));setStatuteGroups(groups);// Set pagination info from backend response\nsetTotalItems(data.filtered_count||data.total_statutes||0);setTotalPages(((_data$pagination=data.pagination)===null||_data$pagination===void 0?void 0:_data$pagination.total_pages)||Math.ceil((data.filtered_count||data.total_statutes||0)/limit));setCurrentPage(((_data$pagination2=data.pagination)===null||_data$pagination2===void 0?void 0:_data$pagination2.current_page)||page);}else{setStatuteGroups([]);setTotalItems(0);setTotalPages(0);setCurrentPage(1);setMessage({type:'error',text:data.message||'Failed to fetch statute groups'});}}catch(error){setStatuteGroups([]);setTotalItems(0);setTotalPages(0);setCurrentPage(1);setMessage({type:'error',text:'Error fetching statute groups'});}finally{setLoading(false);}},[config]);// Pagination handlers\nconst handlePageChange=page=>{setCurrentPage(page);fetchStatuteGroups(page,itemsPerPage,searchTerm);};const handleItemsPerPageChange=newItemsPerPage=>{setItemsPerPage(newItemsPerPage);setCurrentPage(1);fetchStatuteGroups(1,newItemsPerPage,searchTerm);};const handleSearch=term=>{setSearchTerm(term);setCurrentPage(1);fetchStatuteGroups(1,itemsPerPage,term);};const refreshData=()=>{fetchStatuteGroups(currentPage,itemsPerPage,searchTerm);};// Update a statute name (this would need a new backend endpoint)\nconst updateStatuteName=async(oldName,newName)=>{try{// For now, show a message that this feature needs backend implementation\nsetMessage({type:'error',text:'Statute name editing requires backend implementation for the new grouped schema'});// TODO: Implement backend endpoint to update statute names in grouped structure\n// This would need to:\n// 1. Find all documents with the old statute name\n// 2. Update the Statute_Name field\n// 3. Re-run normalization if needed\n}catch(error){setMessage({type:'error',text:'Error updating statute name'});}};// Handle edit start\nconst startEdit=statuteGroup=>{setEditingId(statuteGroup._id);setEditingName(statuteGroup.Statute_Name);};// Handle edit save\nconst saveEdit=async()=>{if(editingId&&editingName.trim()){await updateStatuteName(editingId,editingName.trim());setEditingId(null);setEditingName('');}};// Handle edit cancel\nconst cancelEdit=()=>{setEditingId(null);setEditingName('');};// Handle group selection\nconst toggleSelection=groupId=>{const newSelection=new Set(selectedGroups);if(newSelection.has(groupId)){newSelection.delete(groupId);}else{newSelection.add(groupId);}setSelectedGroups(newSelection);};// Handle batch edit\nconst handleBatchEdit=async()=>{if(selectedGroups.size===0||!batchNewName.trim()){setMessage({type:'error',text:'Please select groups and enter a new name'});return;}// For now, show a message that this feature needs backend implementation\nsetMessage({type:'error',text:'Batch editing requires backend implementation for the new grouped schema'});};// Toggle group expansion\nconst toggleGroupExpansion=groupId=>{const newExpanded=new Set(expandedGroups);if(newExpanded.has(groupId)){newExpanded.delete(groupId);}else{newExpanded.add(groupId);}setExpandedGroups(newExpanded);};// Toggle section expansion\nconst toggleSectionExpansion=sectionId=>{const newExpanded=new Set(expandedSections);if(newExpanded.has(sectionId)){newExpanded.delete(sectionId);}else{newExpanded.add(sectionId);}setExpandedSections(newExpanded);};// Filter statutes based on search term\nconst filteredStatutes=statuteGroups.filter(statute=>{// Add safe checks before calling string methods\nif(!statute.Statute_Name||typeof statute.Statute_Name!=='string'){return false;// Skip statutes with invalid names\n}return statute.Statute_Name.toLowerCase().includes(searchTerm.toLowerCase());});useEffect(()=>{fetchStatuteGroups();},[fetchStatuteGroups]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-5 h-5 mr-2\"}),\"Statute Names - Grouped View\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"View and manage statute names in the new grouped structure. Each statute contains multiple sections.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 min-w-64\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search statute names...\",value:searchTerm,onChange:e=>handleSearch(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Show:\"}),/*#__PURE__*/_jsxs(\"select\",{value:itemsPerPage,onChange:e=>handleItemsPerPageChange(Number(e.target.value)),className:\"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:25,children:\"25\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:75,children:\"75\"}),/*#__PURE__*/_jsx(\"option\",{value:100,children:\"100\"}),/*#__PURE__*/_jsx(\"option\",{value:200,children:\"200\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[currentPage,\" \\u2013 \",Math.min(currentPage*itemsPerPage,totalItems),\" of \",totalItems.toLocaleString()]}),/*#__PURE__*/_jsxs(\"button\",{onClick:refreshData,disabled:loading,className:\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50 flex items-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2 \".concat(loading?'animate-spin':'')}),\"Refresh\"]})]})]}),selectedGroups.size>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-blue-800\",children:[selectedGroups.size,\" statute group(s) selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"New statute name...\",value:batchNewName,onChange:e=>setBatchNewName(e.target.value),className:\"px-3 py-1 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleBatchEdit,className:\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4 mr-1\"}),\"Update Selected\"]})]})]})}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg flex items-center \".concat(message.type==='success'?'bg-green-50 text-green-800':'bg-red-50 text-red-800'),children:[message.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 mr-2\"}):/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 mr-2\"}),message.text]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 mx-auto mb-2 animate-spin\"}),\"Loading statute groups...\"]}):filteredStatutes.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center text-gray-500\",children:searchTerm?'No statutes found matching your search.':'No statute groups found.'}):/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:filteredStatutes.map(statute=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedGroups.has(statute._id),onChange:()=>toggleSelection(statute._id),className:\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleGroupExpansion(statute._id),className:\"flex items-center space-x-2 text-left hover:text-blue-600\",children:[expandedGroups.has(statute._id)?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:statute.Statute_Name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",statute.section_count,\" sections)\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:editingId===statute._id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editingName,onChange:e=>setEditingName(e.target.value),className:\"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:saveEdit,className:\"text-green-600 hover:text-green-800\",children:/*#__PURE__*/_jsx(Save,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEdit,className:\"text-gray-600 hover:text-gray-800\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(statute),className:\"text-blue-600 hover:text-blue-800\",title:\"Edit statute name\",children:/*#__PURE__*/_jsx(Edit3,{className:\"w-4 h-4\"})})})]}),expandedGroups.has(statute._id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 ml-8 space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"Sections:\"}),statute.Sections&&statute.Sections.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:statute.Sections.map((section,index)=>{var _section$additional_f,_section$additional_f2;const sectionId=\"\".concat(statute._id,\"-section-\").concat(index);const isExpanded=expandedSections.has(sectionId);// Get section number and definition from additional_fields\nconst sectionNumber=((_section$additional_f=section.additional_fields)===null||_section$additional_f===void 0?void 0:_section$additional_f.Section)||section.number||\"\".concat(index+1);const sectionDefinition=((_section$additional_f2=section.additional_fields)===null||_section$additional_f2===void 0?void 0:_section$additional_f2.Definition)||section.definition||'No title';const sectionContent=section.Statute||section.content||'No content available';return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleSectionExpansion(sectionId),className:\"flex items-center space-x-2 text-left hover:text-blue-600 flex-1\",children:[isExpanded?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(SectionIcon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-700\",children:[sectionNumber,\" : \",sectionDefinition]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[sectionContent.length,\" chars\"]})]}),isExpanded&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-200 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 p-3 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-800 mb-1\",children:\"Section Number:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700 font-mono\",children:sectionNumber})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-800 mb-1\",children:\"Section Title:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-700\",children:sectionDefinition})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-800 mb-2\",children:\"Full Statute Text:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-700 bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto border\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap font-sans leading-relaxed\",children:sectionContent})})]}),section.additional_fields&&Object.keys(section.additional_fields).length>2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-800 mb-2\",children:\"Additional Information:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-2\",children:Object.entries(section.additional_fields).map(_ref2=>{let[key,value]=_ref2;// Skip already displayed fields\nif(['Section','Definition'].includes(key)){return null;}// Skip empty or null values\nif(!value||typeof value==='string'&&value.trim()===''){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-2 rounded\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-xs font-semibold text-yellow-800 mb-1 capitalize\",children:[key.replace(/_/g,' '),\":\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-yellow-700\",children:typeof value==='object'?JSON.stringify(value,null,2):String(value)})]},key);})})]})]})})]},index);})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-sm\",children:\"No sections found\"})]})]},statute._id))}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-center gap-4 mt-6 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",(currentPage-1)*itemsPerPage+1,\" to \",Math.min(currentPage*itemsPerPage,totalItems),\" of \",totalItems.toLocaleString(),\" results\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(currentPage-1),disabled:currentPage===1,className:\"px-3 py-2 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1\",children:Array.from({length:Math.min(totalPages,7)},(_,i)=>{let page;if(totalPages<=7){page=i+1;}else if(currentPage<=4){page=i+1;}else if(currentPage>=totalPages-3){page=totalPages-6+i;}else{page=currentPage-3+i;}return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page),className:\"px-3 py-2 text-sm border rounded-lg \".concat(currentPage===page?'bg-blue-500 text-white border-blue-500':'border-gray-300 hover:bg-gray-100'),children:page},page);})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(currentPage+1),disabled:currentPage===totalPages,className:\"px-3 py-2 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\",children:\"Next\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[searchTerm?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Found \",totalItems.toLocaleString(),\" statute group(s) matching \\\"\",searchTerm,\"\\\"\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Total: \",totalItems.toLocaleString(),\" statute group(s)\"]}),totalPages>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \\u2022 Page \",currentPage,\" of \",totalPages]})]})})]});};export default StatuteNameNormalizer;","map":{"version":3,"names":["React","useState","useEffect","useCallback","FileText","Edit3","Save","X","Search","RefreshCw","AlertTriangle","CheckCircle","ChevronDown","ChevronRight","SectionIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StatuteNameNormalizer","_ref","config","statuteGroups","setStatuteGroups","loading","setLoading","searchTerm","setSearchTerm","editingId","setEditingId","editingName","setEditingName","message","setMessage","selectedGroups","setSelectedGroups","Set","batchEditMode","setBatchEditMode","batchNewName","setBatchNewName","expandedGroups","setExpandedGroups","expandedSections","setExpandedSections","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","totalItems","setTotalItems","totalPages","setTotalPages","fetchStatuteGroups","page","arguments","length","undefined","limit","search","skip","queryParams","URLSearchParams","toString","response","fetch","concat","method","headers","localStorage","getItem","body","JSON","stringify","_objectSpread","data","json","success","detailed_data","_data$pagination","_data$pagination2","groups","map","statute","_id","statute_name","Statute_Name","Sections","sections","section_count","filtered_count","total_statutes","pagination","total_pages","Math","ceil","current_page","type","text","error","handlePageChange","handleItemsPerPageChange","newItemsPerPage","handleSearch","term","refreshData","updateStatuteName","oldName","newName","startEdit","statuteGroup","saveEdit","trim","cancelEdit","toggleSelection","groupId","newSelection","has","delete","add","handleBatchEdit","size","toggleGroupExpansion","newExpanded","toggleSectionExpansion","sectionId","filteredStatutes","filter","toLowerCase","includes","className","children","placeholder","value","onChange","e","target","Number","min","toLocaleString","onClick","disabled","checked","title","section","index","_section$additional_f","_section$additional_f2","isExpanded","sectionNumber","additional_fields","Section","number","sectionDefinition","Definition","definition","sectionContent","Statute","content","Object","keys","entries","_ref2","key","replace","String","Array","from","_","i"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/StatuteNameNormalizer.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { FileText, Edit3, Save, X, Search, RefreshCw, AlertTriangle, CheckCircle, Eye, ChevronDown, ChevronRight, BookOpen, FileText as SectionIcon } from 'lucide-react';\n\ninterface StatuteGroup {\n  _id: string;\n  Statute_Name: string;\n  Sections: any[];\n  section_count: number;\n}\n\ninterface StatuteNameNormalizerProps {\n  config: {\n    source_collection: string;\n    target_collection: string;\n    database_name?: string;\n    cleaned_collection: string;\n    sorted_collection: string;\n  };\n}\n\nconst StatuteNameNormalizer: React.FC<StatuteNameNormalizerProps> = ({ config }) => {\n  const [statuteGroups, setStatuteGroups] = useState<StatuteGroup[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editingName, setEditingName] = useState('');\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n  const [selectedGroups, setSelectedGroups] = useState<Set<string>>(new Set());\n  const [batchEditMode, setBatchEditMode] = useState(false);\n  const [batchNewName, setBatchNewName] = useState('');\n  const [expandedGroups, setExpandedGroups] = useState<Set<string>>(new Set());\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set());\n  \n  // Pagination state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(100);\n  const [totalItems, setTotalItems] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n\n  // Fetch statute groups from normalized collection\n  const fetchStatuteGroups = useCallback(async (page: number = 1, limit: number = 100, search: string = '') => {\n    setLoading(true);\n    try {\n      const skip = (page - 1) * limit;\n      const queryParams = new URLSearchParams({\n        limit: limit.toString(),\n        skip: skip.toString(),\n        search: search\n      });\n      const response = await fetch(`/api/v1/phase2/detailed-normalized-structure?${queryParams}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...config\n        })\n      });\n      const data = await response.json();\n      if (data.success && data.detailed_data) {\n        // Transform the data to match our interface\n        const groups = data.detailed_data.map((statute: any) => ({\n          _id: statute.statute_name || 'Unknown',\n          Statute_Name: statute.statute_name || 'Unknown',\n          Sections: statute.sections || [],\n          section_count: statute.section_count || 0\n        }));\n        setStatuteGroups(groups);\n        // Set pagination info from backend response\n        setTotalItems(data.filtered_count || data.total_statutes || 0);\n        setTotalPages(data.pagination?.total_pages || Math.ceil((data.filtered_count || data.total_statutes || 0) / limit));\n        setCurrentPage(data.pagination?.current_page || page);\n      } else {\n        setStatuteGroups([]);\n        setTotalItems(0);\n        setTotalPages(0);\n        setCurrentPage(1);\n        setMessage({ type: 'error', text: data.message || 'Failed to fetch statute groups' });\n      }\n    } catch (error) {\n      setStatuteGroups([]);\n      setTotalItems(0);\n      setTotalPages(0);\n      setCurrentPage(1);\n      setMessage({ type: 'error', text: 'Error fetching statute groups' });\n    } finally {\n      setLoading(false);\n    }\n  }, [config]);\n\n  // Pagination handlers\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n    fetchStatuteGroups(page, itemsPerPage, searchTerm);\n  };\n\n  const handleItemsPerPageChange = (newItemsPerPage: number) => {\n    setItemsPerPage(newItemsPerPage);\n    setCurrentPage(1);\n    fetchStatuteGroups(1, newItemsPerPage, searchTerm);\n  };\n\n  const handleSearch = (term: string) => {\n    setSearchTerm(term);\n    setCurrentPage(1);\n    fetchStatuteGroups(1, itemsPerPage, term);\n  };\n\n  const refreshData = () => {\n    fetchStatuteGroups(currentPage, itemsPerPage, searchTerm);\n  };\n\n  // Update a statute name (this would need a new backend endpoint)\n  const updateStatuteName = async (oldName: string, newName: string) => {\n    try {\n      // For now, show a message that this feature needs backend implementation\n      setMessage({ \n        type: 'error', \n        text: 'Statute name editing requires backend implementation for the new grouped schema' \n      });\n      \n      // TODO: Implement backend endpoint to update statute names in grouped structure\n      // This would need to:\n      // 1. Find all documents with the old statute name\n      // 2. Update the Statute_Name field\n      // 3. Re-run normalization if needed\n      \n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error updating statute name' });\n    }\n  };\n\n  // Handle edit start\n  const startEdit = (statuteGroup: StatuteGroup) => {\n    setEditingId(statuteGroup._id);\n    setEditingName(statuteGroup.Statute_Name);\n  };\n\n  // Handle edit save\n  const saveEdit = async () => {\n    if (editingId && editingName.trim()) {\n      await updateStatuteName(editingId, editingName.trim());\n      setEditingId(null);\n      setEditingName('');\n    }\n  };\n\n  // Handle edit cancel\n  const cancelEdit = () => {\n    setEditingId(null);\n    setEditingName('');\n  };\n\n  // Handle group selection\n  const toggleSelection = (groupId: string) => {\n    const newSelection = new Set(selectedGroups);\n    if (newSelection.has(groupId)) {\n      newSelection.delete(groupId);\n    } else {\n      newSelection.add(groupId);\n    }\n    setSelectedGroups(newSelection);\n  };\n\n  // Handle batch edit\n  const handleBatchEdit = async () => {\n    if (selectedGroups.size === 0 || !batchNewName.trim()) {\n      setMessage({ type: 'error', text: 'Please select groups and enter a new name' });\n      return;\n    }\n\n    // For now, show a message that this feature needs backend implementation\n    setMessage({ \n      type: 'error', \n      text: 'Batch editing requires backend implementation for the new grouped schema' \n    });\n  };\n\n  // Toggle group expansion\n  const toggleGroupExpansion = (groupId: string) => {\n    const newExpanded = new Set(expandedGroups);\n    if (newExpanded.has(groupId)) {\n      newExpanded.delete(groupId);\n    } else {\n      newExpanded.add(groupId);\n    }\n    setExpandedGroups(newExpanded);\n  };\n\n  // Toggle section expansion\n  const toggleSectionExpansion = (sectionId: string) => {\n    const newExpanded = new Set(expandedSections);\n    if (newExpanded.has(sectionId)) {\n      newExpanded.delete(sectionId);\n    } else {\n      newExpanded.add(sectionId);\n    }\n    setExpandedSections(newExpanded);\n  };\n\n  // Filter statutes based on search term\n  const filteredStatutes = statuteGroups.filter(statute => {\n    // Add safe checks before calling string methods\n    if (!statute.Statute_Name || typeof statute.Statute_Name !== 'string') {\n      return false; // Skip statutes with invalid names\n    }\n    return statute.Statute_Name.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  useEffect(() => {\n    fetchStatuteGroups();\n  }, [fetchStatuteGroups]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n          <FileText className=\"w-5 h-5 mr-2\" />\n          Statute Names - Grouped View\n        </h2>\n        <p className=\"text-gray-600 mb-4\">\n          View and manage statute names in the new grouped structure. Each statute contains multiple sections.\n        </p>\n        \n        {/* Search and Controls */}\n        <div className=\"flex flex-wrap gap-4 items-center\">\n          <div className=\"flex-1 min-w-64\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search statute names...\"\n                value={searchTerm}\n                onChange={(e) => handleSearch(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n          \n          {/* Items per page selector */}\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm text-gray-600\">Show:</span>\n            <select\n              value={itemsPerPage}\n              onChange={(e) => handleItemsPerPageChange(Number(e.target.value))}\n              className=\"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value={25}>25</option>\n              <option value={50}>50</option>\n              <option value={75}>75</option>\n              <option value={100}>100</option>\n              <option value={200}>200</option>\n            </select>\n          </div>\n          \n          {/* Pagination info */}\n          <div className=\"text-sm text-gray-600\">\n            {currentPage} – {Math.min(currentPage * itemsPerPage, totalItems)} of {totalItems.toLocaleString()}\n          </div>\n          \n          <button\n            onClick={refreshData}\n            disabled={loading}\n            className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 disabled:opacity-50 flex items-center\"\n          >\n            <RefreshCw className={`w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      {/* Batch Edit Controls */}\n      {selectedGroups.size > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-blue-800\">\n              {selectedGroups.size} statute group(s) selected\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"text\"\n                placeholder=\"New statute name...\"\n                value={batchNewName}\n                onChange={(e) => setBatchNewName(e.target.value)}\n                className=\"px-3 py-1 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500\"\n              />\n              <button\n                onClick={handleBatchEdit}\n                className=\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\"\n              >\n                <Save className=\"w-4 h-4 mr-1\" />\n                Update Selected\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Message Display */}\n      {message && (\n        <div className={`p-4 rounded-lg flex items-center ${\n          message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n        }`}>\n          {message.type === 'success' ? (\n            <CheckCircle className=\"w-5 h-5 mr-2\" />\n          ) : (\n            <AlertTriangle className=\"w-5 h-5 mr-2\" />\n          )}\n          {message.text}\n        </div>\n      )}\n\n      {/* Statute Groups List */}\n      <div className=\"bg-white rounded-lg shadow\">\n        {loading ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            <RefreshCw className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\n            Loading statute groups...\n          </div>\n        ) : filteredStatutes.length === 0 ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            {searchTerm ? 'No statutes found matching your search.' : 'No statute groups found.'}\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredStatutes.map((statute) => (\n              <div key={statute._id} className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedGroups.has(statute._id)}\n                      onChange={() => toggleSelection(statute._id)}\n                      className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                    \n                    <button\n                      onClick={() => toggleGroupExpansion(statute._id)}\n                      className=\"flex items-center space-x-2 text-left hover:text-blue-600\"\n                    >\n                      {expandedGroups.has(statute._id) ? (\n                        <ChevronDown className=\"w-4 h-4\" />\n                      ) : (\n                        <ChevronRight className=\"w-4 h-4\" />\n                      )}\n                      <span className=\"font-medium text-gray-900\">{statute.Statute_Name}</span>\n                      <span className=\"text-sm text-gray-500\">({statute.section_count} sections)</span>\n                    </button>\n                  </div>\n                  \n                  <div className=\"flex items-center space-x-2\">\n                    {editingId === statute._id ? (\n                      <>\n                        <input\n                          type=\"text\"\n                          value={editingName}\n                          onChange={(e) => setEditingName(e.target.value)}\n                          className=\"px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500\"\n                        />\n                        <button\n                          onClick={saveEdit}\n                          className=\"text-green-600 hover:text-green-800\"\n                        >\n                          <Save className=\"w-4 h-4\" />\n                        </button>\n                        <button\n                          onClick={cancelEdit}\n                          className=\"text-gray-600 hover:text-gray-800\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </>\n                    ) : (\n                      <button\n                        onClick={() => startEdit(statute)}\n                        className=\"text-blue-600 hover:text-blue-800\"\n                        title=\"Edit statute name\"\n                      >\n                        <Edit3 className=\"w-4 h-4\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Expanded Sections View */}\n                {expandedGroups.has(statute._id) && (\n                  <div className=\"mt-3 ml-8 space-y-2\">\n                    <div className=\"text-sm text-gray-600 font-medium\">Sections:</div>\n                    {statute.Sections && statute.Sections.length > 0 ? (\n                      <div className=\"space-y-2\">\n                        {statute.Sections.map((section: any, index: number) => {\n                          const sectionId = `${statute._id}-section-${index}`;\n                          const isExpanded = expandedSections.has(sectionId);\n                          \n                          // Get section number and definition from additional_fields\n                          const sectionNumber = section.additional_fields?.Section || section.number || `${index + 1}`;\n                          const sectionDefinition = section.additional_fields?.Definition || section.definition || 'No title';\n                          const sectionContent = section.Statute || section.content || 'No content available';\n                          \n                          return (\n                            <div key={index} className=\"border border-gray-200 rounded-lg\">\n                              <div className=\"bg-gray-50 p-3 flex items-center justify-between\">\n                                <button\n                                  onClick={() => toggleSectionExpansion(sectionId)}\n                                  className=\"flex items-center space-x-2 text-left hover:text-blue-600 flex-1\"\n                                >\n                                  {isExpanded ? (\n                                    <ChevronDown className=\"w-4 h-4\" />\n                                  ) : (\n                                    <ChevronRight className=\"w-4 h-4\" />\n                                  )}\n                                  <SectionIcon className=\"w-4 h-4\" />\n                                  <span className=\"font-medium text-gray-700\">\n                                    {sectionNumber} : {sectionDefinition}\n                                  </span>\n                                </button>\n                                <div className=\"text-xs text-gray-500\">\n                                  {sectionContent.length} chars\n                                </div>\n                              </div>\n                              \n                              {isExpanded && (\n                                <div className=\"p-4 border-t border-gray-200 bg-white\">\n                                  <div className=\"space-y-3\">\n                                    {/* Section Header Info */}\n                                    <div className=\"bg-blue-50 p-3 rounded-lg\">\n                                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                                        <div>\n                                          <h4 className=\"text-sm font-semibold text-blue-800 mb-1\">Section Number:</h4>\n                                          <p className=\"text-sm text-blue-700 font-mono\">\n                                            {sectionNumber}\n                                          </p>\n                                        </div>\n                                        <div>\n                                          <h4 className=\"text-sm font-semibold text-blue-800 mb-1\">Section Title:</h4>\n                                          <p className=\"text-sm text-blue-700\">\n                                            {sectionDefinition}\n                                          </p>\n                                        </div>\n                                      </div>\n                                    </div>\n                                    \n                                    {/* Full Statute Content */}\n                                    <div>\n                                      <h4 className=\"text-sm font-semibold text-gray-800 mb-2\">Full Statute Text:</h4>\n                                      <div className=\"text-sm text-gray-700 bg-gray-50 p-4 rounded-lg max-h-96 overflow-y-auto border\">\n                                        <pre className=\"whitespace-pre-wrap font-sans leading-relaxed\">\n                                          {sectionContent}\n                                        </pre>\n                                      </div>\n                                    </div>\n                                    \n                                    {/* Additional Metadata */}\n                                    {section.additional_fields && Object.keys(section.additional_fields).length > 2 && (\n                                      <div>\n                                        <h4 className=\"text-sm font-semibold text-gray-800 mb-2\">Additional Information:</h4>\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n                                          {Object.entries(section.additional_fields).map(([key, value]) => {\n                                            // Skip already displayed fields\n                                            if (['Section', 'Definition'].includes(key)) {\n                                              return null;\n                                            }\n                                            \n                                            // Skip empty or null values\n                                            if (!value || (typeof value === 'string' && value.trim() === '')) {\n                                              return null;\n                                            }\n                                            \n                                            return (\n                                              <div key={key} className=\"bg-yellow-50 p-2 rounded\">\n                                                <h5 className=\"text-xs font-semibold text-yellow-800 mb-1 capitalize\">\n                                                  {key.replace(/_/g, ' ')}:\n                                                </h5>\n                                                <p className=\"text-xs text-yellow-700\">\n                                                  {typeof value === 'object' ? JSON.stringify(value, null, 2) : String(value)}\n                                                </p>\n                                              </div>\n                                            );\n                                          })}\n                                        </div>\n                                      </div>\n                                    )}\n                                  </div>\n                                </div>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    ) : (\n                      <div className=\"text-gray-500 text-sm\">No sections found</div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n        \n        {/* Pagination Controls */}\n        {totalPages > 1 && (\n          <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4 mt-6 p-4 bg-gray-50 rounded-lg\">\n            <div className=\"text-sm text-gray-600\">\n              Showing {((currentPage - 1) * itemsPerPage) + 1} to {Math.min(currentPage * itemsPerPage, totalItems)} of {totalItems.toLocaleString()} results\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              {/* Previous button */}\n              <button\n                onClick={() => handlePageChange(currentPage - 1)}\n                disabled={currentPage === 1}\n                className=\"px-3 py-2 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\"\n              >\n                Previous\n              </button>\n              \n              {/* Page numbers */}\n              <div className=\"flex items-center gap-1\">\n                {Array.from({ length: Math.min(totalPages, 7) }, (_, i) => {\n                  let page: number;\n                  if (totalPages <= 7) {\n                    page = i + 1;\n                  } else if (currentPage <= 4) {\n                    page = i + 1;\n                  } else if (currentPage >= totalPages - 3) {\n                    page = totalPages - 6 + i;\n                  } else {\n                    page = currentPage - 3 + i;\n                  }\n                  \n                  return (\n                    <button\n                      key={page}\n                      onClick={() => handlePageChange(page)}\n                      className={`px-3 py-2 text-sm border rounded-lg ${\n                        currentPage === page\n                          ? 'bg-blue-500 text-white border-blue-500'\n                          : 'border-gray-300 hover:bg-gray-100'\n                      }`}\n                    >\n                      {page}\n                    </button>\n                  );\n                })}\n              </div>\n              \n              {/* Next button */}\n              <button\n                onClick={() => handlePageChange(currentPage + 1)}\n                disabled={currentPage === totalPages}\n                className=\"px-3 py-2 text-sm border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100\"\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Summary */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <div className=\"text-sm text-gray-600\">\n          {searchTerm ? (\n            <>Found {totalItems.toLocaleString()} statute group(s) matching \"{searchTerm}\"</>\n          ) : (\n            <>Total: {totalItems.toLocaleString()} statute group(s)</>\n          )}\n          {totalPages > 1 && (\n            <> • Page {currentPage} of {totalPages}</>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatuteNameNormalizer;\n"],"mappings":"uHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,QAAQ,CAAEC,KAAK,CAAEC,IAAI,CAAEC,CAAC,CAAEC,MAAM,CAAEC,SAAS,CAAEC,aAAa,CAAEC,WAAW,CAAOC,WAAW,CAAEC,YAAY,CAAYT,QAAQ,GAAI,CAAAU,WAAW,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAmB1K,KAAM,CAAAC,qBAA2D,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC7E,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAGxB,QAAQ,CAAiB,EAAE,CAAC,CACtE,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6B,SAAS,CAAEC,YAAY,CAAC,CAAG9B,QAAQ,CAAgB,IAAI,CAAC,CAC/D,KAAM,CAAC+B,WAAW,CAAEC,cAAc,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACiC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAqD,IAAI,CAAC,CAChG,KAAM,CAACmC,cAAc,CAAEC,iBAAiB,CAAC,CAAGpC,QAAQ,CAAc,GAAI,CAAAqC,GAAG,CAAC,CAAC,CAAC,CAC5E,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGvC,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACwC,YAAY,CAAEC,eAAe,CAAC,CAAGzC,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC0C,cAAc,CAAEC,iBAAiB,CAAC,CAAG3C,QAAQ,CAAc,GAAI,CAAAqC,GAAG,CAAC,CAAC,CAAC,CAC5E,KAAM,CAACO,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG7C,QAAQ,CAAc,GAAI,CAAAqC,GAAG,CAAC,CAAC,CAAC,CAEhF;AACA,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAG/C,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACgD,YAAY,CAAEC,eAAe,CAAC,CAAGjD,QAAQ,CAAC,GAAG,CAAC,CACrD,KAAM,CAACkD,UAAU,CAAEC,aAAa,CAAC,CAAGnD,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACoD,UAAU,CAAEC,aAAa,CAAC,CAAGrD,QAAQ,CAAC,CAAC,CAAC,CAE/C;AACA,KAAM,CAAAsD,kBAAkB,CAAGpD,WAAW,CAAC,gBAAsE,IAA/D,CAAAqD,IAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,KAAa,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,GAAG,IAAE,CAAAI,MAAc,CAAAJ,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACtG9B,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAmC,IAAI,CAAG,CAACN,IAAI,CAAG,CAAC,EAAII,KAAK,CAC/B,KAAM,CAAAG,WAAW,CAAG,GAAI,CAAAC,eAAe,CAAC,CACtCJ,KAAK,CAAEA,KAAK,CAACK,QAAQ,CAAC,CAAC,CACvBH,IAAI,CAAEA,IAAI,CAACG,QAAQ,CAAC,CAAC,CACrBJ,MAAM,CAAEA,MACV,CAAC,CAAC,CACF,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAC,KAAK,iDAAAC,MAAA,CAAiDL,WAAW,EAAI,CAC1FM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,eAAe,WAAAF,MAAA,CAAYG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE,CAC1D,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAAC,aAAA,IACfrD,MAAM,CACV,CACH,CAAC,CAAC,CACF,KAAM,CAAAsD,IAAI,CAAG,KAAM,CAAAX,QAAQ,CAACY,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,CAACE,OAAO,EAAIF,IAAI,CAACG,aAAa,CAAE,KAAAC,gBAAA,CAAAC,iBAAA,CACtC;AACA,KAAM,CAAAC,MAAM,CAAGN,IAAI,CAACG,aAAa,CAACI,GAAG,CAAEC,OAAY,GAAM,CACvDC,GAAG,CAAED,OAAO,CAACE,YAAY,EAAI,SAAS,CACtCC,YAAY,CAAEH,OAAO,CAACE,YAAY,EAAI,SAAS,CAC/CE,QAAQ,CAAEJ,OAAO,CAACK,QAAQ,EAAI,EAAE,CAChCC,aAAa,CAAEN,OAAO,CAACM,aAAa,EAAI,CAC1C,CAAC,CAAC,CAAC,CACHlE,gBAAgB,CAAC0D,MAAM,CAAC,CACxB;AACA/B,aAAa,CAACyB,IAAI,CAACe,cAAc,EAAIf,IAAI,CAACgB,cAAc,EAAI,CAAC,CAAC,CAC9DvC,aAAa,CAAC,EAAA2B,gBAAA,CAAAJ,IAAI,CAACiB,UAAU,UAAAb,gBAAA,iBAAfA,gBAAA,CAAiBc,WAAW,GAAIC,IAAI,CAACC,IAAI,CAAC,CAACpB,IAAI,CAACe,cAAc,EAAIf,IAAI,CAACgB,cAAc,EAAI,CAAC,EAAIjC,KAAK,CAAC,CAAC,CACnHZ,cAAc,CAAC,EAAAkC,iBAAA,CAAAL,IAAI,CAACiB,UAAU,UAAAZ,iBAAA,iBAAfA,iBAAA,CAAiBgB,YAAY,GAAI1C,IAAI,CAAC,CACvD,CAAC,IAAM,CACL/B,gBAAgB,CAAC,EAAE,CAAC,CACpB2B,aAAa,CAAC,CAAC,CAAC,CAChBE,aAAa,CAAC,CAAC,CAAC,CAChBN,cAAc,CAAC,CAAC,CAAC,CACjBb,UAAU,CAAC,CAAEgE,IAAI,CAAE,OAAO,CAAEC,IAAI,CAAEvB,IAAI,CAAC3C,OAAO,EAAI,gCAAiC,CAAC,CAAC,CACvF,CACF,CAAE,MAAOmE,KAAK,CAAE,CACd5E,gBAAgB,CAAC,EAAE,CAAC,CACpB2B,aAAa,CAAC,CAAC,CAAC,CAChBE,aAAa,CAAC,CAAC,CAAC,CAChBN,cAAc,CAAC,CAAC,CAAC,CACjBb,UAAU,CAAC,CAAEgE,IAAI,CAAE,OAAO,CAAEC,IAAI,CAAE,+BAAgC,CAAC,CAAC,CACtE,CAAC,OAAS,CACRzE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACJ,MAAM,CAAC,CAAC,CAEZ;AACA,KAAM,CAAA+E,gBAAgB,CAAI9C,IAAY,EAAK,CACzCR,cAAc,CAACQ,IAAI,CAAC,CACpBD,kBAAkB,CAACC,IAAI,CAAEP,YAAY,CAAErB,UAAU,CAAC,CACpD,CAAC,CAED,KAAM,CAAA2E,wBAAwB,CAAIC,eAAuB,EAAK,CAC5DtD,eAAe,CAACsD,eAAe,CAAC,CAChCxD,cAAc,CAAC,CAAC,CAAC,CACjBO,kBAAkB,CAAC,CAAC,CAAEiD,eAAe,CAAE5E,UAAU,CAAC,CACpD,CAAC,CAED,KAAM,CAAA6E,YAAY,CAAIC,IAAY,EAAK,CACrC7E,aAAa,CAAC6E,IAAI,CAAC,CACnB1D,cAAc,CAAC,CAAC,CAAC,CACjBO,kBAAkB,CAAC,CAAC,CAAEN,YAAY,CAAEyD,IAAI,CAAC,CAC3C,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxBpD,kBAAkB,CAACR,WAAW,CAAEE,YAAY,CAAErB,UAAU,CAAC,CAC3D,CAAC,CAED;AACA,KAAM,CAAAgF,iBAAiB,CAAG,KAAAA,CAAOC,OAAe,CAAEC,OAAe,GAAK,CACpE,GAAI,CACF;AACA3E,UAAU,CAAC,CACTgE,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,iFACR,CAAC,CAAC,CAEF;AACA;AACA;AACA;AACA;AAEF,CAAE,MAAOC,KAAK,CAAE,CACdlE,UAAU,CAAC,CAAEgE,IAAI,CAAE,OAAO,CAAEC,IAAI,CAAE,6BAA8B,CAAC,CAAC,CACpE,CACF,CAAC,CAED;AACA,KAAM,CAAAW,SAAS,CAAIC,YAA0B,EAAK,CAChDjF,YAAY,CAACiF,YAAY,CAAC1B,GAAG,CAAC,CAC9BrD,cAAc,CAAC+E,YAAY,CAACxB,YAAY,CAAC,CAC3C,CAAC,CAED;AACA,KAAM,CAAAyB,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAInF,SAAS,EAAIE,WAAW,CAACkF,IAAI,CAAC,CAAC,CAAE,CACnC,KAAM,CAAAN,iBAAiB,CAAC9E,SAAS,CAAEE,WAAW,CAACkF,IAAI,CAAC,CAAC,CAAC,CACtDnF,YAAY,CAAC,IAAI,CAAC,CAClBE,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAED;AACA,KAAM,CAAAkF,UAAU,CAAGA,CAAA,GAAM,CACvBpF,YAAY,CAAC,IAAI,CAAC,CAClBE,cAAc,CAAC,EAAE,CAAC,CACpB,CAAC,CAED;AACA,KAAM,CAAAmF,eAAe,CAAIC,OAAe,EAAK,CAC3C,KAAM,CAAAC,YAAY,CAAG,GAAI,CAAAhF,GAAG,CAACF,cAAc,CAAC,CAC5C,GAAIkF,YAAY,CAACC,GAAG,CAACF,OAAO,CAAC,CAAE,CAC7BC,YAAY,CAACE,MAAM,CAACH,OAAO,CAAC,CAC9B,CAAC,IAAM,CACLC,YAAY,CAACG,GAAG,CAACJ,OAAO,CAAC,CAC3B,CACAhF,iBAAiB,CAACiF,YAAY,CAAC,CACjC,CAAC,CAED;AACA,KAAM,CAAAI,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAItF,cAAc,CAACuF,IAAI,GAAK,CAAC,EAAI,CAAClF,YAAY,CAACyE,IAAI,CAAC,CAAC,CAAE,CACrD/E,UAAU,CAAC,CAAEgE,IAAI,CAAE,OAAO,CAAEC,IAAI,CAAE,2CAA4C,CAAC,CAAC,CAChF,OACF,CAEA;AACAjE,UAAU,CAAC,CACTgE,IAAI,CAAE,OAAO,CACbC,IAAI,CAAE,0EACR,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAwB,oBAAoB,CAAIP,OAAe,EAAK,CAChD,KAAM,CAAAQ,WAAW,CAAG,GAAI,CAAAvF,GAAG,CAACK,cAAc,CAAC,CAC3C,GAAIkF,WAAW,CAACN,GAAG,CAACF,OAAO,CAAC,CAAE,CAC5BQ,WAAW,CAACL,MAAM,CAACH,OAAO,CAAC,CAC7B,CAAC,IAAM,CACLQ,WAAW,CAACJ,GAAG,CAACJ,OAAO,CAAC,CAC1B,CACAzE,iBAAiB,CAACiF,WAAW,CAAC,CAChC,CAAC,CAED;AACA,KAAM,CAAAC,sBAAsB,CAAIC,SAAiB,EAAK,CACpD,KAAM,CAAAF,WAAW,CAAG,GAAI,CAAAvF,GAAG,CAACO,gBAAgB,CAAC,CAC7C,GAAIgF,WAAW,CAACN,GAAG,CAACQ,SAAS,CAAC,CAAE,CAC9BF,WAAW,CAACL,MAAM,CAACO,SAAS,CAAC,CAC/B,CAAC,IAAM,CACLF,WAAW,CAACJ,GAAG,CAACM,SAAS,CAAC,CAC5B,CACAjF,mBAAmB,CAAC+E,WAAW,CAAC,CAClC,CAAC,CAED;AACA,KAAM,CAAAG,gBAAgB,CAAGxG,aAAa,CAACyG,MAAM,CAAC5C,OAAO,EAAI,CACvD;AACA,GAAI,CAACA,OAAO,CAACG,YAAY,EAAI,MAAO,CAAAH,OAAO,CAACG,YAAY,GAAK,QAAQ,CAAE,CACrE,MAAO,MAAK,CAAE;AAChB,CACA,MAAO,CAAAH,OAAO,CAACG,YAAY,CAAC0C,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvG,UAAU,CAACsG,WAAW,CAAC,CAAC,CAAC,CAC9E,CAAC,CAAC,CAEFhI,SAAS,CAAC,IAAM,CACdqD,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,CAACA,kBAAkB,CAAC,CAAC,CAExB,mBACErC,KAAA,QAAKkH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBnH,KAAA,QAAKkH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CnH,KAAA,OAAIkH,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eACxErH,IAAA,CAACZ,QAAQ,EAACgI,SAAS,CAAC,cAAc,CAAE,CAAC,+BAEvC,EAAI,CAAC,cACLpH,IAAA,MAAGoH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,sGAElC,CAAG,CAAC,cAGJnH,KAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDrH,IAAA,QAAKoH,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BnH,KAAA,QAAKkH,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBrH,IAAA,CAACR,MAAM,EAAC4H,SAAS,CAAC,0EAA0E,CAAE,CAAC,cAC/FpH,IAAA,UACEmF,IAAI,CAAC,MAAM,CACXmC,WAAW,CAAC,yBAAyB,CACrCC,KAAK,CAAE3G,UAAW,CAClB4G,QAAQ,CAAGC,CAAC,EAAKhC,YAAY,CAACgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9CH,SAAS,CAAC,oHAAoH,CAC/H,CAAC,EACC,CAAC,CACH,CAAC,cAGNlH,KAAA,QAAKkH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCrH,IAAA,SAAMoH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,OAAK,CAAM,CAAC,cACpDnH,KAAA,WACEqH,KAAK,CAAEtF,YAAa,CACpBuF,QAAQ,CAAGC,CAAC,EAAKlC,wBAAwB,CAACoC,MAAM,CAACF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CAClEH,SAAS,CAAC,mFAAmF,CAAAC,QAAA,eAE7FrH,IAAA,WAAQuH,KAAK,CAAE,EAAG,CAAAF,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BrH,IAAA,WAAQuH,KAAK,CAAE,EAAG,CAAAF,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BrH,IAAA,WAAQuH,KAAK,CAAE,EAAG,CAAAF,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9BrH,IAAA,WAAQuH,KAAK,CAAE,GAAI,CAAAF,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChCrH,IAAA,WAAQuH,KAAK,CAAE,GAAI,CAAAF,QAAA,CAAC,KAAG,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,cAGNnH,KAAA,QAAKkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCtF,WAAW,CAAC,UAAG,CAACiD,IAAI,CAAC4C,GAAG,CAAC7F,WAAW,CAAGE,YAAY,CAAEE,UAAU,CAAC,CAAC,MAAI,CAACA,UAAU,CAAC0F,cAAc,CAAC,CAAC,EAC/F,CAAC,cAEN3H,KAAA,WACE4H,OAAO,CAAEnC,WAAY,CACrBoC,QAAQ,CAAErH,OAAQ,CAClB0G,SAAS,CAAC,qGAAqG,CAAAC,QAAA,eAE/GrH,IAAA,CAACP,SAAS,EAAC2H,SAAS,iBAAAhE,MAAA,CAAkB1C,OAAO,CAAG,cAAc,CAAG,EAAE,CAAG,CAAE,CAAC,UAE3E,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAGLU,cAAc,CAACuF,IAAI,CAAG,CAAC,eACtB3G,IAAA,QAAKoH,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAC/DnH,KAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDnH,KAAA,QAAKkH,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC3BjG,cAAc,CAACuF,IAAI,CAAC,4BACvB,EAAK,CAAC,cACNzG,KAAA,QAAKkH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CrH,IAAA,UACEmF,IAAI,CAAC,MAAM,CACXmC,WAAW,CAAC,qBAAqB,CACjCC,KAAK,CAAE9F,YAAa,CACpB+F,QAAQ,CAAGC,CAAC,EAAK/F,eAAe,CAAC+F,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACjDH,SAAS,CAAC,2EAA2E,CACtF,CAAC,cACFlH,KAAA,WACE4H,OAAO,CAAEpB,eAAgB,CACzBU,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eAEtErH,IAAA,CAACV,IAAI,EAAC8H,SAAS,CAAC,cAAc,CAAE,CAAC,kBAEnC,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,CAGAlG,OAAO,eACNhB,KAAA,QAAKkH,SAAS,qCAAAhE,MAAA,CACZlC,OAAO,CAACiE,IAAI,GAAK,SAAS,CAAG,4BAA4B,CAAG,wBAAwB,CACnF,CAAAkC,QAAA,EACAnG,OAAO,CAACiE,IAAI,GAAK,SAAS,cACzBnF,IAAA,CAACL,WAAW,EAACyH,SAAS,CAAC,cAAc,CAAE,CAAC,cAExCpH,IAAA,CAACN,aAAa,EAAC0H,SAAS,CAAC,cAAc,CAAE,CAC1C,CACAlG,OAAO,CAACkE,IAAI,EACV,CACN,cAGDlF,KAAA,QAAKkH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACxC3G,OAAO,cACNR,KAAA,QAAKkH,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5CrH,IAAA,CAACP,SAAS,EAAC2H,SAAS,CAAC,mCAAmC,CAAE,CAAC,4BAE7D,EAAK,CAAC,CACJJ,gBAAgB,CAACtE,MAAM,GAAK,CAAC,cAC/B1C,IAAA,QAAKoH,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC3CzG,UAAU,CAAG,yCAAyC,CAAG,0BAA0B,CACjF,CAAC,cAENZ,IAAA,QAAKoH,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtCL,gBAAgB,CAAC5C,GAAG,CAAEC,OAAO,eAC5BnE,KAAA,QAAuBkH,SAAS,CAAC,KAAK,CAAAC,QAAA,eACpCnH,KAAA,QAAKkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDnH,KAAA,QAAKkH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CrH,IAAA,UACEmF,IAAI,CAAC,UAAU,CACf6C,OAAO,CAAE5G,cAAc,CAACmF,GAAG,CAAClC,OAAO,CAACC,GAAG,CAAE,CACzCkD,QAAQ,CAAEA,CAAA,GAAMpB,eAAe,CAAC/B,OAAO,CAACC,GAAG,CAAE,CAC7C8C,SAAS,CAAC,2DAA2D,CACtE,CAAC,cAEFlH,KAAA,WACE4H,OAAO,CAAEA,CAAA,GAAMlB,oBAAoB,CAACvC,OAAO,CAACC,GAAG,CAAE,CACjD8C,SAAS,CAAC,2DAA2D,CAAAC,QAAA,EAEpE1F,cAAc,CAAC4E,GAAG,CAAClC,OAAO,CAACC,GAAG,CAAC,cAC9BtE,IAAA,CAACJ,WAAW,EAACwH,SAAS,CAAC,SAAS,CAAE,CAAC,cAEnCpH,IAAA,CAACH,YAAY,EAACuH,SAAS,CAAC,SAAS,CAAE,CACpC,cACDpH,IAAA,SAAMoH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEhD,OAAO,CAACG,YAAY,CAAO,CAAC,cACzEtE,KAAA,SAAMkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,GAAC,CAAChD,OAAO,CAACM,aAAa,CAAC,YAAU,EAAM,CAAC,EAC3E,CAAC,EACN,CAAC,cAEN3E,IAAA,QAAKoH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzCvG,SAAS,GAAKuD,OAAO,CAACC,GAAG,cACxBpE,KAAA,CAAAE,SAAA,EAAAiH,QAAA,eACErH,IAAA,UACEmF,IAAI,CAAC,MAAM,CACXoC,KAAK,CAAEvG,WAAY,CACnBwG,QAAQ,CAAGC,CAAC,EAAKxG,cAAc,CAACwG,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDH,SAAS,CAAC,2EAA2E,CACtF,CAAC,cACFpH,IAAA,WACE8H,OAAO,CAAE7B,QAAS,CAClBmB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAE/CrH,IAAA,CAACV,IAAI,EAAC8H,SAAS,CAAC,SAAS,CAAE,CAAC,CACtB,CAAC,cACTpH,IAAA,WACE8H,OAAO,CAAE3B,UAAW,CACpBiB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAE7CrH,IAAA,CAACT,CAAC,EAAC6H,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACT,CAAC,cAEHpH,IAAA,WACE8H,OAAO,CAAEA,CAAA,GAAM/B,SAAS,CAAC1B,OAAO,CAAE,CAClC+C,SAAS,CAAC,mCAAmC,CAC7Ca,KAAK,CAAC,mBAAmB,CAAAZ,QAAA,cAEzBrH,IAAA,CAACX,KAAK,EAAC+H,SAAS,CAAC,SAAS,CAAE,CAAC,CACvB,CACT,CACE,CAAC,EACH,CAAC,CAGLzF,cAAc,CAAC4E,GAAG,CAAClC,OAAO,CAACC,GAAG,CAAC,eAC9BpE,KAAA,QAAKkH,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCrH,IAAA,QAAKoH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,WAAS,CAAK,CAAC,CACjEhD,OAAO,CAACI,QAAQ,EAAIJ,OAAO,CAACI,QAAQ,CAAC/B,MAAM,CAAG,CAAC,cAC9C1C,IAAA,QAAKoH,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBhD,OAAO,CAACI,QAAQ,CAACL,GAAG,CAAC,CAAC8D,OAAY,CAAEC,KAAa,GAAK,KAAAC,qBAAA,CAAAC,sBAAA,CACrD,KAAM,CAAAtB,SAAS,IAAA3D,MAAA,CAAMiB,OAAO,CAACC,GAAG,cAAAlB,MAAA,CAAY+E,KAAK,CAAE,CACnD,KAAM,CAAAG,UAAU,CAAGzG,gBAAgB,CAAC0E,GAAG,CAACQ,SAAS,CAAC,CAElD;AACA,KAAM,CAAAwB,aAAa,CAAG,EAAAH,qBAAA,CAAAF,OAAO,CAACM,iBAAiB,UAAAJ,qBAAA,iBAAzBA,qBAAA,CAA2BK,OAAO,GAAIP,OAAO,CAACQ,MAAM,KAAAtF,MAAA,CAAO+E,KAAK,CAAG,CAAC,CAAE,CAC5F,KAAM,CAAAQ,iBAAiB,CAAG,EAAAN,sBAAA,CAAAH,OAAO,CAACM,iBAAiB,UAAAH,sBAAA,iBAAzBA,sBAAA,CAA2BO,UAAU,GAAIV,OAAO,CAACW,UAAU,EAAI,UAAU,CACnG,KAAM,CAAAC,cAAc,CAAGZ,OAAO,CAACa,OAAO,EAAIb,OAAO,CAACc,OAAO,EAAI,sBAAsB,CAEnF,mBACE9I,KAAA,QAAiBkH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAC5DnH,KAAA,QAAKkH,SAAS,CAAC,kDAAkD,CAAAC,QAAA,eAC/DnH,KAAA,WACE4H,OAAO,CAAEA,CAAA,GAAMhB,sBAAsB,CAACC,SAAS,CAAE,CACjDK,SAAS,CAAC,kEAAkE,CAAAC,QAAA,EAE3EiB,UAAU,cACTtI,IAAA,CAACJ,WAAW,EAACwH,SAAS,CAAC,SAAS,CAAE,CAAC,cAEnCpH,IAAA,CAACH,YAAY,EAACuH,SAAS,CAAC,SAAS,CAAE,CACpC,cACDpH,IAAA,CAACF,WAAW,EAACsH,SAAS,CAAC,SAAS,CAAE,CAAC,cACnClH,KAAA,SAAMkH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EACxCkB,aAAa,CAAC,KAAG,CAACI,iBAAiB,EAChC,CAAC,EACD,CAAC,cACTzI,KAAA,QAAKkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCyB,cAAc,CAACpG,MAAM,CAAC,QACzB,EAAK,CAAC,EACH,CAAC,CAEL4F,UAAU,eACTtI,IAAA,QAAKoH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDnH,KAAA,QAAKkH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBrH,IAAA,QAAKoH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCnH,KAAA,QAAKkH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDnH,KAAA,QAAAmH,QAAA,eACErH,IAAA,OAAIoH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC7ErH,IAAA,MAAGoH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC3CkB,aAAa,CACb,CAAC,EACD,CAAC,cACNrI,KAAA,QAAAmH,QAAA,eACErH,IAAA,OAAIoH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC5ErH,IAAA,MAAGoH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACjCsB,iBAAiB,CACjB,CAAC,EACD,CAAC,EACH,CAAC,CACH,CAAC,cAGNzI,KAAA,QAAAmH,QAAA,eACErH,IAAA,OAAIoH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAChFrH,IAAA,QAAKoH,SAAS,CAAC,iFAAiF,CAAAC,QAAA,cAC9FrH,IAAA,QAAKoH,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC3DyB,cAAc,CACZ,CAAC,CACH,CAAC,EACH,CAAC,CAGLZ,OAAO,CAACM,iBAAiB,EAAIS,MAAM,CAACC,IAAI,CAAChB,OAAO,CAACM,iBAAiB,CAAC,CAAC9F,MAAM,CAAG,CAAC,eAC7ExC,KAAA,QAAAmH,QAAA,eACErH,IAAA,OAAIoH,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,yBAAuB,CAAI,CAAC,cACrFrH,IAAA,QAAKoH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnD4B,MAAM,CAACE,OAAO,CAACjB,OAAO,CAACM,iBAAiB,CAAC,CAACpE,GAAG,CAACgF,KAAA,EAAkB,IAAjB,CAACC,GAAG,CAAE9B,KAAK,CAAC,CAAA6B,KAAA,CAC1D;AACA,GAAI,CAAC,SAAS,CAAE,YAAY,CAAC,CAACjC,QAAQ,CAACkC,GAAG,CAAC,CAAE,CAC3C,MAAO,KAAI,CACb,CAEA;AACA,GAAI,CAAC9B,KAAK,EAAK,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACrB,IAAI,CAAC,CAAC,GAAK,EAAG,CAAE,CAChE,MAAO,KAAI,CACb,CAEA,mBACEhG,KAAA,QAAekH,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACjDnH,KAAA,OAAIkH,SAAS,CAAC,uDAAuD,CAAAC,QAAA,EAClEgC,GAAG,CAACC,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAAC,GAC1B,EAAI,CAAC,cACLtJ,IAAA,MAAGoH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACnC,MAAO,CAAAE,KAAK,GAAK,QAAQ,CAAG7D,IAAI,CAACC,SAAS,CAAC4D,KAAK,CAAE,IAAI,CAAE,CAAC,CAAC,CAAGgC,MAAM,CAAChC,KAAK,CAAC,CAC1E,CAAC,GANI8B,GAOL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,CACH,CACN,GApFOlB,KAqFL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cAENnI,IAAA,QAAKoH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,mBAAiB,CAAK,CAC9D,EACE,CACN,GAvKOhD,OAAO,CAACC,GAwKb,CACN,CAAC,CACC,CACN,CAGAjC,UAAU,CAAG,CAAC,eACbnC,KAAA,QAAKkH,SAAS,CAAC,6FAA6F,CAAAC,QAAA,eAC1GnH,KAAA,QAAKkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,UAC7B,CAAE,CAACtF,WAAW,CAAG,CAAC,EAAIE,YAAY,CAAI,CAAC,CAAC,MAAI,CAAC+C,IAAI,CAAC4C,GAAG,CAAC7F,WAAW,CAAGE,YAAY,CAAEE,UAAU,CAAC,CAAC,MAAI,CAACA,UAAU,CAAC0F,cAAc,CAAC,CAAC,CAAC,UACzI,EAAK,CAAC,cAEN3H,KAAA,QAAKkH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtCrH,IAAA,WACE8H,OAAO,CAAEA,CAAA,GAAMxC,gBAAgB,CAACvD,WAAW,CAAG,CAAC,CAAE,CACjDgG,QAAQ,CAAEhG,WAAW,GAAK,CAAE,CAC5BqF,SAAS,CAAC,uHAAuH,CAAAC,QAAA,CAClI,UAED,CAAQ,CAAC,cAGTrH,IAAA,QAAKoH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACrCmC,KAAK,CAACC,IAAI,CAAC,CAAE/G,MAAM,CAAEsC,IAAI,CAAC4C,GAAG,CAACvF,UAAU,CAAE,CAAC,CAAE,CAAC,CAAE,CAACqH,CAAC,CAAEC,CAAC,GAAK,CACzD,GAAI,CAAAnH,IAAY,CAChB,GAAIH,UAAU,EAAI,CAAC,CAAE,CACnBG,IAAI,CAAGmH,CAAC,CAAG,CAAC,CACd,CAAC,IAAM,IAAI5H,WAAW,EAAI,CAAC,CAAE,CAC3BS,IAAI,CAAGmH,CAAC,CAAG,CAAC,CACd,CAAC,IAAM,IAAI5H,WAAW,EAAIM,UAAU,CAAG,CAAC,CAAE,CACxCG,IAAI,CAAGH,UAAU,CAAG,CAAC,CAAGsH,CAAC,CAC3B,CAAC,IAAM,CACLnH,IAAI,CAAGT,WAAW,CAAG,CAAC,CAAG4H,CAAC,CAC5B,CAEA,mBACE3J,IAAA,WAEE8H,OAAO,CAAEA,CAAA,GAAMxC,gBAAgB,CAAC9C,IAAI,CAAE,CACtC4E,SAAS,wCAAAhE,MAAA,CACPrB,WAAW,GAAKS,IAAI,CAChB,wCAAwC,CACxC,mCAAmC,CACtC,CAAA6E,QAAA,CAEF7E,IAAI,EARAA,IASC,CAAC,CAEb,CAAC,CAAC,CACC,CAAC,cAGNxC,IAAA,WACE8H,OAAO,CAAEA,CAAA,GAAMxC,gBAAgB,CAACvD,WAAW,CAAG,CAAC,CAAE,CACjDgG,QAAQ,CAAEhG,WAAW,GAAKM,UAAW,CACrC+E,SAAS,CAAC,uHAAuH,CAAAC,QAAA,CAClI,MAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,cAGNrH,IAAA,QAAKoH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCnH,KAAA,QAAKkH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCzG,UAAU,cACTV,KAAA,CAAAE,SAAA,EAAAiH,QAAA,EAAE,QAAM,CAAClF,UAAU,CAAC0F,cAAc,CAAC,CAAC,CAAC,+BAA4B,CAACjH,UAAU,CAAC,IAAC,EAAE,CAAC,cAEjFV,KAAA,CAAAE,SAAA,EAAAiH,QAAA,EAAE,SAAO,CAAClF,UAAU,CAAC0F,cAAc,CAAC,CAAC,CAAC,mBAAiB,EAAE,CAC1D,CACAxF,UAAU,CAAG,CAAC,eACbnC,KAAA,CAAAE,SAAA,EAAAiH,QAAA,EAAE,eAAQ,CAACtF,WAAW,CAAC,MAAI,CAACM,UAAU,EAAG,CAC1C,EACE,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}