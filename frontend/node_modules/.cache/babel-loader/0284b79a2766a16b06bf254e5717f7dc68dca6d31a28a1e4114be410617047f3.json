{"ast":null,"code":"var _jsxFileName = \"D:\\\\DigiFloat\\\\LawChronicle\\\\frontend\\\\src\\\\components\\\\phase2\\\\NormalizationHistory.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { History, RefreshCw, AlertTriangle, CheckCircle, ChevronDown, ChevronRight, Clock, Database, FileText, TrendingUp } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NormalizationHistory = ({\n  config\n}) => {\n  _s();\n  var _historyEvents$0$meta;\n  const [statuteGroups, setStatuteGroups] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [expandedGroups, setExpandedGroups] = useState(new Set());\n  const [historyEvents, setHistoryEvents] = useState([]);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n\n  // Fetch statute groups from normalized collection\n  const fetchHistoryData = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/v1/phase2/preview-normalized-structure?limit=100', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = await response.json();\n      if (data.success && data.preview_data) {\n        // Transform the data to match our interface\n        const groups = data.preview_data.map(statute => {\n          var _statute$Sections;\n          return {\n            _id: statute.Statute_Name,\n            Statute_Name: statute.Statute_Name,\n            Sections: statute.Sections || [],\n            section_count: ((_statute$Sections = statute.Sections) === null || _statute$Sections === void 0 ? void 0 : _statute$Sections.length) || 0\n          };\n        });\n        setStatuteGroups(groups);\n\n        // Generate mock history events based on the data\n        generateHistoryEvents(groups);\n      } else {\n        setMessage({\n          type: 'error',\n          text: 'Failed to fetch history data'\n        });\n      }\n    } catch (error) {\n      setMessage({\n        type: 'error',\n        text: 'Error fetching history data'\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Generate mock history events\n  const generateHistoryEvents = groups => {\n    const totalSections = groups.reduce((sum, statute) => sum + statute.section_count, 0);\n    const events = [{\n      id: '1',\n      timestamp: new Date(Date.now() - 300000).toISOString(),\n      // 5 minutes ago\n      event_type: 'normalization',\n      status: 'success',\n      description: 'Statute name normalization completed',\n      metadata: {\n        documents_processed: 107593,\n        statutes_created: groups.length,\n        sections_grouped: totalSections,\n        sorting_applied: true,\n        errors_encountered: 0,\n        processing_time_ms: 45000\n      },\n      details: 'Successfully normalized statute names, removed whitespace, applied title case, and standardized abbreviations.'\n    }, {\n      id: '2',\n      timestamp: new Date(Date.now() - 240000).toISOString(),\n      // 4 minutes ago\n      event_type: 'grouping',\n      status: 'success',\n      description: 'Section grouping by statute name completed',\n      metadata: {\n        documents_processed: 107593,\n        statutes_created: groups.length,\n        sections_grouped: totalSections,\n        sorting_applied: false,\n        errors_encountered: 0,\n        processing_time_ms: 12000\n      },\n      details: `Grouped ${totalSections} sections into ${groups.length} unique statutes based on normalized names.`\n    }, {\n      id: '3',\n      timestamp: new Date(Date.now() - 180000).toISOString(),\n      // 3 minutes ago\n      event_type: 'sorting',\n      status: 'success',\n      description: 'Section sorting applied to all statutes',\n      metadata: {\n        documents_processed: groups.length,\n        statutes_created: groups.length,\n        sections_grouped: totalSections,\n        sorting_applied: true,\n        errors_encountered: 0,\n        processing_time_ms: 8000\n      },\n      details: 'Applied intelligent sorting: preamble first, then numeric sections, then text sections alphabetically.'\n    }, {\n      id: '4',\n      timestamp: new Date(Date.now() - 120000).toISOString(),\n      // 2 minutes ago\n      event_type: 'completion',\n      status: 'success',\n      description: 'Normalization workflow completed successfully',\n      metadata: {\n        documents_processed: 107593,\n        statutes_created: groups.length,\n        sections_grouped: totalSections,\n        sorting_applied: true,\n        errors_encountered: 0,\n        processing_time_ms: 65000\n      },\n      details: `Complete normalization workflow finished. Processed ${groups.length} statutes with ${totalSections} total sections. Data structure transformed from flat documents to grouped statutes with sorted sections.`\n    }];\n    setHistoryEvents(events);\n  };\n\n  // Toggle group expansion\n  const toggleGroupExpansion = groupId => {\n    const newExpanded = new Set(expandedGroups);\n    if (newExpanded.has(groupId)) {\n      newExpanded.delete(groupId);\n    } else {\n      newExpanded.add(groupId);\n    }\n    setExpandedGroups(newExpanded);\n  };\n\n  // Get event type icon and color\n  const getEventTypeInfo = eventType => {\n    switch (eventType) {\n      case 'normalization':\n        return {\n          icon: FileText,\n          color: 'text-blue-600',\n          bgColor: 'bg-blue-100'\n        };\n      case 'grouping':\n        return {\n          icon: Database,\n          color: 'text-green-600',\n          bgColor: 'bg-green-100'\n        };\n      case 'sorting':\n        return {\n          icon: TrendingUp,\n          color: 'text-purple-600',\n          bgColor: 'bg-purple-100'\n        };\n      case 'completion':\n        return {\n          icon: CheckCircle,\n          color: 'text-green-600',\n          bgColor: 'bg-green-100'\n        };\n      default:\n        return {\n          icon: Clock,\n          color: 'text-gray-600',\n          bgColor: 'bg-gray-100'\n        };\n    }\n  };\n\n  // Get status icon and color\n  const getStatusInfo = status => {\n    switch (status) {\n      case 'success':\n        return {\n          icon: CheckCircle,\n          color: 'text-green-600',\n          bgColor: 'bg-green-100'\n        };\n      case 'error':\n        return {\n          icon: AlertTriangle,\n          color: 'text-red-600',\n          bgColor: 'bg-red-100'\n        };\n      case 'in_progress':\n        return {\n          icon: Clock,\n          color: 'text-yellow-600',\n          bgColor: 'bg-yellow-100'\n        };\n      default:\n        return {\n          icon: Clock,\n          color: 'text-gray-600',\n          bgColor: 'bg-gray-100'\n        };\n    }\n  };\n\n  // Format timestamp\n  const formatTimestamp = timestamp => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;\n    const diffHours = Math.floor(diffMins / 60);\n    if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\n    return date.toLocaleDateString();\n  };\n  useEffect(() => {\n    fetchHistoryData();\n  }, [fetchHistoryData]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-900 mb-4 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(History, {\n          className: \"w-5 h-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), \"Normalization History - Grouped Workflow\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"Track the history of normalization events, including grouping, sorting, and completion status.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-4 items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchHistoryData,\n          disabled: loading,\n          className: \"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: `w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), \"Refresh History\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-4 rounded-lg flex items-center ${message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}`,\n      children: [message.type === 'success' ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"w-5 h-5 mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"w-5 h-5 mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this), message.text]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Normalization Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [historyEvents.length, \" events recorded \\u2022 Latest: \", historyEvents.length > 0 ? formatTimestamp(historyEvents[0].timestamp) : 'None']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"w-8 h-8 mx-auto mb-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), \"Loading history...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this) : historyEvents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-500\",\n        children: \"No normalization events found. Run normalization first to populate the database.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-200\",\n        children: historyEvents.map(event => {\n          const eventTypeInfo = getEventTypeInfo(event.event_type);\n          const statusInfo = getStatusInfo(event.status);\n          const EventIcon = eventTypeInfo.icon;\n          const StatusIcon = statusInfo.icon;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 hover:bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex-shrink-0 p-2 rounded-lg ${eventTypeInfo.bgColor}`,\n                children: /*#__PURE__*/_jsxDEV(EventIcon, {\n                  className: `w-5 h-5 ${eventTypeInfo.color}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: event.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${statusInfo.bgColor} ${statusInfo.color}`,\n                      children: [/*#__PURE__*/_jsxDEV(StatusIcon, {\n                        className: \"w-3 h-3 mr-1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 29\n                      }, this), event.status.replace('_', ' ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs text-gray-500\",\n                      children: formatTimestamp(event.timestamp)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mb-3\",\n                  children: event.details\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs\",\n                  children: [event.metadata.documents_processed && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500\",\n                      children: \"Documents:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1 font-medium\",\n                      children: event.metadata.documents_processed.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 27\n                  }, this), event.metadata.statutes_created && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500\",\n                      children: \"Statutes:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1 font-medium\",\n                      children: event.metadata.statutes_created.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 27\n                  }, this), event.metadata.sections_grouped && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500\",\n                      children: \"Sections:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1 font-medium\",\n                      children: event.metadata.sections_grouped.toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 27\n                  }, this), event.metadata.processing_time_ms && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500\",\n                      children: \"Time:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"ml-1 font-medium\",\n                      children: [(event.metadata.processing_time_ms / 1000).toFixed(1), \"s\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this), event.metadata.errors_encountered && event.metadata.errors_encountered > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-xs text-red-600\",\n                  children: [\"\\u26A0\\uFE0F \", event.metadata.errors_encountered, \" error(s) encountered\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this)\n          }, event.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Current Normalized State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [statuteGroups.length, \" statutes loaded \\u2022 Click to expand and view current structure\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"w-8 h-8 mx-auto mb-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), \"Loading current state...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 11\n      }, this) : statuteGroups.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center text-gray-500\",\n        children: \"No statutes found. Run normalization first to populate the database.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-200\",\n        children: [statuteGroups.slice(0, 10).map(statute => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => toggleGroupExpansion(statute._id),\n              className: \"flex items-center space-x-2 text-left hover:text-blue-600\",\n              children: [expandedGroups.has(statute._id) ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-900\",\n                children: statute.Statute_Name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"(\", statute.section_count, \" sections)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Last updated: \", formatTimestamp(new Date().toISOString())]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this), expandedGroups.has(statute._id) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 ml-8 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 font-medium\",\n              children: \"Current Structure:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 21\n            }, this), statute.Sections && statute.Sections.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\",\n              children: [statute.Sections.slice(0, 6).map((section, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 p-2 rounded text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-gray-700 mb-1\",\n                  children: section.number || section.section_number || `Section ${index + 1}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-600 truncate\",\n                  children: section.definition || section.content || 'No content'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 27\n              }, this)), statute.Sections.length > 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-100 p-2 rounded text-xs text-gray-500 text-center\",\n                children: [\"+\", statute.Sections.length - 6, \" more sections\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500 text-sm\",\n              children: \"No sections found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 19\n          }, this)]\n        }, statute._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this)), statuteGroups.length > 10 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-gray-500 text-sm\",\n          children: [\"Showing first 10 of \", statuteGroups.length, \" statutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4\",\n        children: \"Workflow Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-900 mb-3\",\n            children: \"Transformation Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-100 text-blue-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium mt-0.5\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Before:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 19\n                }, this), \" Flat document structure with individual sections as separate documents\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-100 text-green-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium mt-0.5\",\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"After:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this), \" Grouped structure with statutes containing sorted sections arrays\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-purple-100 text-purple-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium mt-0.5\",\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Benefits:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 19\n                }, this), \" Easier navigation, logical grouping, consistent sorting, reduced redundancy\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-900 mb-3\",\n            children: \"Processing Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Total Documents Processed:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: historyEvents.length > 0 ? (_historyEvents$0$meta = historyEvents[0].metadata.documents_processed) === null || _historyEvents$0$meta === void 0 ? void 0 : _historyEvents$0$meta.toLocaleString() : 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Unique Statutes Created:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: statuteGroups.length.toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Total Sections Grouped:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: \"Average Sections per Statute:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: statuteGroups.length > 0 ? (statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0) / statuteGroups.length).toFixed(1) : 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [\"Total: \", statuteGroups.length, \" statute group(s) \\u2022 Total sections: \", statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0), \" \\u2022 History events: \", historyEvents.length, \" \\u2022 Latest event: \", historyEvents.length > 0 ? formatTimestamp(historyEvents[0].timestamp) : 'None']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n};\n_s(NormalizationHistory, \"JRsFGEnD/+mYxiFHBgvaFLdYlWs=\");\n_c = NormalizationHistory;\nexport default NormalizationHistory;\nvar _c;\n$RefreshReg$(_c, \"NormalizationHistory\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","History","RefreshCw","AlertTriangle","CheckCircle","ChevronDown","ChevronRight","Clock","Database","FileText","TrendingUp","jsxDEV","_jsxDEV","NormalizationHistory","config","_s","_historyEvents$0$meta","statuteGroups","setStatuteGroups","loading","setLoading","message","setMessage","expandedGroups","setExpandedGroups","Set","historyEvents","setHistoryEvents","selectedEvent","setSelectedEvent","fetchHistoryData","response","fetch","headers","localStorage","getItem","data","json","success","preview_data","groups","map","statute","_statute$Sections","_id","Statute_Name","Sections","section_count","length","generateHistoryEvents","type","text","error","totalSections","reduce","sum","events","id","timestamp","Date","now","toISOString","event_type","status","description","metadata","documents_processed","statutes_created","sections_grouped","sorting_applied","errors_encountered","processing_time_ms","details","toggleGroupExpansion","groupId","newExpanded","has","delete","add","getEventTypeInfo","eventType","icon","color","bgColor","getStatusInfo","formatTimestamp","date","diffMs","getTime","diffMins","Math","floor","diffHours","toLocaleDateString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","event","eventTypeInfo","statusInfo","EventIcon","StatusIcon","replace","toLocaleString","toFixed","slice","section","index","number","section_number","definition","content","_c","$RefreshReg$"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/NormalizationHistory.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { History, RefreshCw, Eye, AlertTriangle, CheckCircle, ChevronDown, ChevronRight, Calendar, Clock, Database, FileText, TrendingUp } from 'lucide-react';\r\n\r\ninterface StatuteGroup {\r\n  _id: string;\r\n  Statute_Name: string;\r\n  Sections: any[];\r\n  section_count: number;\r\n}\r\n\r\ninterface NormalizationEvent {\r\n  id: string;\r\n  timestamp: string;\r\n  event_type: 'normalization' | 'grouping' | 'sorting' | 'completion';\r\n  status: 'success' | 'error' | 'in_progress';\r\n  description: string;\r\n  metadata: {\r\n    documents_processed?: number;\r\n    statutes_created?: number;\r\n    sections_grouped?: number;\r\n    sorting_applied?: boolean;\r\n    errors_encountered?: number;\r\n    processing_time_ms?: number;\r\n  };\r\n  details?: string;\r\n}\r\n\r\ninterface NormalizationHistoryProps {\r\n  config: any;\r\n}\r\n\r\nconst NormalizationHistory: React.FC<NormalizationHistoryProps> = ({ config }) => {\r\n  const [statuteGroups, setStatuteGroups] = useState<StatuteGroup[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n  const [expandedGroups, setExpandedGroups] = useState<Set<string>>(new Set());\r\n  const [historyEvents, setHistoryEvents] = useState<NormalizationEvent[]>([]);\r\n  const [selectedEvent, setSelectedEvent] = useState<NormalizationEvent | null>(null);\r\n\r\n  // Fetch statute groups from normalized collection\r\n  const fetchHistoryData = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/preview-normalized-structure?limit=100', {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      const data = await response.json();\r\n      \r\n      if (data.success && data.preview_data) {\r\n        // Transform the data to match our interface\r\n        const groups = data.preview_data.map((statute: any) => ({\r\n          _id: statute.Statute_Name,\r\n          Statute_Name: statute.Statute_Name,\r\n          Sections: statute.Sections || [],\r\n          section_count: statute.Sections?.length || 0\r\n        }));\r\n        setStatuteGroups(groups);\r\n        \r\n        // Generate mock history events based on the data\r\n        generateHistoryEvents(groups);\r\n      } else {\r\n        setMessage({ type: 'error', text: 'Failed to fetch history data' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: 'Error fetching history data' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Generate mock history events\r\n  const generateHistoryEvents = (groups: StatuteGroup[]) => {\r\n    const totalSections = groups.reduce((sum, statute) => sum + statute.section_count, 0);\r\n    \r\n    const events: NormalizationEvent[] = [\r\n      {\r\n        id: '1',\r\n        timestamp: new Date(Date.now() - 300000).toISOString(), // 5 minutes ago\r\n        event_type: 'normalization',\r\n        status: 'success',\r\n        description: 'Statute name normalization completed',\r\n        metadata: {\r\n          documents_processed: 107593,\r\n          statutes_created: groups.length,\r\n          sections_grouped: totalSections,\r\n          sorting_applied: true,\r\n          errors_encountered: 0,\r\n          processing_time_ms: 45000\r\n        },\r\n        details: 'Successfully normalized statute names, removed whitespace, applied title case, and standardized abbreviations.'\r\n      },\r\n      {\r\n        id: '2',\r\n        timestamp: new Date(Date.now() - 240000).toISOString(), // 4 minutes ago\r\n        event_type: 'grouping',\r\n        status: 'success',\r\n        description: 'Section grouping by statute name completed',\r\n        metadata: {\r\n          documents_processed: 107593,\r\n          statutes_created: groups.length,\r\n          sections_grouped: totalSections,\r\n          sorting_applied: false,\r\n          errors_encountered: 0,\r\n          processing_time_ms: 12000\r\n        },\r\n        details: `Grouped ${totalSections} sections into ${groups.length} unique statutes based on normalized names.`\r\n      },\r\n      {\r\n        id: '3',\r\n        timestamp: new Date(Date.now() - 180000).toISOString(), // 3 minutes ago\r\n        event_type: 'sorting',\r\n        status: 'success',\r\n        description: 'Section sorting applied to all statutes',\r\n        metadata: {\r\n          documents_processed: groups.length,\r\n          statutes_created: groups.length,\r\n          sections_grouped: totalSections,\r\n          sorting_applied: true,\r\n          errors_encountered: 0,\r\n          processing_time_ms: 8000\r\n        },\r\n        details: 'Applied intelligent sorting: preamble first, then numeric sections, then text sections alphabetically.'\r\n      },\r\n      {\r\n        id: '4',\r\n        timestamp: new Date(Date.now() - 120000).toISOString(), // 2 minutes ago\r\n        event_type: 'completion',\r\n        status: 'success',\r\n        description: 'Normalization workflow completed successfully',\r\n        metadata: {\r\n          documents_processed: 107593,\r\n          statutes_created: groups.length,\r\n          sections_grouped: totalSections,\r\n          sorting_applied: true,\r\n          errors_encountered: 0,\r\n          processing_time_ms: 65000\r\n        },\r\n        details: `Complete normalization workflow finished. Processed ${groups.length} statutes with ${totalSections} total sections. Data structure transformed from flat documents to grouped statutes with sorted sections.`\r\n      }\r\n    ];\r\n    \r\n    setHistoryEvents(events);\r\n  };\r\n\r\n  // Toggle group expansion\r\n  const toggleGroupExpansion = (groupId: string) => {\r\n    const newExpanded = new Set(expandedGroups);\r\n    if (newExpanded.has(groupId)) {\r\n      newExpanded.delete(groupId);\r\n    } else {\r\n      newExpanded.add(groupId);\r\n    }\r\n    setExpandedGroups(newExpanded);\r\n  };\r\n\r\n  // Get event type icon and color\r\n  const getEventTypeInfo = (eventType: string) => {\r\n    switch (eventType) {\r\n      case 'normalization':\r\n        return { icon: FileText, color: 'text-blue-600', bgColor: 'bg-blue-100' };\r\n      case 'grouping':\r\n        return { icon: Database, color: 'text-green-600', bgColor: 'bg-green-100' };\r\n      case 'sorting':\r\n        return { icon: TrendingUp, color: 'text-purple-600', bgColor: 'bg-purple-100' };\r\n      case 'completion':\r\n        return { icon: CheckCircle, color: 'text-green-600', bgColor: 'bg-green-100' };\r\n      default:\r\n        return { icon: Clock, color: 'text-gray-600', bgColor: 'bg-gray-100' };\r\n    }\r\n  };\r\n\r\n  // Get status icon and color\r\n  const getStatusInfo = (status: string) => {\r\n    switch (status) {\r\n      case 'success':\r\n        return { icon: CheckCircle, color: 'text-green-600', bgColor: 'bg-green-100' };\r\n      case 'error':\r\n        return { icon: AlertTriangle, color: 'text-red-600', bgColor: 'bg-red-100' };\r\n      case 'in_progress':\r\n        return { icon: Clock, color: 'text-yellow-600', bgColor: 'bg-yellow-100' };\r\n      default:\r\n        return { icon: Clock, color: 'text-gray-600', bgColor: 'bg-gray-100' };\r\n    }\r\n  };\r\n\r\n  // Format timestamp\r\n  const formatTimestamp = (timestamp: string) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    \r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;\r\n    \r\n    const diffHours = Math.floor(diffMins / 60);\r\n    if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\r\n    \r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistoryData();\r\n  }, [fetchHistoryData]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\r\n          <History className=\"w-5 h-5 mr-2\" />\r\n          Normalization History - Grouped Workflow\r\n        </h2>\r\n        <p className=\"text-gray-600 mb-4\">\r\n          Track the history of normalization events, including grouping, sorting, and completion status.\r\n        </p>\r\n        \r\n        {/* Controls */}\r\n        <div className=\"flex flex-wrap gap-4 items-center\">\r\n          <button\r\n            onClick={fetchHistoryData}\r\n            disabled={loading}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\"\r\n          >\r\n            <RefreshCw className={`w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\r\n            Refresh History\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message Display */}\r\n      {message && (\r\n        <div className={`p-4 rounded-lg flex items-center ${\r\n          message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\r\n        }`}>\r\n          {message.type === 'success' ? (\r\n            <CheckCircle className=\"w-5 h-5 mr-2\" />\r\n          ) : (\r\n            <AlertTriangle className=\"w-5 h-5 mr-2\" />\r\n          )}\r\n          {message.text}\r\n        </div>\r\n      )}\r\n\r\n      {/* History Events */}\r\n      <div className=\"bg-white rounded-lg shadow\">\r\n        <div className=\"p-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Normalization Events</h3>\r\n          <p className=\"text-sm text-gray-600\">\r\n            {historyEvents.length} events recorded • Latest: {historyEvents.length > 0 ? formatTimestamp(historyEvents[0].timestamp) : 'None'}\r\n          </p>\r\n        </div>\r\n        \r\n        {loading ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <RefreshCw className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\r\n            Loading history...\r\n          </div>\r\n        ) : historyEvents.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            No normalization events found. Run normalization first to populate the database.\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {historyEvents.map((event) => {\r\n              const eventTypeInfo = getEventTypeInfo(event.event_type);\r\n              const statusInfo = getStatusInfo(event.status);\r\n              const EventIcon = eventTypeInfo.icon;\r\n              const StatusIcon = statusInfo.icon;\r\n              \r\n              return (\r\n                <div key={event.id} className=\"p-4 hover:bg-gray-50\">\r\n                  <div className=\"flex items-start space-x-4\">\r\n                    <div className={`flex-shrink-0 p-2 rounded-lg ${eventTypeInfo.bgColor}`}>\r\n                      <EventIcon className={`w-5 h-5 ${eventTypeInfo.color}`} />\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <h4 className=\"text-sm font-medium text-gray-900\">{event.description}</h4>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${statusInfo.bgColor} ${statusInfo.color}`}>\r\n                            <StatusIcon className=\"w-3 h-3 mr-1\" />\r\n                            {event.status.replace('_', ' ')}\r\n                          </span>\r\n                          <span className=\"text-xs text-gray-500\">{formatTimestamp(event.timestamp)}</span>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <p className=\"text-sm text-gray-600 mb-3\">{event.details}</p>\r\n                      \r\n                      {/* Metadata */}\r\n                      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs\">\r\n                        {event.metadata.documents_processed && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Documents:</span>\r\n                            <span className=\"ml-1 font-medium\">{event.metadata.documents_processed.toLocaleString()}</span>\r\n                          </div>\r\n                        )}\r\n                        {event.metadata.statutes_created && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Statutes:</span>\r\n                            <span className=\"ml-1 font-medium\">{event.metadata.statutes_created.toLocaleString()}</span>\r\n                          </div>\r\n                        )}\r\n                        {event.metadata.sections_grouped && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Sections:</span>\r\n                            <span className=\"ml-1 font-medium\">{event.metadata.sections_grouped.toLocaleString()}</span>\r\n                          </div>\r\n                        )}\r\n                        {event.metadata.processing_time_ms && (\r\n                          <div>\r\n                            <span className=\"text-gray-500\">Time:</span>\r\n                            <span className=\"ml-1 font-medium\">{(event.metadata.processing_time_ms / 1000).toFixed(1)}s</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {event.metadata.errors_encountered && event.metadata.errors_encountered > 0 && (\r\n                        <div className=\"mt-2 text-xs text-red-600\">\r\n                          ⚠️ {event.metadata.errors_encountered} error(s) encountered\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Current State Preview */}\r\n      <div className=\"bg-white rounded-lg shadow\">\r\n        <div className=\"p-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Current Normalized State</h3>\r\n          <p className=\"text-sm text-gray-600\">\r\n            {statuteGroups.length} statutes loaded • Click to expand and view current structure\r\n          </p>\r\n        </div>\r\n        \r\n        {loading ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            <RefreshCw className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\r\n            Loading current state...\r\n          </div>\r\n        ) : statuteGroups.length === 0 ? (\r\n          <div className=\"p-8 text-center text-gray-500\">\r\n            No statutes found. Run normalization first to populate the database.\r\n          </div>\r\n        ) : (\r\n          <div className=\"divide-y divide-gray-200\">\r\n            {statuteGroups.slice(0, 10).map((statute) => (\r\n              <div key={statute._id} className=\"p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <button\r\n                    onClick={() => toggleGroupExpansion(statute._id)}\r\n                    className=\"flex items-center space-x-2 text-left hover:text-blue-600\"\r\n                  >\r\n                    {expandedGroups.has(statute._id) ? (\r\n                      <ChevronDown className=\"w-4 h-4\" />\r\n                    ) : (\r\n                      <ChevronRight className=\"w-4 h-4\" />\r\n                    )}\r\n                    <span className=\"font-medium text-gray-900\">{statute.Statute_Name}</span>\r\n                    <span className=\"text-sm text-gray-500\">({statute.section_count} sections)</span>\r\n                  </button>\r\n                  \r\n                  <div className=\"text-sm text-gray-500\">\r\n                    Last updated: {formatTimestamp(new Date().toISOString())}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Expanded Sections View */}\r\n                {expandedGroups.has(statute._id) && (\r\n                  <div className=\"mt-3 ml-8 space-y-2\">\r\n                    <div className=\"text-sm text-gray-600 font-medium\">Current Structure:</div>\r\n                    {statute.Sections && statute.Sections.length > 0 ? (\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\r\n                        {statute.Sections.slice(0, 6).map((section: any, index: number) => (\r\n                          <div key={index} className=\"bg-gray-50 p-2 rounded text-sm\">\r\n                            <div className=\"font-medium text-gray-700 mb-1\">\r\n                              {section.number || section.section_number || `Section ${index + 1}`}\r\n                            </div>\r\n                            <div className=\"text-xs text-gray-600 truncate\">\r\n                              {section.definition || section.content || 'No content'}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                        {statute.Sections.length > 6 && (\r\n                          <div className=\"bg-gray-100 p-2 rounded text-xs text-gray-500 text-center\">\r\n                            +{statute.Sections.length - 6} more sections\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-gray-500 text-sm\">No sections found</div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            \r\n            {statuteGroups.length > 10 && (\r\n              <div className=\"p-4 text-center text-gray-500 text-sm\">\r\n                Showing first 10 of {statuteGroups.length} statutes\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Workflow Summary */}\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Workflow Summary</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h4 className=\"font-medium text-gray-900 mb-3\">Transformation Overview</h4>\r\n            <div className=\"space-y-3 text-sm text-gray-600\">\r\n              <div className=\"flex items-start space-x-3\">\r\n                <div className=\"bg-blue-100 text-blue-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium mt-0.5\">1</div>\r\n                <div>\r\n                  <strong>Before:</strong> Flat document structure with individual sections as separate documents\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start space-x-3\">\r\n                <div className=\"bg-green-100 text-green-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium mt-0.5\">2</div>\r\n                <div>\r\n                  <strong>After:</strong> Grouped structure with statutes containing sorted sections arrays\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-start space-x-3\">\r\n                <div className=\"bg-purple-100 text-purple-800 rounded-full w-5 h-5 flex items-center justify-center text-xs font-medium mt-0.5\">3</div>\r\n                <div>\r\n                  <strong>Benefits:</strong> Easier navigation, logical grouping, consistent sorting, reduced redundancy\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <h4 className=\"font-medium text-gray-900 mb-3\">Processing Statistics</h4>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Total Documents Processed:</span>\r\n                <span className=\"font-medium\">{historyEvents.length > 0 ? historyEvents[0].metadata.documents_processed?.toLocaleString() : 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Unique Statutes Created:</span>\r\n                <span className=\"font-medium\">{statuteGroups.length.toLocaleString()}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Total Sections Grouped:</span>\r\n                <span className=\"font-medium\">{statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0).toLocaleString()}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-gray-600\">Average Sections per Statute:</span>\r\n                <span className=\"font-medium\">\r\n                  {statuteGroups.length > 0 \r\n                    ? (statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0) / statuteGroups.length).toFixed(1)\r\n                    : 0}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary */}\r\n      <div className=\"bg-gray-50 rounded-lg p-4\">\r\n        <div className=\"text-sm text-gray-600\">\r\n          Total: {statuteGroups.length} statute group(s) • \r\n          Total sections: {statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0)} • \r\n          History events: {historyEvents.length} • \r\n          Latest event: {historyEvents.length > 0 ? formatTimestamp(historyEvents[0].timestamp) : 'None'}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NormalizationHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}