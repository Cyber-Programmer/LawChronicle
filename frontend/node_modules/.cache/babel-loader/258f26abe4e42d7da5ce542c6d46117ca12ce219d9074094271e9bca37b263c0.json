{"ast":null,"code":"import _objectSpread from\"D:/DigiFloat/LawChronicle/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Scissors,Database,Settings,History,Eye,RotateCcw,Split,Layers}from'lucide-react';// Configuration interface - updated to match CLI flow\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Default configuration - matches CLI scripts\nconst DEFAULT_CONFIG={source_database:\"Statutes\",source_collection:\"normalized_statutes\",target_database:\"Batched-Statutes\",target_collection_prefix:\"batch_\",batch_size:10,enable_ai_cleaning:false};const Phase3=()=>{var _status$collection_st,_status$collection_st2,_status$collection_st3,_status$collection_st4,_statistics$statistic,_statistics$statistic2,_statistics$statistic3,_statistics$statistic4,_statistics$statistic5,_statistics$statistic6,_statistics$statistic7,_statistics$statistic8,_statistics$statistic9,_statistics$statistic0,_statistics$statistic1,_statistics$statistic10,_statistics$statistic11,_statistics$statistic12,_statistics$statistic13;const[activeTab,setActiveTab]=useState('overview');const[config,setConfig]=useState(DEFAULT_CONFIG);const[isProcessing,setIsProcessing]=useState(false);const[status,setStatus]=useState(null);const[statistics,setStatistics]=useState(null);const[batchPreview,setBatchPreview]=useState(null);// Load config from localStorage on mount\nuseEffect(()=>{const savedConfig=localStorage.getItem('phase3_config');if(savedConfig){try{setConfig(JSON.parse(savedConfig));}catch(error){console.error('Error loading Phase 3 config:',error);}}},[]);// Save config to localStorage when it changes\nuseEffect(()=>{localStorage.setItem('phase3_config',JSON.stringify(config));},[config]);// Update configuration\nconst updateConfig=updates=>{setConfig(prev=>_objectSpread(_objectSpread({},prev),updates));};// Reset configuration to defaults\nconst resetConfig=()=>{setConfig(DEFAULT_CONFIG);};// Fetch Phase 3 status\nconst fetchStatus=async()=>{try{const response=await fetch('/api/v1/phase3/status');if(response.ok){const data=await response.json();setStatus(data);}}catch(error){console.error('Error fetching Phase 3 status:',error);}};// Fetch statistics\nconst fetchStatistics=async()=>{try{const response=await fetch('/api/v1/phase3/statistics',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(config)});if(response.ok){const data=await response.json();setStatistics(data);}}catch(error){console.error('Error fetching Phase 3 statistics:',error);}};// Fetch batch preview\nconst fetchBatchPreview=async()=>{try{const response=await fetch('/api/v1/phase3/preview-batches',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(config)});if(response.ok){const data=await response.json();setBatchPreview(data);}}catch(error){console.error('Error fetching batch preview:',error);}};// Start section splitting\nconst startSectionSplitting=async()=>{setIsProcessing(true);try{const response=await fetch('/api/v1/phase3/start-section-splitting',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(config)});if(response.ok){const result=await response.json();alert('Section splitting started successfully!');fetchStatus();}else{const error=await response.json();alert(\"Error starting section splitting: \".concat(error.detail));}}catch(error){console.error('Error starting section splitting:',error);alert('Failed to start section splitting');}finally{setIsProcessing(false);}};// Start field cleaning\nconst startFieldCleaning=async()=>{setIsProcessing(true);try{const response=await fetch('/api/v1/phase3/start-field-cleaning',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(config)});if(response.ok){const result=await response.json();alert('Field cleaning started successfully!');fetchStatus();}else{const error=await response.json();alert(\"Error starting field cleaning: \".concat(error.detail));}}catch(error){console.error('Error starting field cleaning:',error);alert('Failed to start field cleaning');}finally{setIsProcessing(false);}};// Rollback Phase 3\nconst rollbackPhase3=async()=>{if(!window.confirm('Are you sure you want to rollback Phase 3? This will delete all created batch collections and databases.')){return;}try{const response=await fetch('/api/v1/phase3/rollback',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(config)});if(response.ok){const result=await response.json();alert('Phase 3 rollback completed successfully!');fetchStatus();fetchStatistics();}else{const error=await response.json();alert(\"Error rolling back Phase 3: \".concat(error.detail));}}catch(error){console.error('Error rolling back Phase 3:',error);alert('Failed to rollback Phase 3');}};// Load data on mount\nuseEffect(()=>{fetchStatus();fetchStatistics();},[]);const tabs=[{id:'overview',name:'Overview',icon:Database},{id:'section-splitting',name:'Section Splitting',icon:Split},{id:'field-cleaning',name:'Field Cleaning',icon:Scissors},{id:'preview',name:'Batch Preview',icon:Eye},{id:'statistics',name:'Statistics',icon:Settings},{id:'history',name:'History',icon:History}];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900 mb-1\",children:\"Phase 3: Field Cleaning & Splitting\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Split normalized statutes into batches, then clean each batch using CLI logic\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Current Configuration\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:resetConfig,className:\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"h-4 w-4 mr-1\"}),\"Reset to Defaults\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Source DB:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:config.source_database,onChange:e=>updateConfig({source_database:e.target.value}),className:\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Source Collection:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:config.source_collection,onChange:e=>updateConfig({source_collection:e.target.value}),className:\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Target DB:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:config.target_database,onChange:e=>updateConfig({target_database:e.target.value}),className:\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Batch Prefix:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:config.target_collection_prefix,onChange:e=>updateConfig({target_collection_prefix:e.target.value}),className:\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Batch Size:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:config.batch_size,onChange:e=>updateConfig({batch_size:parseInt(e.target.value)||10}),className:\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-16\",min:\"1\",max:\"50\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 mt-2\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"flex space-x-8 px-4\",\"aria-label\":\"Tabs\",children:tabs.map(tab=>{const Icon=tab.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-3 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 \".concat(activeTab===tab.id?'border-purple-500 text-purple-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Icon,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:tab.name})]},tab.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mt-2\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-blue-900 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Split,{className:\"h-5 w-5 mr-2\"}),\"Section Splitting\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700 text-sm mb-3\",children:[\"Split normalized statutes from \",config.source_database,\".\",config.source_collection,\" into \",config.batch_size,\" batches in \",config.target_database,\".\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:startSectionSplitting,disabled:isProcessing,className:\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:isProcessing?'Processing...':'Start Section Splitting'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-green-900 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Scissors,{className:\"h-5 w-5 mr-2\"}),\"Field Cleaning\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-700 text-sm mb-3\",children:\"Clean each batch using CLI logic: drop unnecessary fields, bring common fields up, handle single sections, remove duplicates, and sort sections.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:startFieldCleaning,disabled:isProcessing,className:\"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:isProcessing?'Processing...':'Start Field Cleaning'})]})]}),status&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Current Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:(_status$collection_st=status.collection_status)!==null&&_status$collection_st!==void 0&&_status$collection_st.source_exists?'✅':'❌'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Source Collection\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[config.source_database,\".\",config.source_collection]}),((_status$collection_st2=status.collection_status)===null||_status$collection_st2===void 0?void 0:_status$collection_st2.source_count)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[status.collection_status.source_count,\" documents\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:(_status$collection_st3=status.collection_status)!==null&&_status$collection_st3!==void 0&&_status$collection_st3.target_database_exists?'✅':'❌'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Target Database\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:config.target_database})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:((_status$collection_st4=status.collection_status)===null||_status$collection_st4===void 0?void 0:_status$collection_st4.batch_count)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Batch Collections\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[config.target_collection_prefix,\"1, \",config.target_collection_prefix,\"2, ...\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-red-900 mb-2\",children:\"Rollback\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 text-sm mb-3\",children:\"Rollback Phase 3 changes and restore previous state if needed.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:rollbackPhase3,className:\"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\",children:\"Rollback Phase 3\"})]})]}),activeTab==='section-splitting'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Section Splitting Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-900 mb-2\",children:\"Section Splitting Process\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-blue-700 text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 Read all documents from \",config.source_database,\".\",config.source_collection]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 Split into \",config.batch_size,\" equal batches\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 Create collections: \",config.target_collection_prefix,\"1, \",config.target_collection_prefix,\"2, ...\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Distribute statutes across batches\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Maintain section structure and metadata\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:startSectionSplitting,disabled:isProcessing,className:\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:isProcessing?'Processing...':'Start Section Splitting'}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStatus,className:\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\",children:\"Refresh Status\"})]})]}),activeTab==='field-cleaning'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Field Cleaning Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-900 mb-2\",children:\"Field Cleaning Process (per batch)\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-green-700 text-sm space-y-1\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Drop unnecessary fields:\"}),\" Keep only essential fields for processing\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Bring common fields up:\"}),\" Move fields common across all sections to statute level\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Clean single-section statutes:\"}),\" Handle single-section statutes specially\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Remove preamble duplicates:\"}),\" Remove duplicate preamble sections\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Sort sections:\"}),\" Preamble first, then numeric, then text\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Validate Pakistan law:\"}),\" Drop non-Pakistan laws using CLI logic\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:startFieldCleaning,disabled:isProcessing,className:\"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",children:isProcessing?'Processing...':'Start Field Cleaning'}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStatus,className:\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\",children:\"Refresh Status\"})]})]}),activeTab==='preview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Batch Preview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchBatchPreview,className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",children:\"Load Batch Preview\"})]}),batchPreview?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:batchPreview.batches.length>0?batchPreview.batches.map((batch,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:batch.batch_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Documents:\"}),\" \",batch.document_count]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Sample Documents:\"})})]}),batch.sample_documents&&batch.sample_documents.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mb-1\",children:\"Sample:\"}),batch.sample_documents.map((doc,docIndex)=>{var _doc$Sections;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-2 rounded text-xs border\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",doc.Statute_Name||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sections:\"}),\" \",((_doc$Sections=doc.Sections)===null||_doc$Sections===void 0?void 0:_doc$Sections.length)||0]})]},docIndex);})]})]},index)):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Layers,{className:\"h-12 w-12 mx-auto mb-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No batch collections found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Run section splitting first to create batches\"})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Eye,{className:\"h-12 w-12 mx-auto mb-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click \\\"Load Batch Preview\\\" to see batch collections\"})]})]}),activeTab==='statistics'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Processing Statistics\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStatistics,className:\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",children:\"Load Statistics\"})]}),statistics?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:((_statistics$statistic=statistics.statistics)===null||_statistics$statistic===void 0?void 0:(_statistics$statistic2=_statistics$statistic.source_collection)===null||_statistics$statistic2===void 0?void 0:_statistics$statistic2.count)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600\",children:\"Source Documents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-blue-500\",children:(_statistics$statistic3=statistics.statistics)===null||_statistics$statistic3===void 0?void 0:(_statistics$statistic4=_statistics$statistic3.source_collection)===null||_statistics$statistic4===void 0?void 0:_statistics$statistic4.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:(_statistics$statistic5=statistics.statistics)!==null&&_statistics$statistic5!==void 0&&(_statistics$statistic6=_statistics$statistic5.source_collection)!==null&&_statistics$statistic6!==void 0&&_statistics$statistic6.exists?'✅ Exists':'❌ Missing'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:((_statistics$statistic7=statistics.statistics)===null||_statistics$statistic7===void 0?void 0:(_statistics$statistic8=_statistics$statistic7.target_database)===null||_statistics$statistic8===void 0?void 0:(_statistics$statistic9=_statistics$statistic8.batch_collections)===null||_statistics$statistic9===void 0?void 0:_statistics$statistic9.length)||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600\",children:\"Batch Collections\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-500\",children:(_statistics$statistic0=statistics.statistics)===null||_statistics$statistic0===void 0?void 0:(_statistics$statistic1=_statistics$statistic0.target_database)===null||_statistics$statistic1===void 0?void 0:_statistics$statistic1.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:(_statistics$statistic10=statistics.statistics)!==null&&_statistics$statistic10!==void 0&&(_statistics$statistic11=_statistics$statistic10.target_database)!==null&&_statistics$statistic11!==void 0&&_statistics$statistic11.exists?'✅ Exists':'❌ Missing'})]}),((_statistics$statistic12=statistics.statistics)===null||_statistics$statistic12===void 0?void 0:(_statistics$statistic13=_statistics$statistic12.target_database)===null||_statistics$statistic13===void 0?void 0:_statistics$statistic13.batch_collections)&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-purple-900 mb-2\",children:\"Batch Collections\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\",children:statistics.statistics.target_database.batch_collections.map((batch,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-2 rounded text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:batch})},index))})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-12 w-12 mx-auto mb-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No statistics available\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchStatistics,className:\"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",children:\"Load Statistics\"})]})]}),activeTab==='history'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Processing History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm\",children:\"Processing history and audit trail will be displayed here. This feature tracks all section splitting and field cleaning operations.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Section splitting creates batch collections\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Field cleaning processes each batch individually\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 All operations are logged with timestamps\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2022 Rollback functionality available for cleanup\"})]})]})]})]})]});};export default Phase3;","map":{"version":3,"names":["React","useState","useEffect","Scissors","Database","Settings","History","Eye","RotateCcw","Split","Layers","jsx","_jsx","jsxs","_jsxs","DEFAULT_CONFIG","source_database","source_collection","target_database","target_collection_prefix","batch_size","enable_ai_cleaning","Phase3","_status$collection_st","_status$collection_st2","_status$collection_st3","_status$collection_st4","_statistics$statistic","_statistics$statistic2","_statistics$statistic3","_statistics$statistic4","_statistics$statistic5","_statistics$statistic6","_statistics$statistic7","_statistics$statistic8","_statistics$statistic9","_statistics$statistic0","_statistics$statistic1","_statistics$statistic10","_statistics$statistic11","_statistics$statistic12","_statistics$statistic13","activeTab","setActiveTab","config","setConfig","isProcessing","setIsProcessing","status","setStatus","statistics","setStatistics","batchPreview","setBatchPreview","savedConfig","localStorage","getItem","JSON","parse","error","console","setItem","stringify","updateConfig","updates","prev","_objectSpread","resetConfig","fetchStatus","response","fetch","ok","data","json","fetchStatistics","method","headers","body","fetchBatchPreview","startSectionSplitting","result","alert","concat","detail","startFieldCleaning","rollbackPhase3","window","confirm","tabs","id","name","icon","className","children","onClick","type","value","onChange","e","target","parseInt","min","max","map","tab","Icon","disabled","collection_status","source_exists","source_count","target_database_exists","batch_count","batches","length","batch","index","batch_name","document_count","sample_documents","doc","docIndex","_doc$Sections","Statute_Name","Sections","count","exists","batch_collections"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/pages/Phase3.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Scissors, Database, FileText, Settings, History, Eye, Play, RotateCcw, Split, Layers } from 'lucide-react';\r\n\r\n// Configuration interface - updated to match CLI flow\r\ninterface Phase3Config {\r\n  source_database: string;\r\n  source_collection: string;\r\n  target_database: string;\r\n  target_collection_prefix: string;\r\n  batch_size: number;\r\n  enable_ai_cleaning: boolean;\r\n}\r\n\r\n// Default configuration - matches CLI scripts\r\nconst DEFAULT_CONFIG: Phase3Config = {\r\n  source_database: \"Statutes\",\r\n  source_collection: \"normalized_statutes\",\r\n  target_database: \"Batched-Statutes\",\r\n  target_collection_prefix: \"batch_\",\r\n  batch_size: 10,\r\n  enable_ai_cleaning: false\r\n};\r\n\r\nconst Phase3: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [config, setConfig] = useState<Phase3Config>(DEFAULT_CONFIG);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [status, setStatus] = useState<any>(null);\r\n  const [statistics, setStatistics] = useState<any>(null);\r\n  const [batchPreview, setBatchPreview] = useState<any>(null);\r\n\r\n  // Load config from localStorage on mount\r\n  useEffect(() => {\r\n    const savedConfig = localStorage.getItem('phase3_config');\r\n    if (savedConfig) {\r\n      try {\r\n        setConfig(JSON.parse(savedConfig));\r\n      } catch (error) {\r\n        console.error('Error loading Phase 3 config:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save config to localStorage when it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('phase3_config', JSON.stringify(config));\r\n  }, [config]);\r\n\r\n  // Update configuration\r\n  const updateConfig = (updates: Partial<Phase3Config>) => {\r\n    setConfig(prev => ({ ...prev, ...updates }));\r\n  };\r\n\r\n  // Reset configuration to defaults\r\n  const resetConfig = () => {\r\n    setConfig(DEFAULT_CONFIG);\r\n  };\r\n\r\n  // Fetch Phase 3 status\r\n  const fetchStatus = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/status');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStatus(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching Phase 3 status:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch statistics\r\n  const fetchStatistics = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/statistics', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStatistics(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching Phase 3 statistics:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch batch preview\r\n  const fetchBatchPreview = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/preview-batches', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBatchPreview(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching batch preview:', error);\r\n    }\r\n  };\r\n\r\n  // Start section splitting\r\n  const startSectionSplitting = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/start-section-splitting', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert('Section splitting started successfully!');\r\n        fetchStatus();\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error starting section splitting: ${error.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting section splitting:', error);\r\n      alert('Failed to start section splitting');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Start field cleaning\r\n  const startFieldCleaning = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/start-field-cleaning', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert('Field cleaning started successfully!');\r\n        fetchStatus();\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error starting field cleaning: ${error.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting field cleaning:', error);\r\n      alert('Failed to start field cleaning');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Rollback Phase 3\r\n  const rollbackPhase3 = async () => {\r\n    if (!window.confirm('Are you sure you want to rollback Phase 3? This will delete all created batch collections and databases.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/rollback', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert('Phase 3 rollback completed successfully!');\r\n        fetchStatus();\r\n        fetchStatistics();\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error rolling back Phase 3: ${error.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rolling back Phase 3:', error);\r\n      alert('Failed to rollback Phase 3');\r\n    }\r\n  };\r\n\r\n  // Load data on mount\r\n  useEffect(() => {\r\n    fetchStatus();\r\n    fetchStatistics();\r\n  }, []);\r\n\r\n  const tabs = [\r\n    { id: 'overview', name: 'Overview', icon: Database },\r\n    { id: 'section-splitting', name: 'Section Splitting', icon: Split },\r\n    { id: 'field-cleaning', name: 'Field Cleaning', icon: Scissors },\r\n    { id: 'preview', name: 'Batch Preview', icon: Eye },\r\n    { id: 'statistics', name: 'Statistics', icon: Settings },\r\n    { id: 'history', name: 'History', icon: History }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"space-y-0\">\r\n      {/* Header */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-2\">\r\n        <h1 className=\"text-xl font-bold text-gray-900 mb-1\">\r\n          Phase 3: Field Cleaning & Splitting\r\n        </h1>\r\n        <p className=\"text-gray-600 text-sm\">\r\n          Split normalized statutes into batches, then clean each batch using CLI logic\r\n        </p>\r\n      </div>\r\n\r\n      {/* Current Configuration */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mt-2\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900\">Current Configuration</h2>\r\n          <button\r\n            onClick={resetConfig}\r\n            className=\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n          >\r\n            <RotateCcw className=\"h-4 w-4 mr-1\" />\r\n            Reset to Defaults\r\n          </button>\r\n        </div>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm\">\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Source DB:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.source_database}\r\n              onChange={(e) => updateConfig({ source_database: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Source Collection:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.source_collection}\r\n              onChange={(e) => updateConfig({ source_collection: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Target DB:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.target_database}\r\n              onChange={(e) => updateConfig({ target_database: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Batch Prefix:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.target_collection_prefix}\r\n              onChange={(e) => updateConfig({ target_collection_prefix: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Batch Size:</span>\r\n            <input\r\n              type=\"number\"\r\n              value={config.batch_size}\r\n              onChange={(e) => updateConfig({ batch_size: parseInt(e.target.value) || 10 })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-16\"\r\n              min=\"1\"\r\n              max=\"50\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 mt-2\">\r\n        <nav className=\"flex space-x-8 px-4\" aria-label=\"Tabs\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`py-3 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${\r\n                  activeTab === tab.id\r\n                    ? 'border-purple-500 text-purple-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Icon className=\"h-4 w-4\" />\r\n                <span>{tab.name}</span>\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mt-2\">\r\n        {activeTab === 'overview' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                <h3 className=\"text-lg font-semibold text-blue-900 mb-2 flex items-center\">\r\n                  <Split className=\"h-5 w-5 mr-2\" />\r\n                  Section Splitting\r\n                </h3>\r\n                <p className=\"text-blue-700 text-sm mb-3\">\r\n                  Split normalized statutes from {config.source_database}.{config.source_collection} into {config.batch_size} batches in {config.target_database}.\r\n                </p>\r\n                <button\r\n                  onClick={startSectionSplitting}\r\n                  disabled={isProcessing}\r\n                  className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isProcessing ? 'Processing...' : 'Start Section Splitting'}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"bg-green-50 p-4 rounded-lg\">\r\n                <h3 className=\"text-lg font-semibold text-green-900 mb-2 flex items-center\">\r\n                  <Scissors className=\"h-5 w-5 mr-2\" />\r\n                  Field Cleaning\r\n                </h3>\r\n                <p className=\"text-green-700 text-sm mb-3\">\r\n                  Clean each batch using CLI logic: drop unnecessary fields, bring common fields up, handle single sections, remove duplicates, and sort sections.\r\n                </p>\r\n                <button\r\n                  onClick={startFieldCleaning}\r\n                  disabled={isProcessing}\r\n                  className=\"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isProcessing ? 'Processing...' : 'Start Field Cleaning'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Status Overview */}\r\n            {status && (\r\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Current Status</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl font-bold text-blue-600\">\r\n                      {status.collection_status?.source_exists ? '✅' : '❌'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">Source Collection</div>\r\n                    <div className=\"text-xs text-gray-500\">{config.source_database}.{config.source_collection}</div>\r\n                    {status.collection_status?.source_count > 0 && (\r\n                      <div className=\"text-xs text-gray-500\">{status.collection_status.source_count} documents</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl font-bold text-green-600\">\r\n                      {status.collection_status?.target_database_exists ? '✅' : '❌'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">Target Database</div>\r\n                    <div className=\"text-xs text-gray-500\">{config.target_database}</div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl font-bold text-purple-600\">\r\n                      {status.collection_status?.batch_count || 0}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">Batch Collections</div>\r\n                    <div className=\"text-xs text-gray-500\">{config.target_collection_prefix}1, {config.target_collection_prefix}2, ...</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Rollback Section */}\r\n            <div className=\"bg-red-50 p-4 rounded-lg\">\r\n              <h3 className=\"text-lg font-semibold text-red-900 mb-2\">Rollback</h3>\r\n              <p className=\"text-red-700 text-sm mb-3\">\r\n                Rollback Phase 3 changes and restore previous state if needed.\r\n              </p>\r\n              <button\r\n                onClick={rollbackPhase3}\r\n                className=\"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\"\r\n              >\r\n                Rollback Phase 3\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'section-splitting' && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Section Splitting Configuration</h3>\r\n            <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-medium text-blue-900 mb-2\">Section Splitting Process</h4>\r\n              <ul className=\"text-blue-700 text-sm space-y-1\">\r\n                <li>• Read all documents from {config.source_database}.{config.source_collection}</li>\r\n                <li>• Split into {config.batch_size} equal batches</li>\r\n                <li>• Create collections: {config.target_collection_prefix}1, {config.target_collection_prefix}2, ...</li>\r\n                <li>• Distribute statutes across batches</li>\r\n                <li>• Maintain section structure and metadata</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={startSectionSplitting}\r\n                disabled={isProcessing}\r\n                className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {isProcessing ? 'Processing...' : 'Start Section Splitting'}\r\n              </button>\r\n              <button\r\n                onClick={fetchStatus}\r\n                className=\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\"\r\n              >\r\n                Refresh Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'field-cleaning' && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Field Cleaning Configuration</h3>\r\n            <div className=\"bg-green-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-medium text-green-900 mb-2\">Field Cleaning Process (per batch)</h4>\r\n              <ul className=\"text-green-700 text-sm space-y-1\">\r\n                <li>• <strong>Drop unnecessary fields:</strong> Keep only essential fields for processing</li>\r\n                <li>• <strong>Bring common fields up:</strong> Move fields common across all sections to statute level</li>\r\n                <li>• <strong>Clean single-section statutes:</strong> Handle single-section statutes specially</li>\r\n                <li>• <strong>Remove preamble duplicates:</strong> Remove duplicate preamble sections</li>\r\n                <li>• <strong>Sort sections:</strong> Preamble first, then numeric, then text</li>\r\n                <li>• <strong>Validate Pakistan law:</strong> Drop non-Pakistan laws using CLI logic</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={startFieldCleaning}\r\n                disabled={isProcessing}\r\n                className=\"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {isProcessing ? 'Processing...' : 'Start Field Cleaning'}\r\n              </button>\r\n              <button\r\n                onClick={fetchStatus}\r\n                className=\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\"\r\n              >\r\n                Refresh Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'preview' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Batch Preview</h3>\r\n              <button\r\n                onClick={fetchBatchPreview}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Load Batch Preview\r\n              </button>\r\n            </div>\r\n            \r\n            {batchPreview ? (\r\n              <div className=\"space-y-4\">\r\n                {batchPreview.batches.length > 0 ? (\r\n                  batchPreview.batches.map((batch: any, index: number) => (\r\n                    <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-2\">{batch.batch_name}</h4>\r\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                        <div>\r\n                          <span className=\"font-medium\">Documents:</span> {batch.document_count}\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"font-medium\">Sample Documents:</span>\r\n                        </div>\r\n                      </div>\r\n                      {batch.sample_documents && batch.sample_documents.length > 0 && (\r\n                        <div className=\"mt-2\">\r\n                          <div className=\"text-xs text-gray-500 mb-1\">Sample:</div>\r\n                          {batch.sample_documents.map((doc: any, docIndex: number) => (\r\n                            <div key={docIndex} className=\"bg-white p-2 rounded text-xs border\">\r\n                              <div><strong>Name:</strong> {doc.Statute_Name || 'N/A'}</div>\r\n                              <div><strong>Sections:</strong> {doc.Sections?.length || 0}</div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-gray-500\">\r\n                    <Layers className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                    <p>No batch collections found</p>\r\n                    <p className=\"text-sm\">Run section splitting first to create batches</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <Eye className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                <p>Click \"Load Batch Preview\" to see batch collections</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'statistics' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Processing Statistics</h3>\r\n              <button\r\n                onClick={fetchStatistics}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Load Statistics\r\n              </button>\r\n            </div>\r\n            \r\n            {statistics ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"bg-blue-50 p-4 rounded-lg text-center\">\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {statistics.statistics?.source_collection?.count || 0}\r\n                  </div>\r\n                  <div className=\"text-sm text-blue-600\">Source Documents</div>\r\n                  <div className=\"text-xs text-blue-500\">{statistics.statistics?.source_collection?.name}</div>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {statistics.statistics?.source_collection?.exists ? '✅ Exists' : '❌ Missing'}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-green-50 p-4 rounded-lg text-center\">\r\n                  <div className=\"text-2xl font-bold text-green-600\">\r\n                    {statistics.statistics?.target_database?.batch_collections?.length || 0}\r\n                  </div>\r\n                  <div className=\"text-sm text-green-600\">Batch Collections</div>\r\n                  <div className=\"text-xs text-green-500\">{statistics.statistics?.target_database?.name}</div>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {statistics.statistics?.target_database?.exists ? '✅ Exists' : '❌ Missing'}\r\n                  </div>\r\n                </div>\r\n                \r\n                {statistics.statistics?.target_database?.batch_collections && (\r\n                  <div className=\"md:col-span-2 bg-purple-50 p-4 rounded-lg\">\r\n                    <h4 className=\"font-medium text-purple-900 mb-2\">Batch Collections</h4>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\r\n                      {statistics.statistics.target_database.batch_collections.map((batch: string, index: number) => (\r\n                        <div key={index} className=\"bg-white p-2 rounded text-center\">\r\n                          <div className=\"font-medium\">{batch}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <Settings className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                <p>No statistics available</p>\r\n                <button\r\n                  onClick={fetchStatistics}\r\n                  className=\"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n                >\r\n                  Load Statistics\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'history' && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Processing History</h3>\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <p className=\"text-gray-600 text-sm\">\r\n                Processing history and audit trail will be displayed here. This feature tracks all section splitting and field cleaning operations.\r\n              </p>\r\n              <div className=\"mt-4 text-xs text-gray-500\">\r\n                <p>• Section splitting creates batch collections</p>\r\n                <p>• Field cleaning processes each batch individually</p>\r\n                <p>• All operations are logged with timestamps</p>\r\n                <p>• Rollback functionality available for cleanup</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phase3;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}