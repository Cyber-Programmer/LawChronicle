{"ast":null,"code":"import _objectSpread from\"D:/DigiFloat/LawChronicle/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{History,RotateCcw,Eye,Download,Calendar,User,Activity,AlertTriangle,CheckCircle,RefreshCw,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NormalizationHistory=_ref=>{let{config}=_ref;const[operations,setOperations]=useState([]);const[loading,setLoading]=useState(false);const[selectedOperation,setSelectedOperation]=useState(null);const[showDetails,setShowDetails]=useState(false);const[filters,setFilters]=useState({status:'all',operation_type:'all',date_range:'7d',user:'all'});const[rollbackLoading,setRollbackLoading]=useState(null);// Fetch normalization history\nconst fetchHistory=useCallback(async()=>{setLoading(true);try{const response=await fetch('/api/v1/phase2/normalization-history?limit=100');const data=await response.json();if(data.success){// Simulate additional operations for demonstration\nconst simulatedOperations=[...data.history,{_id:'sim_1',operation_type:'statute_name_normalization',status:'success',details:{source_collection:'raw_statutes',target_collection:'normalized_statutes',documents_processed:1250,processing_time:45,memory_usage:256},timestamp:new Date(Date.now()-2*60*60*1000).toISOString(),user:'admin',rollback_available:true,rollback_status:'available'},{_id:'sim_2',operation_type:'structure_cleaning',status:'success',details:{source_collection:'normalized_statutes',target_collection:'cleaned_statutes',documents_processed:1250,processing_time:32,memory_usage:198},timestamp:new Date(Date.now()-3*60*60*1000).toISOString(),user:'admin',rollback_available:true,rollback_status:'available'},{_id:'sim_3',operation_type:'alphabetical_sorting',status:'in_progress',details:{source_collection:'cleaned_statutes',target_collection:'sorted_statutes',documents_processed:800,processing_time:28,memory_usage:245},timestamp:new Date(Date.now()-1*60*60*1000).toISOString(),user:'admin',rollback_available:false,rollback_status:'not_available'}];setOperations(simulatedOperations);}else{console.error('Failed to fetch normalization history');}}catch(error){console.error('Error fetching normalization history:',error);}finally{setLoading(false);}},[]);// Rollback operation\nconst rollbackOperation=async operationId=>{setRollbackLoading(operationId);try{const response=await fetch('/api/v1/phase2/rollback',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({operation_id:operationId})});const data=await response.json();if(data.success){// Update operation status\nsetOperations(prev=>prev.map(op=>op._id===operationId?_objectSpread(_objectSpread({},op),{},{rollback_status:'completed'}):op));// Refresh history\nfetchHistory();}else{console.error('Rollback failed:',data.message);}}catch(error){console.error('Error during rollback:',error);}finally{setRollbackLoading(null);}};// Get status color\nconst getStatusColor=status=>{const colors={'success':'bg-green-100 text-green-800','failed':'bg-red-100 text-red-800','in_progress':'bg-blue-100 text-blue-800','cancelled':'bg-gray-100 text-gray-800'};return colors[status]||'bg-gray-100 text-gray-800';};// Get operation type icon\nconst getOperationIcon=type=>{const icons={'statute_name_normalization':/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5\"}),'structure_cleaning':/*#__PURE__*/_jsx(RotateCcw,{className:\"h-5 w-5\"}),'alphabetical_sorting':/*#__PURE__*/_jsx(History,{className:\"h-5 w-5\"}),'full_normalization':/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5\"})};return icons[type]||/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5\"});};// Get operation type display name\nconst getOperationDisplayName=type=>{const names={'statute_name_normalization':'Statute Name Normalization','structure_cleaning':'Structure Cleaning','alphabetical_sorting':'Alphabetical Sorting','full_normalization':'Full Normalization'};return names[type]||type.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());};// Filter operations\nconst filteredOperations=operations.filter(operation=>{if(filters.status!=='all'&&operation.status!==filters.status)return false;if(filters.operation_type!=='all'&&operation.operation_type!==filters.operation_type)return false;if(filters.user!=='all'&&operation.user!==filters.user)return false;// Date range filtering\nconst operationDate=new Date(operation.timestamp);const now=new Date();const diffInDays=(now.getTime()-operationDate.getTime())/(1000*60*60*24);switch(filters.date_range){case'1d':if(diffInDays>1)return false;break;case'7d':if(diffInDays>7)return false;break;case'30d':if(diffInDays>30)return false;break;case'90d':if(diffInDays>90)return false;break;}return true;});// Export history\nconst exportHistory=()=>{const csvContent=[['Operation Type','Status','User','Timestamp','Documents Processed','Processing Time','Memory Usage'],...filteredOperations.map(op=>[getOperationDisplayName(op.operation_type),op.status,op.user,new Date(op.timestamp).toLocaleString(),op.details.documents_processed||0,op.details.processing_time||0,op.details.memory_usage||0])].map(row=>row.join(',')).join('\\n');const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"normalization_history_\".concat(new Date().toISOString().split('T')[0],\".csv\");a.click();window.URL.revokeObjectURL(url);};useEffect(()=>{fetchHistory();},[fetchHistory]);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Normalization History\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Track all normalization operations, audit trail, and rollback capabilities\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:exportHistory,className:\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 mr-2\"}),\"Export CSV\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchHistory,disabled:loading,className:\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 \".concat(loading?'animate-spin':'')}),\"Refresh\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Filters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Filter operations by status, type, date range, and user\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{status:e.target.value})),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"success\",children:\"Success\"}),/*#__PURE__*/_jsx(\"option\",{value:\"failed\",children:\"Failed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in_progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"Cancelled\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Operation Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.operation_type,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{operation_type:e.target.value})),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"statute_name_normalization\",children:\"Statute Name Normalization\"}),/*#__PURE__*/_jsx(\"option\",{value:\"structure_cleaning\",children:\"Structure Cleaning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alphabetical_sorting\",children:\"Alphabetical Sorting\"}),/*#__PURE__*/_jsx(\"option\",{value:\"full_normalization\",children:\"Full Normalization\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Date Range\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.date_range,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{date_range:e.target.value})),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1d\",children:\"Last 24 Hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7d\",children:\"Last 7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30d\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90d\",children:\"Last 90 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Time\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"User\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.user,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{user:e.target.value})),className:\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Users\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"system\",children:\"System\"}),/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-medium text-gray-900\",children:\"Operations History\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[filteredOperations.length,\" operations found\"]})]})})}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-8 w-8 text-gray-400 mx-auto mb-4 animate-spin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading operations history...\"})]}):filteredOperations.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center\",children:[/*#__PURE__*/_jsx(History,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No operations found matching the current filters\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Try adjusting your filter criteria\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Operation\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Details\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:filteredOperations.map(operation=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8 bg-gray-100 rounded-lg flex items-center justify-center\",children:getOperationIcon(operation.operation_type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:getOperationDisplayName(operation.operation_type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[operation.details.documents_processed||0,\" documents\"]})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(operation.status)),children:operation.status.replace('_',' ')})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900\",children:operation.user})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900\",children:new Date(operation.timestamp).toLocaleString()})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Time: \",operation.details.processing_time||0,\"s\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Memory: \",operation.details.memory_usage||0,\"MB\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedOperation(operation);setShowDetails(true);},className:\"text-primary-600 hover:text-primary-900\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})}),operation.rollback_available&&operation.rollback_status==='available'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>rollbackOperation(operation._id),disabled:rollbackLoading===operation._id,className:\"text-red-600 hover:text-red-900 disabled:opacity-50\",children:/*#__PURE__*/_jsx(RotateCcw,{className:\"h-4 w-4 \".concat(rollbackLoading===operation._id?'animate-spin':'')})}),operation.rollback_status==='completed'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4\"})}),operation.rollback_status==='failed'&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-600\",children:/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4\"})})]})})]},operation._id))})]})})]}),showDetails&&selectedOperation&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Operation Details: \",getOperationDisplayName(selectedOperation.operation_type)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetails(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(getStatusColor(selectedOperation.status)),children:selectedOperation.status.replace('_',' ')})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"User\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900\",children:selectedOperation.user})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900\",children:new Date(selectedOperation.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Documents Processed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-900\",children:selectedOperation.details.documents_processed||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Source Collection:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-900\",children:selectedOperation.details.source_collection||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Target Collection:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-900\",children:selectedOperation.details.target_collection||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Processing Time:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-gray-900\",children:[selectedOperation.details.processing_time||0,\"s\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Memory Usage:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-gray-900\",children:[selectedOperation.details.memory_usage||0,\"MB\"]})]})]}),selectedOperation.details.errors&&selectedOperation.details.errors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-600 font-medium\",children:\"Errors:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-1 text-red-600\",children:selectedOperation.details.errors.map((error,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm\",children:[\"\\u2022 \",error]},index))})]}),selectedOperation.details.warnings&&selectedOperation.details.warnings.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-600 font-medium\",children:\"Warnings:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mt-1 text-yellow-600\",children:selectedOperation.details.warnings.map((warning,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm\",children:[\"\\u2022 \",warning]},index))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetails(false),className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Close\"}),selectedOperation.rollback_available&&selectedOperation.rollback_status==='available'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{rollbackOperation(selectedOperation._id);setShowDetails(false);},disabled:rollbackLoading===selectedOperation._id,className:\"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"h-4 w-4 mr-2 inline \".concat(rollbackLoading===selectedOperation._id?'animate-spin':'')}),\"Rollback\"]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 mb-2\",children:\"History Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total Operations:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-gray-900\",children:operations.length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Successful:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-green-600\",children:operations.filter(op=>op.status==='success').length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Failed:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-red-600\",children:operations.filter(op=>op.status==='failed').length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Rollback Available:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 font-medium text-blue-600\",children:operations.filter(op=>op.rollback_available).length})]})]})]})]});};export default NormalizationHistory;","map":{"version":3,"names":["React","useState","useEffect","useCallback","History","RotateCcw","Eye","Download","Calendar","User","Activity","AlertTriangle","CheckCircle","RefreshCw","X","jsx","_jsx","jsxs","_jsxs","NormalizationHistory","_ref","config","operations","setOperations","loading","setLoading","selectedOperation","setSelectedOperation","showDetails","setShowDetails","filters","setFilters","status","operation_type","date_range","user","rollbackLoading","setRollbackLoading","fetchHistory","response","fetch","data","json","success","simulatedOperations","history","_id","details","source_collection","target_collection","documents_processed","processing_time","memory_usage","timestamp","Date","now","toISOString","rollback_available","rollback_status","console","error","rollbackOperation","operationId","method","headers","body","JSON","stringify","operation_id","prev","map","op","_objectSpread","message","getStatusColor","colors","getOperationIcon","type","icons","className","getOperationDisplayName","names","replace","l","toUpperCase","filteredOperations","filter","operation","operationDate","diffInDays","getTime","exportHistory","csvContent","toLocaleString","row","join","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","split","click","revokeObjectURL","children","onClick","disabled","value","onChange","e","target","length","errors","index","warnings","warning"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/NormalizationHistory.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { History, RotateCcw, Eye, Download, Filter, Calendar, User, Activity, AlertTriangle, CheckCircle, Clock, RefreshCw, X } from 'lucide-react';\r\n\r\ninterface NormalizationOperation {\r\n  _id: string;\r\n  operation_type: string;\r\n  status: 'success' | 'failed' | 'in_progress' | 'cancelled';\r\n  details: {\r\n    source_collection?: string;\r\n    target_collection?: string;\r\n    documents_processed?: number;\r\n    errors?: string[];\r\n    warnings?: string[];\r\n    processing_time?: number;\r\n    memory_usage?: number;\r\n  };\r\n  timestamp: string;\r\n  user: string;\r\n  rollback_available?: boolean;\r\n  rollback_status?: 'available' | 'completed' | 'failed' | 'not_available';\r\n}\r\n\r\ninterface NormalizationHistoryProps {\r\n  config: any;\r\n}\r\n\r\nconst NormalizationHistory: React.FC<NormalizationHistoryProps> = ({ config }) => {\r\n  const [operations, setOperations] = useState<NormalizationOperation[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedOperation, setSelectedOperation] = useState<NormalizationOperation | null>(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    status: 'all',\r\n    operation_type: 'all',\r\n    date_range: '7d',\r\n    user: 'all'\r\n  });\r\n  const [rollbackLoading, setRollbackLoading] = useState<string | null>(null);\r\n\r\n  // Fetch normalization history\r\n  const fetchHistory = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/normalization-history?limit=100');\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Simulate additional operations for demonstration\r\n        const simulatedOperations: NormalizationOperation[] = [\r\n          ...data.history,\r\n          {\r\n            _id: 'sim_1',\r\n            operation_type: 'statute_name_normalization',\r\n            status: 'success',\r\n            details: {\r\n              source_collection: 'raw_statutes',\r\n              target_collection: 'normalized_statutes',\r\n              documents_processed: 1250,\r\n              processing_time: 45,\r\n              memory_usage: 256\r\n            },\r\n            timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n            user: 'admin',\r\n            rollback_available: true,\r\n            rollback_status: 'available'\r\n          },\r\n          {\r\n            _id: 'sim_2',\r\n            operation_type: 'structure_cleaning',\r\n            status: 'success',\r\n            details: {\r\n              source_collection: 'normalized_statutes',\r\n              target_collection: 'cleaned_statutes',\r\n              documents_processed: 1250,\r\n              processing_time: 32,\r\n              memory_usage: 198\r\n            },\r\n            timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\r\n            user: 'admin',\r\n            rollback_available: true,\r\n            rollback_status: 'available'\r\n          },\r\n          {\r\n            _id: 'sim_3',\r\n            operation_type: 'alphabetical_sorting',\r\n            status: 'in_progress',\r\n            details: {\r\n              source_collection: 'cleaned_statutes',\r\n              target_collection: 'sorted_statutes',\r\n              documents_processed: 800,\r\n              processing_time: 28,\r\n              memory_usage: 245\r\n            },\r\n            timestamp: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),\r\n            user: 'admin',\r\n            rollback_available: false,\r\n            rollback_status: 'not_available'\r\n          }\r\n        ];\r\n        setOperations(simulatedOperations);\r\n      } else {\r\n        console.error('Failed to fetch normalization history');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching normalization history:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Rollback operation\r\n  const rollbackOperation = async (operationId: string) => {\r\n    setRollbackLoading(operationId);\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/rollback', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ operation_id: operationId })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Update operation status\r\n        setOperations(prev => prev.map(op => \r\n          op._id === operationId \r\n            ? { ...op, rollback_status: 'completed' as const }\r\n            : op\r\n        ));\r\n        \r\n        // Refresh history\r\n        fetchHistory();\r\n      } else {\r\n        console.error('Rollback failed:', data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during rollback:', error);\r\n    } finally {\r\n      setRollbackLoading(null);\r\n    }\r\n  };\r\n\r\n  // Get status color\r\n  const getStatusColor = (status: string) => {\r\n    const colors: { [key: string]: string } = {\r\n      'success': 'bg-green-100 text-green-800',\r\n      'failed': 'bg-red-100 text-red-800',\r\n      'in_progress': 'bg-blue-100 text-blue-800',\r\n      'cancelled': 'bg-gray-100 text-gray-800'\r\n    };\r\n    return colors[status] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  // Get operation type icon\r\n  const getOperationIcon = (type: string) => {\r\n    const icons: { [key: string]: React.ReactNode } = {\r\n      'statute_name_normalization': <Activity className=\"h-5 w-5\" />,\r\n      'structure_cleaning': <RotateCcw className=\"h-5 w-5\" />,\r\n      'alphabetical_sorting': <History className=\"h-5 w-5\" />,\r\n      'full_normalization': <Activity className=\"h-5 w-5\" />\r\n    };\r\n    return icons[type] || <Activity className=\"h-5 w-5\" />;\r\n  };\r\n\r\n  // Get operation type display name\r\n  const getOperationDisplayName = (type: string) => {\r\n    const names: { [key: string]: string } = {\r\n      'statute_name_normalization': 'Statute Name Normalization',\r\n      'structure_cleaning': 'Structure Cleaning',\r\n      'alphabetical_sorting': 'Alphabetical Sorting',\r\n      'full_normalization': 'Full Normalization'\r\n    };\r\n    return names[type] || type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n  };\r\n\r\n  // Filter operations\r\n  const filteredOperations = operations.filter(operation => {\r\n    if (filters.status !== 'all' && operation.status !== filters.status) return false;\r\n    if (filters.operation_type !== 'all' && operation.operation_type !== filters.operation_type) return false;\r\n    if (filters.user !== 'all' && operation.user !== filters.user) return false;\r\n    \r\n    // Date range filtering\r\n    const operationDate = new Date(operation.timestamp);\r\n    const now = new Date();\r\n    const diffInDays = (now.getTime() - operationDate.getTime()) / (1000 * 60 * 60 * 24);\r\n    \r\n    switch (filters.date_range) {\r\n      case '1d': if (diffInDays > 1) return false; break;\r\n      case '7d': if (diffInDays > 7) return false; break;\r\n      case '30d': if (diffInDays > 30) return false; break;\r\n      case '90d': if (diffInDays > 90) return false; break;\r\n    }\r\n    \r\n    return true;\r\n  });\r\n\r\n  // Export history\r\n  const exportHistory = () => {\r\n    const csvContent = [\r\n      ['Operation Type', 'Status', 'User', 'Timestamp', 'Documents Processed', 'Processing Time', 'Memory Usage'],\r\n      ...filteredOperations.map(op => [\r\n        getOperationDisplayName(op.operation_type),\r\n        op.status,\r\n        op.user,\r\n        new Date(op.timestamp).toLocaleString(),\r\n        op.details.documents_processed || 0,\r\n        op.details.processing_time || 0,\r\n        op.details.memory_usage || 0\r\n      ])\r\n    ].map(row => row.join(',')).join('\\n');\r\n    \r\n    const blob = new Blob([csvContent], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `normalization_history_${new Date().toISOString().split('T')[0]}.csv`;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, [fetchHistory]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Normalization History</h3>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Track all normalization operations, audit trail, and rollback capabilities\r\n          </p>\r\n        </div>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={exportHistory}\r\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n          >\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export CSV\r\n          </button>\r\n          <button\r\n            onClick={fetchHistory}\r\n            disabled={loading}\r\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\r\n          >\r\n            <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h4 className=\"text-lg font-medium text-gray-900\">Filters</h4>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Filter operations by status, type, date range, and user\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\r\n              <select\r\n                value={filters.status}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"all\">All Statuses</option>\r\n                <option value=\"success\">Success</option>\r\n                <option value=\"failed\">Failed</option>\r\n                <option value=\"in_progress\">In Progress</option>\r\n                <option value=\"cancelled\">Cancelled</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Operation Type</label>\r\n              <select\r\n                value={filters.operation_type}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, operation_type: e.target.value }))}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"all\">All Types</option>\r\n                <option value=\"statute_name_normalization\">Statute Name Normalization</option>\r\n                <option value=\"structure_cleaning\">Structure Cleaning</option>\r\n                <option value=\"alphabetical_sorting\">Alphabetical Sorting</option>\r\n                <option value=\"full_normalization\">Full Normalization</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date Range</label>\r\n              <select\r\n                value={filters.date_range}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, date_range: e.target.value }))}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"1d\">Last 24 Hours</option>\r\n                <option value=\"7d\">Last 7 Days</option>\r\n                <option value=\"30d\">Last 30 Days</option>\r\n                <option value=\"90d\">Last 90 Days</option>\r\n                <option value=\"all\">All Time</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">User</label>\r\n              <select\r\n                value={filters.user}\r\n                onChange={(e) => setFilters(prev => ({ ...prev, user: e.target.value }))}\r\n                className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                <option value=\"all\">All Users</option>\r\n                <option value=\"admin\">Admin</option>\r\n                <option value=\"system\">System</option>\r\n                <option value=\"user\">User</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Operations List */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h4 className=\"text-lg font-medium text-gray-900\">Operations History</h4>\r\n              <p className=\"text-sm text-gray-600\">\r\n                {filteredOperations.length} operations found\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {loading ? (\r\n          <div className=\"p-8 text-center\">\r\n            <RefreshCw className=\"h-8 w-8 text-gray-400 mx-auto mb-4 animate-spin\" />\r\n            <p className=\"text-gray-600\">Loading operations history...</p>\r\n          </div>\r\n        ) : filteredOperations.length === 0 ? (\r\n          <div className=\"p-8 text-center\">\r\n            <History className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <p className=\"text-gray-600\">No operations found matching the current filters</p>\r\n            <p className=\"text-sm text-gray-500\">Try adjusting your filter criteria</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-hidden\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Operation\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Status\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    User\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Timestamp\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Details\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {filteredOperations.map((operation) => (\r\n                  <tr key={operation._id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0 h-8 w-8 bg-gray-100 rounded-lg flex items-center justify-center\">\r\n                          {getOperationIcon(operation.operation_type)}\r\n                        </div>\r\n                        <div className=\"ml-3\">\r\n                          <div className=\"text-sm font-medium text-gray-900\">\r\n                            {getOperationDisplayName(operation.operation_type)}\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            {operation.details.documents_processed || 0} documents\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(operation.status)}`}>\r\n                        {operation.status.replace('_', ' ')}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <User className=\"h-4 w-4 text-gray-400 mr-2\" />\r\n                        <span className=\"text-sm text-gray-900\">{operation.user}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <Calendar className=\"h-4 w-4 text-gray-400 mr-2\" />\r\n                        <span className=\"text-sm text-gray-900\">\r\n                          {new Date(operation.timestamp).toLocaleString()}\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        <div>Time: {operation.details.processing_time || 0}s</div>\r\n                        <div>Memory: {operation.details.memory_usage || 0}MB</div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <div className=\"flex space-x-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            setSelectedOperation(operation);\r\n                            setShowDetails(true);\r\n                          }}\r\n                          className=\"text-primary-600 hover:text-primary-900\"\r\n                        >\r\n                          <Eye className=\"h-4 w-4\" />\r\n                        </button>\r\n                        \r\n                        {operation.rollback_available && operation.rollback_status === 'available' && (\r\n                          <button\r\n                            onClick={() => rollbackOperation(operation._id)}\r\n                            disabled={rollbackLoading === operation._id}\r\n                            className=\"text-red-600 hover:text-red-900 disabled:opacity-50\"\r\n                          >\r\n                            <RotateCcw className={`h-4 w-4 ${rollbackLoading === operation._id ? 'animate-spin' : ''}`} />\r\n                          </button>\r\n                        )}\r\n                        \r\n                        {operation.rollback_status === 'completed' && (\r\n                          <span className=\"text-green-600\">\r\n                            <CheckCircle className=\"h-4 w-4\" />\r\n                          </span>\r\n                        )}\r\n                        \r\n                        {operation.rollback_status === 'failed' && (\r\n                          <span className=\"text-red-600\">\r\n                            <AlertTriangle className=\"h-4 w-4\" />\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Operation Details Modal */}\r\n      {showDetails && selectedOperation && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">\r\n                Operation Details: {getOperationDisplayName(selectedOperation.operation_type)}\r\n              </h3>\r\n              <button\r\n                onClick={() => setShowDetails(false)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <X className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Status</label>\r\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(selectedOperation.status)}`}>\r\n                    {selectedOperation.status.replace('_', ' ')}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">User</label>\r\n                  <span className=\"text-sm text-gray-900\">{selectedOperation.user}</span>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Timestamp</label>\r\n                  <span className=\"text-sm text-gray-900\">\r\n                    {new Date(selectedOperation.timestamp).toLocaleString()}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Documents Processed</label>\r\n                  <span className=\"text-sm text-gray-900\">\r\n                    {selectedOperation.details.documents_processed || 0}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Details</label>\r\n                <div className=\"bg-gray-50 rounded-lg p-3 text-sm\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Source Collection:</span>\r\n                      <span className=\"ml-2 text-gray-900\">{selectedOperation.details.source_collection || 'N/A'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Target Collection:</span>\r\n                      <span className=\"ml-2 text-gray-900\">{selectedOperation.details.target_collection || 'N/A'}</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Processing Time:</span>\r\n                      <span className=\"ml-2 text-gray-900\">{selectedOperation.details.processing_time || 0}s</span>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-gray-600\">Memory Usage:</span>\r\n                      <span className=\"ml-2 text-gray-900\">{selectedOperation.details.memory_usage || 0}MB</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {selectedOperation.details.errors && selectedOperation.details.errors.length > 0 && (\r\n                    <div className=\"mt-3\">\r\n                      <span className=\"text-red-600 font-medium\">Errors:</span>\r\n                      <ul className=\"mt-1 text-red-600\">\r\n                        {selectedOperation.details.errors.map((error, index) => (\r\n                          <li key={index} className=\"text-sm\">• {error}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {selectedOperation.details.warnings && selectedOperation.details.warnings.length > 0 && (\r\n                    <div className=\"mt-3\">\r\n                      <span className=\"text-yellow-600 font-medium\">Warnings:</span>\r\n                      <ul className=\"mt-1 text-yellow-600\">\r\n                        {selectedOperation.details.warnings.map((warning, index) => (\r\n                          <li key={index} className=\"text-sm\">• {warning}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end space-x-3 pt-4 border-t\">\r\n                <button\r\n                  onClick={() => setShowDetails(false)}\r\n                  className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n                >\r\n                  Close\r\n                </button>\r\n                \r\n                {selectedOperation.rollback_available && selectedOperation.rollback_status === 'available' && (\r\n                  <button\r\n                    onClick={() => {\r\n                      rollbackOperation(selectedOperation._id);\r\n                      setShowDetails(false);\r\n                    }}\r\n                    disabled={rollbackLoading === selectedOperation._id}\r\n                    className=\"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50\"\r\n                  >\r\n                    <RotateCcw className={`h-4 w-4 mr-2 inline ${rollbackLoading === selectedOperation._id ? 'animate-spin' : ''}`} />\r\n                    Rollback\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Summary */}\r\n      <div className=\"bg-gray-50 rounded-lg p-4\">\r\n        <h4 className=\"text-sm font-medium text-gray-900 mb-2\">History Summary</h4>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\r\n          <div>\r\n            <span className=\"text-gray-600\">Total Operations:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">{operations.length}</span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Successful:</span>\r\n            <span className=\"ml-2 font-medium text-green-600\">\r\n              {operations.filter(op => op.status === 'success').length}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Failed:</span>\r\n            <span className=\"ml-2 font-medium text-red-600\">\r\n              {operations.filter(op => op.status === 'failed').length}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Rollback Available:</span>\r\n            <span className=\"ml-2 font-medium text-blue-600\">\r\n              {operations.filter(op => op.rollback_available).length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NormalizationHistory;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}