{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Database,Activity,Play,Square,Download,CheckCircle,Clock,FileText,Zap,Settings,BarChart3}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Phase4Dashboard=()=>{var _status$total_documen;const[status,setStatus]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('configuration');// Processing Configuration State\nconst[processingMode,setProcessingMode]=useState('all');const[selectedBatch,setSelectedBatch]=useState('');const[collectionPrefix,setCollectionPrefix]=useState('batch');const[availableBatches,setAvailableBatches]=useState([]);// Additional configuration state\nconst[sourceDb,setSourceDb]=useState('Batched-Statutes');const[sourceCollection,setSourceCollection]=useState('');const[targetDb,setTargetDb]=useState('Date-Enriched-Batches');const[batchSize,setBatchSize]=useState(100);const[dryRun,setDryRun]=useState(false);const[testConnStatus,setTestConnStatus]=useState('idle');const[testConnMessage,setTestConnMessage]=useState('');// Processing State\nconst[isProcessing,setIsProcessing]=useState(false);const[progress,setProgress]=useState(null);const[processingComplete,setProcessingComplete]=useState(false);useEffect(()=>{fetchStatus();fetchAvailableBatches();loadConfig();},[]);// Auto-select first available batch when switching to single mode\nuseEffect(()=>{if(processingMode==='single'&&availableBatches.length>0&&!selectedBatch){setSelectedBatch(availableBatches[0]);}},[processingMode,availableBatches,selectedBatch]);const loadConfig=()=>{try{var _cfg$dryRun;const raw=localStorage.getItem('phase4_config');if(!raw)return;const cfg=JSON.parse(raw);setSourceDb(cfg.sourceDb||'Batched-Statutes');setSourceCollection(cfg.sourceCollection||'');setTargetDb(cfg.targetDb||'Date-Enriched-Batches');setCollectionPrefix(cfg.collectionPrefix||'batch');setBatchSize(cfg.batchSize||100);setDryRun((_cfg$dryRun=cfg.dryRun)!==null&&_cfg$dryRun!==void 0?_cfg$dryRun:false);}catch(e){console.error('Failed to load Phase4 config',e);}};const handleSaveConfig=()=>{const cfg={sourceDb,sourceCollection,targetDb,collectionPrefix,batchSize,dryRun};try{localStorage.setItem('phase4_config',JSON.stringify(cfg));// small feedback - keep it minimal\nconsole.info('Phase4 configuration saved');}catch(e){console.error('Failed to save config',e);}};const handleResetConfig=()=>{setSourceDb('Batched-Statutes');setSourceCollection('');setTargetDb('Date-Enriched-Batches');setCollectionPrefix('batch');setBatchSize(100);setDryRun(false);localStorage.removeItem('phase4_config');};const handleTestConnection=async()=>{setTestConnStatus('testing');setTestConnMessage('Testing connection...');try{const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');const headers={'Content-Type':'application/json'};if(token)headers['Authorization']=\"Bearer \".concat(token);const body={connection_string:\"\",database_name:sourceDb,test_connection:true};const res=await fetch('/api/v1/database/connect',{method:'POST',headers,body:JSON.stringify(body)});const data=await res.json();if(res.ok&&data.success){var _data$data$collection,_data$data;setTestConnStatus('success');setTestConnMessage('Connection OK â€” '+((_data$data$collection=(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.collection_count)!==null&&_data$data$collection!==void 0?_data$data$collection:'unknown')+' collections');}else{setTestConnStatus('error');setTestConnMessage(data.detail||data.error||'Connection failed');}}catch(e){setTestConnStatus('error');setTestConnMessage(e.message||String(e));}};const fetchStatus=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const res=await fetch('/api/v1/phase4/status',{headers});const data=await res.json();if(data.success){setStatus(data);}setLoading(false);}catch(e){console.error(e);setError('Failed to fetch status');setLoading(false);}};const fetchAvailableBatches=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const res=await fetch('/api/v1/phase4/available-batches',{headers});const data=await res.json();if(data.success){var _data$batches;setAvailableBatches(data.batches||[]);if(((_data$batches=data.batches)===null||_data$batches===void 0?void 0:_data$batches.length)>0&&!selectedBatch){setSelectedBatch(data.batches[0]);}}}catch(e){console.error('Failed to fetch available batches:',e);}};const handleStartProcessing=async()=>{try{setIsProcessing(true);setProcessingComplete(false);setProgress(null);setActiveTab('processing');// Auto-navigate to processing tab\nconst headers={'Content-Type':'application/json'};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const requestBody={processing_mode:processingMode,selected_batch:processingMode==='single'?selectedBatch:null,collection_prefix:collectionPrefix};const response=await fetch('/api/v1/phase4/start-processing',{method:'POST',headers,body:JSON.stringify(requestBody)});if(response.ok){// Start listening for progress updates\nconst eventSource=new EventSource('/api/v1/phase4/processing-progress');eventSource.onmessage=event=>{const data=JSON.parse(event.data);setProgress(data);if(data.status==='completed'){setIsProcessing(false);setProcessingComplete(true);setActiveTab('results');// Auto-navigate to results tab when completed\neventSource.close();fetchStatus();}else if(data.status==='error'){var _data$log_messages;setIsProcessing(false);eventSource.close();setError('Processing failed: '+((_data$log_messages=data.log_messages)===null||_data$log_messages===void 0?void 0:_data$log_messages.slice(-1)[0]));}};eventSource.onerror=()=>{setIsProcessing(false);eventSource.close();setError('Connection to progress stream lost');};}else{setIsProcessing(false);setError('Failed to start processing');}}catch(error){console.error('Failed to start processing:',error);setIsProcessing(false);setError('Failed to start processing');}};const handleStopProcessing=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);await fetch('/api/v1/phase4/stop-processing',{method:'POST',headers});setIsProcessing(false);setProgress(null);}catch(error){console.error('Failed to stop processing:',error);}};const handleExportResults=async()=>{try{const headers={};const token=localStorage.getItem('access_token')||sessionStorage.getItem('access_token');if(token)headers['Authorization']=\"Bearer \".concat(token);const response=await fetch('/api/v1/phase4/export-results',{headers});if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"phase4_date_processed_results_\".concat(new Date().toISOString().split('T')[0],\".xlsx\");document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);}}catch(error){console.error('Failed to export results:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-red-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-700\",children:error})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Database,{className:\"h-8 w-8 text-blue-600 mr-3\"}),\"Phase 4: Enhanced Date Processing\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Consolidate date fields and extract missing dates using AI assistance\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:(status===null||status===void 0?void 0:status.database_info)&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Target Database\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"Date-Enriched-Batches\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"-mb-px flex space-x-8\",\"aria-label\":\"Tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('configuration'),className:\"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm \".concat(activeTab==='configuration'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 inline mr-2\"}),\"Configuration\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('processing'),className:\"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm \".concat(activeTab==='processing'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 inline mr-2\"}),\"Processing\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('results'),className:\"whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm \".concat(activeTab==='results'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 inline mr-2\"}),\"Results & Export\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='configuration'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-5 w-5 text-gray-600 mr-2\"}),\"Configuration\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Source Database\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sourceDb,onChange:e=>setSourceDb(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTestConnection,className:\"px-3 py-2 bg-blue-600 text-white rounded-md\",children:\"Test\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Click Test to verify backend connection to the configured backend MongoDB (backend config is used).\"}),testConnStatus!=='idle'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm \".concat(testConnStatus==='success'?'text-green-700':'text-red-700'),children:testConnMessage})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Source Collection (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sourceCollection,onChange:e=>setSourceCollection(e.target.value),placeholder:\"leave empty to use all batch_* collections\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Target Database\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:targetDb,onChange:e=>setTargetDb(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Processing Mode\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"all\",checked:processingMode==='all',onChange:e=>setProcessingMode(e.target.value),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Process All Batches\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"single\",checked:processingMode==='single',onChange:e=>setProcessingMode(e.target.value),className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Process Single Batch\"})]})]})]}),processingMode==='single'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select Batch\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedBatch,onChange:e=>setSelectedBatch(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\",children:availableBatches.map(batch=>/*#__PURE__*/_jsx(\"option\",{value:batch,children:batch},batch))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Target Collection Prefix\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:collectionPrefix,onChange:e=>setCollectionPrefix(e.target.value),placeholder:\"e.g., batch, filled, processed\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Output collections will be named: \",collectionPrefix,\"_1, \",collectionPrefix,\"_2, etc.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Batch Size\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:batchSize,onChange:e=>setBatchSize(Number(e.target.value)||1),min:1,className:\"w-full px-3 py-2 border border-gray-300 rounded-md\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Number of documents to process per chunk (performance tuning).\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 border-l pl-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center text-sm font-medium text-gray-700 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:dryRun,onChange:e=>setDryRun(e.target.checked),className:\"mr-2\"}),\"Dry Run (do not write to target DB)\"]})})]}),availableBatches.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Available Source Batches:\"}),\" \",availableBatches.join(', ')]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveConfig,className:\"px-4 py-2 bg-gray-100 rounded-md border\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetConfig,className:\"px-4 py-2 bg-white rounded-md border\",children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('processing'),disabled:processingMode==='single'&&!selectedBatch,className:\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\",children:[\"Next: Start Processing\",/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4 ml-2\"})]})]})]})]}),activeTab==='processing'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Activity,{className:\"h-5 w-5 text-gray-600 mr-2\"}),\"Processing Control\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[!isProcessing?/*#__PURE__*/_jsxs(\"button\",{onClick:handleStartProcessing,disabled:processingMode==='single'&&!selectedBatch,className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-4 w-4 mr-2\"}),\"Start Processing\"]}):/*#__PURE__*/_jsxs(\"button\",{onClick:handleStopProcessing,className:\"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\",children:[/*#__PURE__*/_jsx(Square,{className:\"h-4 w-4 mr-2\"}),\"Stop Processing\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2 text-sm text-gray-600\",children:isProcessing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 text-orange-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Processing...\"})]}):processingComplete?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-500\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Completed\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Activity,{className:\"h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Ready\"})]})})]}),(isProcessing||progress)&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:progress&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Overall Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[progress.documents_processed,\"/\",progress.total_documents,\" documents\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(progress.overall_progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-xs text-gray-500 mt-1\",children:[progress.overall_progress.toFixed(1),\"%\"]})]}),progress.current_batch&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[\"Current Batch: \",progress.current_batch]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[progress.current_batch_progress.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(progress.current_batch_progress,\"%\")}})})]}),progress.current_document&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 text-gray-500 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Processing:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700 ml-2 truncate\",children:progress.current_document})]})}),progress.batch_summary&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-800\",children:\"Completed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:progress.batch_summary.completed_batches.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-600\",children:progress.batch_summary.completed_batches.slice(-3).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800\",children:\"Current\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-900\",children:progress.batch_summary.current_batch||'None'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-800\",children:\"Remaining\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-gray-900\",children:progress.batch_summary.remaining_batches.length})]})]})]})}),(progress===null||progress===void 0?void 0:progress.log_messages)&&progress.log_messages.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-md font-semibold mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-4 w-4 text-gray-600 mr-2\"}),\"Live Processing Log\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg max-h-64 overflow-y-auto\",children:progress.log_messages.slice(-20).map((message,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:message},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('configuration'),className:\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Back to Configuration\"}),processingComplete&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('results'),className:\"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\",children:[\"View Results\",/*#__PURE__*/_jsx(BarChart3,{className:\"h-4 w-4 ml-2\"})]})]})]}),activeTab==='results'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"h-5 w-5 text-gray-600 mr-2\"}),\"Results & Export\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-green-800\",children:\"Processing Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-700 mt-1\",children:\"Your date enrichment processing has finished successfully. You can now export the results.\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExportResults,className:\"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-5 w-5 mr-2\"}),\"Export to Excel\"]})]})}),status&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold mb-3\",children:\"Processing Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800\",children:\"Current Phase\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-900\",children:status.current_phase})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-800\",children:\"Total Documents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:((_status$total_documen=status.total_documents)===null||_status$total_documen===void 0?void 0:_status$total_documen.toLocaleString())||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-purple-800\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-purple-900\",children:status.status})]})]})]}),(progress===null||progress===void 0?void 0:progress.batch_summary)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-semibold mb-3\",children:\"Batch Processing Results\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-green-800\",children:\"Completed Batches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-green-900\",children:progress.batch_summary.completed_batches.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-green-600 mt-2\",children:progress.batch_summary.completed_batches.join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-blue-800\",children:\"Documents Processed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-bold text-blue-900\",children:progress.documents_processed.toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-purple-800\",children:\"Success Rate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold text-purple-900\",children:[progress.overall_progress.toFixed(1),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('processing'),className:\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Back to Processing\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setActiveTab('configuration');setProcessingComplete(false);setProgress(null);},className:\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Start New Processing\"})]})]})]})]})]});};export default Phase4Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Database","Activity","Play","Square","Download","CheckCircle","Clock","FileText","Zap","Settings","BarChart3","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Phase4Dashboard","_status$total_documen","status","setStatus","loading","setLoading","error","setError","activeTab","setActiveTab","processingMode","setProcessingMode","selectedBatch","setSelectedBatch","collectionPrefix","setCollectionPrefix","availableBatches","setAvailableBatches","sourceDb","setSourceDb","sourceCollection","setSourceCollection","targetDb","setTargetDb","batchSize","setBatchSize","dryRun","setDryRun","testConnStatus","setTestConnStatus","testConnMessage","setTestConnMessage","isProcessing","setIsProcessing","progress","setProgress","processingComplete","setProcessingComplete","fetchStatus","fetchAvailableBatches","loadConfig","length","_cfg$dryRun","raw","localStorage","getItem","cfg","JSON","parse","e","console","handleSaveConfig","setItem","stringify","info","handleResetConfig","removeItem","handleTestConnection","token","sessionStorage","headers","concat","body","connection_string","database_name","test_connection","res","fetch","method","data","json","ok","success","_data$data$collection","_data$data","collection_count","detail","message","String","_data$batches","batches","handleStartProcessing","requestBody","processing_mode","selected_batch","collection_prefix","response","eventSource","EventSource","onmessage","event","close","_data$log_messages","log_messages","slice","onerror","handleStopProcessing","handleExportResults","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","split","appendChild","click","revokeObjectURL","removeChild","className","children","database_info","onClick","type","value","onChange","target","placeholder","checked","map","batch","Number","min","join","disabled","documents_processed","total_documents","style","width","overall_progress","toFixed","current_batch","current_batch_progress","current_document","batch_summary","completed_batches","remaining_batches","index","current_phase","toLocaleString"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/Phase4Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Database,\r\n  Activity,\r\n  Play,\r\n  Square,\r\n  Download,\r\n  CheckCircle,\r\n  Clock,\r\n  FileText,\r\n  Zap,\r\n  Settings,\r\n  BarChart3\r\n} from 'lucide-react';\r\n\r\ninterface Phase4Status {\r\n  current_phase: string;\r\n  total_documents?: number;\r\n  processed_documents?: number;\r\n  status: string;\r\n  available_batches?: string[];\r\n  database_info?: {\r\n    source_db: string;\r\n    target_db: string;\r\n    collections_count: number;\r\n  };\r\n}\r\n\r\ninterface ProcessingProgress {\r\n  overall_progress: number;\r\n  current_batch_progress: number;\r\n  current_document: string;\r\n  current_batch: string;\r\n  documents_processed: number;\r\n  total_documents: number;\r\n  status: string;\r\n  log_messages: string[];\r\n  batch_summary?: {\r\n    completed_batches: string[];\r\n    current_batch: string;\r\n    remaining_batches: string[];\r\n  };\r\n}\r\n\r\nconst Phase4Dashboard: React.FC = () => {\r\n  const [status, setStatus] = useState<Phase4Status | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'configuration' | 'processing' | 'results'>('configuration');\r\n\r\n  // Processing Configuration State\r\n  const [processingMode, setProcessingMode] = useState<'single' | 'all'>('all');\r\n  const [selectedBatch, setSelectedBatch] = useState<string>('');\r\n  const [collectionPrefix, setCollectionPrefix] = useState('batch');\r\n  const [availableBatches, setAvailableBatches] = useState<string[]>([]);\r\n  // Additional configuration state\r\n  const [sourceDb, setSourceDb] = useState('Batched-Statutes');\r\n  const [sourceCollection, setSourceCollection] = useState('');\r\n  const [targetDb, setTargetDb] = useState('Date-Enriched-Batches');\r\n  const [batchSize, setBatchSize] = useState<number>(100);\r\n  const [dryRun, setDryRun] = useState<boolean>(false);\r\n  const [testConnStatus, setTestConnStatus] = useState<'idle' | 'testing' | 'success' | 'error'>('idle');\r\n  const [testConnMessage, setTestConnMessage] = useState<string>('');\r\n  \r\n  // Processing State\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [progress, setProgress] = useState<ProcessingProgress | null>(null);\r\n  const [processingComplete, setProcessingComplete] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchStatus();\r\n    fetchAvailableBatches();\r\n    loadConfig();\r\n  }, []);\r\n\r\n  // Auto-select first available batch when switching to single mode\r\n  useEffect(() => {\r\n    if (processingMode === 'single' && availableBatches.length > 0 && !selectedBatch) {\r\n      setSelectedBatch(availableBatches[0]);\r\n    }\r\n  }, [processingMode, availableBatches, selectedBatch]);\r\n\r\n  const loadConfig = () => {\r\n    try {\r\n      const raw = localStorage.getItem('phase4_config');\r\n      if (!raw) return;\r\n      const cfg = JSON.parse(raw);\r\n      setSourceDb(cfg.sourceDb || 'Batched-Statutes');\r\n      setSourceCollection(cfg.sourceCollection || '');\r\n      setTargetDb(cfg.targetDb || 'Date-Enriched-Batches');\r\n      setCollectionPrefix(cfg.collectionPrefix || 'batch');\r\n      setBatchSize(cfg.batchSize || 100);\r\n      setDryRun(cfg.dryRun ?? false);\r\n    } catch (e) {\r\n      console.error('Failed to load Phase4 config', e);\r\n    }\r\n  };\r\n\r\n  const handleSaveConfig = () => {\r\n    const cfg = {\r\n      sourceDb,\r\n      sourceCollection,\r\n      targetDb,\r\n      collectionPrefix,\r\n      batchSize,\r\n      dryRun\r\n    };\r\n    try {\r\n      localStorage.setItem('phase4_config', JSON.stringify(cfg));\r\n      // small feedback - keep it minimal\r\n      console.info('Phase4 configuration saved');\r\n    } catch (e) {\r\n      console.error('Failed to save config', e);\r\n    }\r\n  };\r\n\r\n  const handleResetConfig = () => {\r\n    setSourceDb('Batched-Statutes');\r\n    setSourceCollection('');\r\n    setTargetDb('Date-Enriched-Batches');\r\n    setCollectionPrefix('batch');\r\n    setBatchSize(100);\r\n    setDryRun(false);\r\n    localStorage.removeItem('phase4_config');\r\n  };\r\n\r\n  const handleTestConnection = async () => {\r\n    setTestConnStatus('testing');\r\n    setTestConnMessage('Testing connection...');\r\n    try {\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n\r\n      const body = {\r\n        connection_string: \"\",\r\n        database_name: sourceDb,\r\n        test_connection: true\r\n      };\r\n\r\n      const res = await fetch('/api/v1/database/connect', {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.ok && data.success) {\r\n        setTestConnStatus('success');\r\n        setTestConnMessage('Connection OK â€” ' + (data.data?.collection_count ?? 'unknown') + ' collections');\r\n      } else {\r\n        setTestConnStatus('error');\r\n        setTestConnMessage(data.detail || data.error || 'Connection failed');\r\n      }\r\n    } catch (e: any) {\r\n      setTestConnStatus('error');\r\n      setTestConnMessage(e.message || String(e));\r\n    }\r\n  };\r\n\r\n  const fetchStatus = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const res = await fetch('/api/v1/phase4/status', { headers });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        setStatus(data);\r\n      }\r\n      setLoading(false);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setError('Failed to fetch status');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAvailableBatches = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const res = await fetch('/api/v1/phase4/available-batches', { headers });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        setAvailableBatches(data.batches || []);\r\n        if (data.batches?.length > 0 && !selectedBatch) {\r\n          setSelectedBatch(data.batches[0]);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to fetch available batches:', e);\r\n    }\r\n  };\r\n\r\n  const handleStartProcessing = async () => {\r\n    try {\r\n      setIsProcessing(true);\r\n      setProcessingComplete(false);\r\n      setProgress(null);\r\n      setActiveTab('processing'); // Auto-navigate to processing tab\r\n      \r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const requestBody = {\r\n        processing_mode: processingMode,\r\n        selected_batch: processingMode === 'single' ? selectedBatch : null,\r\n        collection_prefix: collectionPrefix\r\n      };\r\n      \r\n      const response = await fetch('/api/v1/phase4/start-processing', {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify(requestBody)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        // Start listening for progress updates\r\n        const eventSource = new EventSource('/api/v1/phase4/processing-progress');\r\n        eventSource.onmessage = (event) => {\r\n          const data: ProcessingProgress = JSON.parse(event.data);\r\n          setProgress(data);\r\n          \r\n          if (data.status === 'completed') {\r\n            setIsProcessing(false);\r\n            setProcessingComplete(true);\r\n            setActiveTab('results'); // Auto-navigate to results tab when completed\r\n            eventSource.close();\r\n            fetchStatus();\r\n          } else if (data.status === 'error') {\r\n            setIsProcessing(false);\r\n            eventSource.close();\r\n            setError('Processing failed: ' + data.log_messages?.slice(-1)[0]);\r\n          }\r\n        };\r\n        \r\n        eventSource.onerror = () => {\r\n          setIsProcessing(false);\r\n          eventSource.close();\r\n          setError('Connection to progress stream lost');\r\n        };\r\n      } else {\r\n        setIsProcessing(false);\r\n        setError('Failed to start processing');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to start processing:', error);\r\n      setIsProcessing(false);\r\n      setError('Failed to start processing');\r\n    }\r\n  };\r\n\r\n  const handleStopProcessing = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      await fetch('/api/v1/phase4/stop-processing', {\r\n        method: 'POST',\r\n        headers\r\n      });\r\n      \r\n      setIsProcessing(false);\r\n      setProgress(null);\r\n    } catch (error) {\r\n      console.error('Failed to stop processing:', error);\r\n    }\r\n  };\r\n\r\n  const handleExportResults = async () => {\r\n    try {\r\n      const headers: any = {};\r\n      const token = localStorage.getItem('access_token') || sessionStorage.getItem('access_token');\r\n      if (token) headers['Authorization'] = `Bearer ${token}`;\r\n      \r\n      const response = await fetch('/api/v1/phase4/export-results', {\r\n        headers\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `phase4_date_processed_results_${new Date().toISOString().split('T')[0]}.xlsx`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to export results:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n        <div className=\"flex\">\r\n          <div className=\"flex-shrink-0\">\r\n            <CheckCircle className=\"h-5 w-5 text-red-400\" />\r\n          </div>\r\n          <div className=\"ml-3\">\r\n            <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\r\n            <p className=\"mt-1 text-sm text-red-700\">{error}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 flex items-center\">\r\n              <Database className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n              Phase 4: Enhanced Date Processing\r\n            </h2>\r\n            <p className=\"text-gray-600 mt-1\">\r\n              Consolidate date fields and extract missing dates using AI assistance\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            {status?.database_info && (\r\n              <div className=\"text-right\">\r\n                <p className=\"text-sm text-gray-500\">Target Database</p>\r\n                <p className=\"font-medium\">Date-Enriched-Batches</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex space-x-8\" aria-label=\"Tabs\">\r\n            <button\r\n              onClick={() => setActiveTab('configuration')}\r\n              className={`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${\r\n                activeTab === 'configuration'\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <Settings className=\"h-5 w-5 inline mr-2\" />\r\n              Configuration\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('processing')}\r\n              className={`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${\r\n                activeTab === 'processing'\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <Activity className=\"h-5 w-5 inline mr-2\" />\r\n              Processing\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('results')}\r\n              className={`whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm ${\r\n                activeTab === 'results'\r\n                  ? 'border-blue-500 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <BarChart3 className=\"h-5 w-5 inline mr-2\" />\r\n              Results & Export\r\n            </button>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div className=\"p-6\">\r\n          {activeTab === 'configuration' && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n                <Settings className=\"h-5 w-5 text-gray-600 mr-2\" />\r\n                Configuration\r\n              </h3>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  {/* Mongo URI removed - backend-managed */}\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Source Database</label>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <input type=\"text\" value={sourceDb} onChange={(e) => setSourceDb(e.target.value)} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                      <button onClick={handleTestConnection} className=\"px-3 py-2 bg-blue-600 text-white rounded-md\">Test</button>\r\n                    </div>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Click Test to verify backend connection to the configured backend MongoDB (backend config is used).</p>\r\n                    {testConnStatus !== 'idle' && (\r\n                      <div className={`mt-2 text-sm ${testConnStatus === 'success' ? 'text-green-700' : 'text-red-700'}`}>{testConnMessage}</div>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Source Collection (optional)</label>\r\n                    <input type=\"text\" value={sourceCollection} onChange={(e) => setSourceCollection(e.target.value)} placeholder=\"leave empty to use all batch_* collections\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Target Database</label>\r\n                    <input type=\"text\" value={targetDb} onChange={(e) => setTargetDb(e.target.value)} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {/* Processing Mode Selection */}\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-3\">Processing Mode</label>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"flex items-center\">\r\n                        <input type=\"radio\" value=\"all\" checked={processingMode === 'all'} onChange={(e) => setProcessingMode(e.target.value as 'single' | 'all')} className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\" />\r\n                        <span className=\"ml-2 text-sm text-gray-700\">Process All Batches</span>\r\n                      </label>\r\n                      <label className=\"flex items-center\">\r\n                        <input type=\"radio\" value=\"single\" checked={processingMode === 'single'} onChange={(e) => setProcessingMode(e.target.value as 'single' | 'all')} className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300\" />\r\n                        <span className=\"ml-2 text-sm text-gray-700\">Process Single Batch</span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Batch Selection (only when single mode) */}\r\n                  {processingMode === 'single' && (\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Batch</label>\r\n                      <select value={selectedBatch} onChange={(e) => setSelectedBatch(e.target.value)} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\">\r\n                        {availableBatches.map((batch) => (\r\n                          <option key={batch} value={batch}>{batch}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Collection Prefix */}\r\n                  <div className=\"md:col-span-2\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Target Collection Prefix</label>\r\n                    <input type=\"text\" value={collectionPrefix} onChange={(e) => setCollectionPrefix(e.target.value)} placeholder=\"e.g., batch, filled, processed\" className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Output collections will be named: {collectionPrefix}_1, {collectionPrefix}_2, etc.</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Batch Size</label>\r\n                    <input type=\"number\" value={batchSize} onChange={(e) => setBatchSize(Number(e.target.value) || 1)} min={1} className=\"w-full px-3 py-2 border border-gray-300 rounded-md\" />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Number of documents to process per chunk (performance tuning).</p>\r\n                  </div>\r\n\r\n                  <div className=\"md:col-span-2 border-l pl-4\">\r\n                    <label className=\"flex items-center text-sm font-medium text-gray-700 mb-2\">\r\n                      <input type=\"checkbox\" checked={dryRun} onChange={(e) => setDryRun(e.target.checked)} className=\"mr-2\" />\r\n                      Dry Run (do not write to target DB)\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Azure OpenAI config is backend-managed; UI fields removed */}\r\n\r\n                {/* Available Batches Info */}\r\n                {availableBatches.length > 0 && (\r\n                  <div className=\"mt-4 p-3 bg-blue-50 rounded-lg\">\r\n                    <p className=\"text-sm text-blue-800\"><strong>Available Source Batches:</strong> {availableBatches.join(', ')}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Buttons */}\r\n                <div className=\"flex justify-end space-x-4\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <button onClick={handleSaveConfig} className=\"px-4 py-2 bg-gray-100 rounded-md border\">Save</button>\r\n                    <button onClick={handleResetConfig} className=\"px-4 py-2 bg-white rounded-md border\">Reset</button>\r\n                  </div>\r\n\r\n                  <button onClick={() => setActiveTab('processing')} disabled={processingMode === 'single' && !selectedBatch} className=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\">\r\n                    Next: Start Processing\r\n                    <Play className=\"h-4 w-4 ml-2\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'processing' && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n                <Activity className=\"h-5 w-5 text-gray-600 mr-2\" />\r\n                Processing Control\r\n              </h3>\r\n              \r\n              <div className=\"flex items-center space-x-4\">\r\n                {!isProcessing ? (\r\n                  <button\r\n                    onClick={handleStartProcessing}\r\n                    disabled={processingMode === 'single' && !selectedBatch}\r\n                    className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <Play className=\"h-4 w-4 mr-2\" />\r\n                    Start Processing\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={handleStopProcessing}\r\n                    className=\"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\r\n                  >\r\n                    <Square className=\"h-4 w-4 mr-2\" />\r\n                    Stop Processing\r\n                  </button>\r\n                )}\r\n\r\n                <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\r\n                  {isProcessing ? (\r\n                    <>\r\n                      <Clock className=\"h-4 w-4 text-orange-500\" />\r\n                      <span>Processing...</span>\r\n                    </>\r\n                  ) : processingComplete ? (\r\n                    <>\r\n                      <CheckCircle className=\"h-4 w-4 text-green-500\" />\r\n                      <span>Completed</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Activity className=\"h-4 w-4 text-gray-400\" />\r\n                      <span>Ready</span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Progress Visualization */}\r\n              {(isProcessing || progress) && (\r\n                <div className=\"space-y-4\">\r\n                  {progress && (\r\n                    <div className=\"space-y-4\">\r\n                      {/* Overall Progress */}\r\n                      <div>\r\n                        <div className=\"flex justify-between items-center mb-2\">\r\n                          <span className=\"text-sm font-medium text-gray-700\">Overall Progress</span>\r\n                          <span className=\"text-sm text-gray-600\">\r\n                            {progress.documents_processed}/{progress.total_documents} documents\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                          <div\r\n                            className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                            style={{ width: `${progress.overall_progress}%` }}\r\n                          ></div>\r\n                        </div>\r\n                        <div className=\"text-right text-xs text-gray-500 mt-1\">\r\n                          {progress.overall_progress.toFixed(1)}%\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Current Batch Progress */}\r\n                      {progress.current_batch && (\r\n                        <div>\r\n                          <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"text-sm font-medium text-gray-700\">\r\n                              Current Batch: {progress.current_batch}\r\n                            </span>\r\n                            <span className=\"text-sm text-gray-600\">\r\n                              {progress.current_batch_progress.toFixed(1)}%\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                            <div\r\n                              className=\"bg-green-500 h-2 rounded-full transition-all duration-300\"\r\n                              style={{ width: `${progress.current_batch_progress}%` }}\r\n                            ></div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Current Document */}\r\n                      {progress.current_document && (\r\n                        <div className=\"bg-gray-50 rounded-lg p-3\">\r\n                          <div className=\"flex items-center\">\r\n                            <FileText className=\"h-4 w-4 text-gray-500 mr-2\" />\r\n                            <span className=\"text-sm font-medium\">Processing:</span>\r\n                            <span className=\"text-sm text-gray-700 ml-2 truncate\">\r\n                              {progress.current_document}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Batch Summary */}\r\n                      {progress.batch_summary && (\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4\">\r\n                          <div className=\"bg-green-50 p-3 rounded-lg\">\r\n                            <div className=\"text-sm font-medium text-green-800\">Completed</div>\r\n                            <div className=\"text-lg font-bold text-green-900\">\r\n                              {progress.batch_summary.completed_batches.length}\r\n                            </div>\r\n                            <div className=\"text-xs text-green-600\">\r\n                              {progress.batch_summary.completed_batches.slice(-3).join(', ')}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n                            <div className=\"text-sm font-medium text-blue-800\">Current</div>\r\n                            <div className=\"text-lg font-bold text-blue-900\">\r\n                              {progress.batch_summary.current_batch || 'None'}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n                            <div className=\"text-sm font-medium text-gray-800\">Remaining</div>\r\n                            <div className=\"text-lg font-bold text-gray-900\">\r\n                              {progress.batch_summary.remaining_batches.length}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Live Log */}\r\n              {progress?.log_messages && progress.log_messages.length > 0 && (\r\n                <div>\r\n                  <h4 className=\"text-md font-semibold mb-3 flex items-center\">\r\n                    <Zap className=\"h-4 w-4 text-gray-600 mr-2\" />\r\n                    Live Processing Log\r\n                  </h4>\r\n                  \r\n                  <div className=\"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg max-h-64 overflow-y-auto\">\r\n                    {progress.log_messages.slice(-20).map((message, index) => (\r\n                      <div key={index} className=\"mb-1\">\r\n                        {message}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation */}\r\n              <div className=\"flex justify-between\">\r\n                <button\r\n                  onClick={() => setActiveTab('configuration')}\r\n                  className=\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                >\r\n                  Back to Configuration\r\n                </button>\r\n                {processingComplete && (\r\n                  <button\r\n                    onClick={() => setActiveTab('results')}\r\n                    className=\"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\r\n                  >\r\n                    View Results\r\n                    <BarChart3 className=\"h-4 w-4 ml-2\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'results' && (\r\n            <div className=\"space-y-6\">\r\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\r\n                <BarChart3 className=\"h-5 w-5 text-gray-600 mr-2\" />\r\n                Results & Export\r\n              </h3>\r\n\r\n              {/* Export Controls */}\r\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h4 className=\"text-lg font-semibold text-green-800\">Processing Complete!</h4>\r\n                    <p className=\"text-green-700 mt-1\">\r\n                      Your date enrichment processing has finished successfully. You can now export the results.\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={handleExportResults}\r\n                    className=\"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold\"\r\n                  >\r\n                    <Download className=\"h-5 w-5 mr-2\" />\r\n                    Export to Excel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Status Summary */}\r\n              {status && (\r\n                <div>\r\n                  <h4 className=\"text-md font-semibold mb-3\">Processing Summary</h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-blue-800\">Current Phase</div>\r\n                      <div className=\"text-lg font-bold text-blue-900\">{status.current_phase}</div>\r\n                    </div>\r\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-green-800\">Total Documents</div>\r\n                      <div className=\"text-lg font-bold text-green-900\">\r\n                        {status.total_documents?.toLocaleString() || 'N/A'}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-purple-800\">Status</div>\r\n                      <div className=\"text-lg font-bold text-purple-900\">{status.status}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Final Batch Summary */}\r\n              {progress?.batch_summary && (\r\n                <div>\r\n                  <h4 className=\"text-md font-semibold mb-3\">Batch Processing Results</h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-green-800\">Completed Batches</div>\r\n                      <div className=\"text-lg font-bold text-green-900\">\r\n                        {progress.batch_summary.completed_batches.length}\r\n                      </div>\r\n                      <div className=\"text-xs text-green-600 mt-2\">\r\n                        {progress.batch_summary.completed_batches.join(', ')}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-blue-800\">Documents Processed</div>\r\n                      <div className=\"text-lg font-bold text-blue-900\">\r\n                        {progress.documents_processed.toLocaleString()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\r\n                      <div className=\"text-sm font-medium text-purple-800\">Success Rate</div>\r\n                      <div className=\"text-lg font-bold text-purple-900\">\r\n                        {progress.overall_progress.toFixed(1)}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation */}\r\n              <div className=\"flex justify-between\">\r\n                <button\r\n                  onClick={() => setActiveTab('processing')}\r\n                  className=\"flex items-center px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n                >\r\n                  Back to Processing\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    setActiveTab('configuration');\r\n                    setProcessingComplete(false);\r\n                    setProgress(null);\r\n                  }}\r\n                  className=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n                >\r\n                  Start New Processing\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phase4Dashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,QAAQ,CACRC,QAAQ,CACRC,IAAI,CACJC,MAAM,CACNC,QAAQ,CACRC,WAAW,CACXC,KAAK,CACLC,QAAQ,CACRC,GAAG,CACHC,QAAQ,CACRC,SAAS,KACJ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBA+BtB,KAAM,CAAAC,eAAyB,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CACtC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAsB,IAAI,CAAC,CAC/D,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAgB,IAAI,CAAC,CACvD,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAG5B,QAAQ,CAA6C,eAAe,CAAC,CAEvG;AACA,KAAM,CAAC6B,cAAc,CAAEC,iBAAiB,CAAC,CAAG9B,QAAQ,CAAmB,KAAK,CAAC,CAC7E,KAAM,CAAC+B,aAAa,CAAEC,gBAAgB,CAAC,CAAGhC,QAAQ,CAAS,EAAE,CAAC,CAC9D,KAAM,CAACiC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGlC,QAAQ,CAAC,OAAO,CAAC,CACjE,KAAM,CAACmC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpC,QAAQ,CAAW,EAAE,CAAC,CACtE;AACA,KAAM,CAACqC,QAAQ,CAAEC,WAAW,CAAC,CAAGtC,QAAQ,CAAC,kBAAkB,CAAC,CAC5D,KAAM,CAACuC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACyC,QAAQ,CAAEC,WAAW,CAAC,CAAG1C,QAAQ,CAAC,uBAAuB,CAAC,CACjE,KAAM,CAAC2C,SAAS,CAAEC,YAAY,CAAC,CAAG5C,QAAQ,CAAS,GAAG,CAAC,CACvD,KAAM,CAAC6C,MAAM,CAAEC,SAAS,CAAC,CAAG9C,QAAQ,CAAU,KAAK,CAAC,CACpD,KAAM,CAAC+C,cAAc,CAAEC,iBAAiB,CAAC,CAAGhD,QAAQ,CAA2C,MAAM,CAAC,CACtG,KAAM,CAACiD,eAAe,CAAEC,kBAAkB,CAAC,CAAGlD,QAAQ,CAAS,EAAE,CAAC,CAElE;AACA,KAAM,CAACmD,YAAY,CAAEC,eAAe,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACqD,QAAQ,CAAEC,WAAW,CAAC,CAAGtD,QAAQ,CAA4B,IAAI,CAAC,CACzE,KAAM,CAACuD,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CAEnEC,SAAS,CAAC,IAAM,CACdwD,WAAW,CAAC,CAAC,CACbC,qBAAqB,CAAC,CAAC,CACvBC,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN;AACA1D,SAAS,CAAC,IAAM,CACd,GAAI4B,cAAc,GAAK,QAAQ,EAAIM,gBAAgB,CAACyB,MAAM,CAAG,CAAC,EAAI,CAAC7B,aAAa,CAAE,CAChFC,gBAAgB,CAACG,gBAAgB,CAAC,CAAC,CAAC,CAAC,CACvC,CACF,CAAC,CAAE,CAACN,cAAc,CAAEM,gBAAgB,CAAEJ,aAAa,CAAC,CAAC,CAErD,KAAM,CAAA4B,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,KAAAE,WAAA,CACF,KAAM,CAAAC,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACjD,GAAI,CAACF,GAAG,CAAE,OACV,KAAM,CAAAG,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACL,GAAG,CAAC,CAC3BxB,WAAW,CAAC2B,GAAG,CAAC5B,QAAQ,EAAI,kBAAkB,CAAC,CAC/CG,mBAAmB,CAACyB,GAAG,CAAC1B,gBAAgB,EAAI,EAAE,CAAC,CAC/CG,WAAW,CAACuB,GAAG,CAACxB,QAAQ,EAAI,uBAAuB,CAAC,CACpDP,mBAAmB,CAAC+B,GAAG,CAAChC,gBAAgB,EAAI,OAAO,CAAC,CACpDW,YAAY,CAACqB,GAAG,CAACtB,SAAS,EAAI,GAAG,CAAC,CAClCG,SAAS,EAAAe,WAAA,CAACI,GAAG,CAACpB,MAAM,UAAAgB,WAAA,UAAAA,WAAA,CAAI,KAAK,CAAC,CAChC,CAAE,MAAOO,CAAC,CAAE,CACVC,OAAO,CAAC5C,KAAK,CAAC,8BAA8B,CAAE2C,CAAC,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAL,GAAG,CAAG,CACV5B,QAAQ,CACRE,gBAAgB,CAChBE,QAAQ,CACRR,gBAAgB,CAChBU,SAAS,CACTE,MACF,CAAC,CACD,GAAI,CACFkB,YAAY,CAACQ,OAAO,CAAC,eAAe,CAAEL,IAAI,CAACM,SAAS,CAACP,GAAG,CAAC,CAAC,CAC1D;AACAI,OAAO,CAACI,IAAI,CAAC,4BAA4B,CAAC,CAC5C,CAAE,MAAOL,CAAC,CAAE,CACVC,OAAO,CAAC5C,KAAK,CAAC,uBAAuB,CAAE2C,CAAC,CAAC,CAC3C,CACF,CAAC,CAED,KAAM,CAAAM,iBAAiB,CAAGA,CAAA,GAAM,CAC9BpC,WAAW,CAAC,kBAAkB,CAAC,CAC/BE,mBAAmB,CAAC,EAAE,CAAC,CACvBE,WAAW,CAAC,uBAAuB,CAAC,CACpCR,mBAAmB,CAAC,OAAO,CAAC,CAC5BU,YAAY,CAAC,GAAG,CAAC,CACjBE,SAAS,CAAC,KAAK,CAAC,CAChBiB,YAAY,CAACY,UAAU,CAAC,eAAe,CAAC,CAC1C,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC5B,iBAAiB,CAAC,SAAS,CAAC,CAC5BE,kBAAkB,CAAC,uBAAuB,CAAC,CAC3C,GAAI,CACF,KAAM,CAAA2B,KAAK,CAAGd,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIc,cAAc,CAACd,OAAO,CAAC,cAAc,CAAC,CAC5F,KAAM,CAAAe,OAAY,CAAG,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC3D,GAAIF,KAAK,CAAEE,OAAO,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvD,KAAM,CAAAI,IAAI,CAAG,CACXC,iBAAiB,CAAE,EAAE,CACrBC,aAAa,CAAE9C,QAAQ,CACvB+C,eAAe,CAAE,IACnB,CAAC,CAED,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,0BAA0B,CAAE,CAClDC,MAAM,CAAE,MAAM,CACdR,OAAO,CACPE,IAAI,CAAEf,IAAI,CAACM,SAAS,CAACS,IAAI,CAC3B,CAAC,CAAC,CAEF,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CAC7B,GAAIJ,GAAG,CAACK,EAAE,EAAIF,IAAI,CAACG,OAAO,CAAE,KAAAC,qBAAA,CAAAC,UAAA,CAC1B7C,iBAAiB,CAAC,SAAS,CAAC,CAC5BE,kBAAkB,CAAC,kBAAkB,GAAA0C,qBAAA,EAAAC,UAAA,CAAIL,IAAI,CAACA,IAAI,UAAAK,UAAA,iBAATA,UAAA,CAAWC,gBAAgB,UAAAF,qBAAA,UAAAA,qBAAA,CAAI,SAAS,CAAC,CAAG,cAAc,CAAC,CACtG,CAAC,IAAM,CACL5C,iBAAiB,CAAC,OAAO,CAAC,CAC1BE,kBAAkB,CAACsC,IAAI,CAACO,MAAM,EAAIP,IAAI,CAAC/D,KAAK,EAAI,mBAAmB,CAAC,CACtE,CACF,CAAE,MAAO2C,CAAM,CAAE,CACfpB,iBAAiB,CAAC,OAAO,CAAC,CAC1BE,kBAAkB,CAACkB,CAAC,CAAC4B,OAAO,EAAIC,MAAM,CAAC7B,CAAC,CAAC,CAAC,CAC5C,CACF,CAAC,CAED,KAAM,CAAAX,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAsB,OAAY,CAAG,CAAC,CAAC,CACvB,KAAM,CAAAF,KAAK,CAAGd,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIc,cAAc,CAACd,OAAO,CAAC,cAAc,CAAC,CAC5F,GAAIa,KAAK,CAAEE,OAAO,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvD,KAAM,CAAAQ,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,uBAAuB,CAAE,CAAEP,OAAQ,CAAC,CAAC,CAC7D,KAAM,CAAAS,IAAI,CAAG,KAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CAC7B,GAAID,IAAI,CAACG,OAAO,CAAE,CAChBrE,SAAS,CAACkE,IAAI,CAAC,CACjB,CACAhE,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAO4C,CAAC,CAAE,CACVC,OAAO,CAAC5C,KAAK,CAAC2C,CAAC,CAAC,CAChB1C,QAAQ,CAAC,wBAAwB,CAAC,CAClCF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAkC,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAqB,OAAY,CAAG,CAAC,CAAC,CACvB,KAAM,CAAAF,KAAK,CAAGd,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIc,cAAc,CAACd,OAAO,CAAC,cAAc,CAAC,CAC5F,GAAIa,KAAK,CAAEE,OAAO,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvD,KAAM,CAAAQ,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,kCAAkC,CAAE,CAAEP,OAAQ,CAAC,CAAC,CACxE,KAAM,CAAAS,IAAI,CAAG,KAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CAC7B,GAAID,IAAI,CAACG,OAAO,CAAE,KAAAO,aAAA,CAChB9D,mBAAmB,CAACoD,IAAI,CAACW,OAAO,EAAI,EAAE,CAAC,CACvC,GAAI,EAAAD,aAAA,CAAAV,IAAI,CAACW,OAAO,UAAAD,aAAA,iBAAZA,aAAA,CAActC,MAAM,EAAG,CAAC,EAAI,CAAC7B,aAAa,CAAE,CAC9CC,gBAAgB,CAACwD,IAAI,CAACW,OAAO,CAAC,CAAC,CAAC,CAAC,CACnC,CACF,CACF,CAAE,MAAO/B,CAAC,CAAE,CACVC,OAAO,CAAC5C,KAAK,CAAC,oCAAoC,CAAE2C,CAAC,CAAC,CACxD,CACF,CAAC,CAED,KAAM,CAAAgC,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACFhD,eAAe,CAAC,IAAI,CAAC,CACrBI,qBAAqB,CAAC,KAAK,CAAC,CAC5BF,WAAW,CAAC,IAAI,CAAC,CACjB1B,YAAY,CAAC,YAAY,CAAC,CAAE;AAE5B,KAAM,CAAAmD,OAAY,CAAG,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC3D,KAAM,CAAAF,KAAK,CAAGd,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIc,cAAc,CAACd,OAAO,CAAC,cAAc,CAAC,CAC5F,GAAIa,KAAK,CAAEE,OAAO,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvD,KAAM,CAAAwB,WAAW,CAAG,CAClBC,eAAe,CAAEzE,cAAc,CAC/B0E,cAAc,CAAE1E,cAAc,GAAK,QAAQ,CAAGE,aAAa,CAAG,IAAI,CAClEyE,iBAAiB,CAAEvE,gBACrB,CAAC,CAED,KAAM,CAAAwE,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAAC,iCAAiC,CAAE,CAC9DC,MAAM,CAAE,MAAM,CACdR,OAAO,CACPE,IAAI,CAAEf,IAAI,CAACM,SAAS,CAAC6B,WAAW,CAClC,CAAC,CAAC,CAEF,GAAII,QAAQ,CAACf,EAAE,CAAE,CACf;AACA,KAAM,CAAAgB,WAAW,CAAG,GAAI,CAAAC,WAAW,CAAC,oCAAoC,CAAC,CACzED,WAAW,CAACE,SAAS,CAAIC,KAAK,EAAK,CACjC,KAAM,CAAArB,IAAwB,CAAGtB,IAAI,CAACC,KAAK,CAAC0C,KAAK,CAACrB,IAAI,CAAC,CACvDlC,WAAW,CAACkC,IAAI,CAAC,CAEjB,GAAIA,IAAI,CAACnE,MAAM,GAAK,WAAW,CAAE,CAC/B+B,eAAe,CAAC,KAAK,CAAC,CACtBI,qBAAqB,CAAC,IAAI,CAAC,CAC3B5B,YAAY,CAAC,SAAS,CAAC,CAAE;AACzB8E,WAAW,CAACI,KAAK,CAAC,CAAC,CACnBrD,WAAW,CAAC,CAAC,CACf,CAAC,IAAM,IAAI+B,IAAI,CAACnE,MAAM,GAAK,OAAO,CAAE,KAAA0F,kBAAA,CAClC3D,eAAe,CAAC,KAAK,CAAC,CACtBsD,WAAW,CAACI,KAAK,CAAC,CAAC,CACnBpF,QAAQ,CAAC,qBAAqB,GAAAqF,kBAAA,CAAGvB,IAAI,CAACwB,YAAY,UAAAD,kBAAA,iBAAjBA,kBAAA,CAAmBE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CACnE,CACF,CAAC,CAEDP,WAAW,CAACQ,OAAO,CAAG,IAAM,CAC1B9D,eAAe,CAAC,KAAK,CAAC,CACtBsD,WAAW,CAACI,KAAK,CAAC,CAAC,CACnBpF,QAAQ,CAAC,oCAAoC,CAAC,CAChD,CAAC,CACH,CAAC,IAAM,CACL0B,eAAe,CAAC,KAAK,CAAC,CACtB1B,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CACF,CAAE,MAAOD,KAAK,CAAE,CACd4C,OAAO,CAAC5C,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACnD2B,eAAe,CAAC,KAAK,CAAC,CACtB1B,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CACF,CAAC,CAED,KAAM,CAAAyF,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAApC,OAAY,CAAG,CAAC,CAAC,CACvB,KAAM,CAAAF,KAAK,CAAGd,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIc,cAAc,CAACd,OAAO,CAAC,cAAc,CAAC,CAC5F,GAAIa,KAAK,CAAEE,OAAO,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvD,KAAM,CAAAS,KAAK,CAAC,gCAAgC,CAAE,CAC5CC,MAAM,CAAE,MAAM,CACdR,OACF,CAAC,CAAC,CAEF3B,eAAe,CAAC,KAAK,CAAC,CACtBE,WAAW,CAAC,IAAI,CAAC,CACnB,CAAE,MAAO7B,KAAK,CAAE,CACd4C,OAAO,CAAC5C,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CACF,CAAC,CAED,KAAM,CAAA2F,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAArC,OAAY,CAAG,CAAC,CAAC,CACvB,KAAM,CAAAF,KAAK,CAAGd,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAIc,cAAc,CAACd,OAAO,CAAC,cAAc,CAAC,CAC5F,GAAIa,KAAK,CAAEE,OAAO,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaH,KAAK,CAAE,CAEvD,KAAM,CAAA4B,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAAC,+BAA+B,CAAE,CAC5DP,OACF,CAAC,CAAC,CAEF,GAAI0B,QAAQ,CAACf,EAAE,CAAE,CACf,KAAM,CAAA2B,IAAI,CAAG,KAAM,CAAAZ,QAAQ,CAACY,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAC5C,KAAM,CAAAK,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,kCAAA9C,MAAA,CAAoC,GAAI,CAAA+C,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAO,CAC3FN,QAAQ,CAAC1C,IAAI,CAACiD,WAAW,CAACR,CAAC,CAAC,CAC5BA,CAAC,CAACS,KAAK,CAAC,CAAC,CACTZ,MAAM,CAACC,GAAG,CAACY,eAAe,CAACd,GAAG,CAAC,CAC/BK,QAAQ,CAAC1C,IAAI,CAACoD,WAAW,CAACX,CAAC,CAAC,CAC9B,CACF,CAAE,MAAOjG,KAAK,CAAE,CACd4C,OAAO,CAAC5C,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAAC,CAED,GAAIF,OAAO,CAAE,CACX,mBACET,IAAA,QAAKwH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDzH,IAAA,QAAKwH,SAAS,CAAC,gEAAgE,CAAM,CAAC,CACnF,CAAC,CAEV,CAEA,GAAI7G,KAAK,CAAE,CACT,mBACEX,IAAA,QAAKwH,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7DvH,KAAA,QAAKsH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzH,IAAA,QAAKwH,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzH,IAAA,CAACP,WAAW,EAAC+H,SAAS,CAAC,sBAAsB,CAAE,CAAC,CAC7C,CAAC,cACNtH,KAAA,QAAKsH,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzH,IAAA,OAAIwH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAC3DzH,IAAA,MAAGwH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAE9G,KAAK,CAAI,CAAC,EACjD,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,mBACET,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBzH,IAAA,QAAKwH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CvH,KAAA,QAAKsH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDvH,KAAA,QAAAuH,QAAA,eACEvH,KAAA,OAAIsH,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAChEzH,IAAA,CAACZ,QAAQ,EAACoI,SAAS,CAAC,4BAA4B,CAAE,CAAC,oCAErD,EAAI,CAAC,cACLxH,IAAA,MAAGwH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,uEAElC,CAAG,CAAC,EACD,CAAC,cACNzH,IAAA,QAAKwH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzC,CAAAlH,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEmH,aAAa,gBACpBxH,KAAA,QAAKsH,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBzH,IAAA,MAAGwH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,cACxDzH,IAAA,MAAGwH,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,uBAAqB,CAAG,CAAC,EACjD,CACN,CACE,CAAC,EACH,CAAC,CACH,CAAC,cAGNvH,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCzH,IAAA,QAAKwH,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCvH,KAAA,QAAKsH,SAAS,CAAC,uBAAuB,CAAC,aAAW,MAAM,CAAAC,QAAA,eACtDvH,KAAA,WACEyH,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,eAAe,CAAE,CAC7C0G,SAAS,+DAAAtD,MAAA,CACPrD,SAAS,GAAK,eAAe,CACzB,+BAA+B,CAC/B,4EAA4E,CAC/E,CAAA4G,QAAA,eAEHzH,IAAA,CAACH,QAAQ,EAAC2H,SAAS,CAAC,qBAAqB,CAAE,CAAC,gBAE9C,EAAQ,CAAC,cACTtH,KAAA,WACEyH,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,YAAY,CAAE,CAC1C0G,SAAS,+DAAAtD,MAAA,CACPrD,SAAS,GAAK,YAAY,CACtB,+BAA+B,CAC/B,4EAA4E,CAC/E,CAAA4G,QAAA,eAEHzH,IAAA,CAACX,QAAQ,EAACmI,SAAS,CAAC,qBAAqB,CAAE,CAAC,aAE9C,EAAQ,CAAC,cACTtH,KAAA,WACEyH,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,SAAS,CAAE,CACvC0G,SAAS,+DAAAtD,MAAA,CACPrD,SAAS,GAAK,SAAS,CACnB,+BAA+B,CAC/B,4EAA4E,CAC/E,CAAA4G,QAAA,eAEHzH,IAAA,CAACF,SAAS,EAAC0H,SAAS,CAAC,qBAAqB,CAAE,CAAC,mBAE/C,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,cAGNtH,KAAA,QAAKsH,SAAS,CAAC,KAAK,CAAAC,QAAA,EACjB5G,SAAS,GAAK,eAAe,eAC5BX,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvH,KAAA,OAAIsH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC1DzH,IAAA,CAACH,QAAQ,EAAC2H,SAAS,CAAC,4BAA4B,CAAE,CAAC,gBAErD,EAAI,CAAC,cAELtH,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAGpDvH,KAAA,QAAAuH,QAAA,eACEzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACvFvH,KAAA,QAAKsH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CzH,IAAA,UAAO4H,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEtG,QAAS,CAACuG,QAAQ,CAAGxE,CAAC,EAAK9B,WAAW,CAAC8B,CAAC,CAACyE,MAAM,CAACF,KAAK,CAAE,CAACL,SAAS,CAAC,oDAAoD,CAAE,CAAC,cACnJxH,IAAA,WAAQ2H,OAAO,CAAE7D,oBAAqB,CAAC0D,SAAS,CAAC,6CAA6C,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,EACzG,CAAC,cACNzH,IAAA,MAAGwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,qGAAmG,CAAG,CAAC,CAChJxF,cAAc,GAAK,MAAM,eACxBjC,IAAA,QAAKwH,SAAS,iBAAAtD,MAAA,CAAkBjC,cAAc,GAAK,SAAS,CAAG,gBAAgB,CAAG,cAAc,CAAG,CAAAwF,QAAA,CAAEtF,eAAe,CAAM,CAC3H,EACE,CAAC,cACNjC,KAAA,QAAAuH,QAAA,eACEzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,8BAA4B,CAAO,CAAC,cACpGzH,IAAA,UAAO4H,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEpG,gBAAiB,CAACqG,QAAQ,CAAGxE,CAAC,EAAK5B,mBAAmB,CAAC4B,CAAC,CAACyE,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,4CAA4C,CAACR,SAAS,CAAC,oDAAoD,CAAE,CAAC,EACzN,CAAC,cACNtH,KAAA,QAAAuH,QAAA,eACEzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACvFzH,IAAA,UAAO4H,IAAI,CAAC,MAAM,CAACC,KAAK,CAAElG,QAAS,CAACmG,QAAQ,CAAGxE,CAAC,EAAK1B,WAAW,CAAC0B,CAAC,CAACyE,MAAM,CAACF,KAAK,CAAE,CAACL,SAAS,CAAC,oDAAoD,CAAE,CAAC,EAChJ,CAAC,EACH,CAAC,cAENtH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDvH,KAAA,QAAAuH,QAAA,eACEzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,iBAAe,CAAO,CAAC,cACvFvH,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvH,KAAA,UAAOsH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAClCzH,IAAA,UAAO4H,IAAI,CAAC,OAAO,CAACC,KAAK,CAAC,KAAK,CAACI,OAAO,CAAElH,cAAc,GAAK,KAAM,CAAC+G,QAAQ,CAAGxE,CAAC,EAAKtC,iBAAiB,CAACsC,CAAC,CAACyE,MAAM,CAACF,KAAyB,CAAE,CAACL,SAAS,CAAC,2DAA2D,CAAE,CAAC,cACnNxH,IAAA,SAAMwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,qBAAmB,CAAM,CAAC,EAClE,CAAC,cACRvH,KAAA,UAAOsH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAClCzH,IAAA,UAAO4H,IAAI,CAAC,OAAO,CAACC,KAAK,CAAC,QAAQ,CAACI,OAAO,CAAElH,cAAc,GAAK,QAAS,CAAC+G,QAAQ,CAAGxE,CAAC,EAAKtC,iBAAiB,CAACsC,CAAC,CAACyE,MAAM,CAACF,KAAyB,CAAE,CAACL,SAAS,CAAC,2DAA2D,CAAE,CAAC,cACzNxH,IAAA,SAAMwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,sBAAoB,CAAM,CAAC,EACnE,CAAC,EACL,CAAC,EACH,CAAC,CAGL1G,cAAc,GAAK,QAAQ,eAC1Bb,KAAA,QAAAuH,QAAA,eACEzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACpFzH,IAAA,WAAQ6H,KAAK,CAAE5G,aAAc,CAAC6G,QAAQ,CAAGxE,CAAC,EAAKpC,gBAAgB,CAACoC,CAAC,CAACyE,MAAM,CAACF,KAAK,CAAE,CAACL,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAC5IpG,gBAAgB,CAAC6G,GAAG,CAAEC,KAAK,eAC1BnI,IAAA,WAAoB6H,KAAK,CAAEM,KAAM,CAAAV,QAAA,CAAEU,KAAK,EAA3BA,KAAoC,CAClD,CAAC,CACI,CAAC,EACN,CACN,cAGDjI,KAAA,QAAKsH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,0BAAwB,CAAO,CAAC,cAChGzH,IAAA,UAAO4H,IAAI,CAAC,MAAM,CAACC,KAAK,CAAE1G,gBAAiB,CAAC2G,QAAQ,CAAGxE,CAAC,EAAKlC,mBAAmB,CAACkC,CAAC,CAACyE,MAAM,CAACF,KAAK,CAAE,CAACG,WAAW,CAAC,gCAAgC,CAACR,SAAS,CAAC,oDAAoD,CAAE,CAAC,cAChNtH,KAAA,MAAGsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAC,oCAAkC,CAACtG,gBAAgB,CAAC,MAAI,CAACA,gBAAgB,CAAC,UAAQ,EAAG,CAAC,EAC7H,CAAC,EACH,CAAC,cAENjB,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvH,KAAA,QAAAuH,QAAA,eACEzH,IAAA,UAAOwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,YAAU,CAAO,CAAC,cAClFzH,IAAA,UAAO4H,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAEhG,SAAU,CAACiG,QAAQ,CAAGxE,CAAC,EAAKxB,YAAY,CAACsG,MAAM,CAAC9E,CAAC,CAACyE,MAAM,CAACF,KAAK,CAAC,EAAI,CAAC,CAAE,CAACQ,GAAG,CAAE,CAAE,CAACb,SAAS,CAAC,oDAAoD,CAAE,CAAC,cAC5KxH,IAAA,MAAGwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,gEAA8D,CAAG,CAAC,EACzG,CAAC,cAENzH,IAAA,QAAKwH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1CvH,KAAA,UAAOsH,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACzEzH,IAAA,UAAO4H,IAAI,CAAC,UAAU,CAACK,OAAO,CAAElG,MAAO,CAAC+F,QAAQ,CAAGxE,CAAC,EAAKtB,SAAS,CAACsB,CAAC,CAACyE,MAAM,CAACE,OAAO,CAAE,CAACT,SAAS,CAAC,MAAM,CAAE,CAAC,sCAE3G,EAAO,CAAC,CACL,CAAC,EACH,CAAC,CAKLnG,gBAAgB,CAACyB,MAAM,CAAG,CAAC,eAC1B9C,IAAA,QAAKwH,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CvH,KAAA,MAAGsH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAACzH,IAAA,WAAAyH,QAAA,CAAQ,2BAAyB,CAAQ,CAAC,IAAC,CAACpG,gBAAgB,CAACiH,IAAI,CAAC,IAAI,CAAC,EAAI,CAAC,CAC9G,CACN,cAGDpI,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCvH,KAAA,QAAKsH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CzH,IAAA,WAAQ2H,OAAO,CAAEnE,gBAAiB,CAACgE,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,MAAI,CAAQ,CAAC,cACpGzH,IAAA,WAAQ2H,OAAO,CAAE/D,iBAAkB,CAAC4D,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,EAChG,CAAC,cAENvH,KAAA,WAAQyH,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,YAAY,CAAE,CAACyH,QAAQ,CAAExH,cAAc,GAAK,QAAQ,EAAI,CAACE,aAAc,CAACuG,SAAS,CAAC,kIAAkI,CAAAC,QAAA,EAAC,wBAEvP,cAAAzH,IAAA,CAACV,IAAI,EAACkI,SAAS,CAAC,cAAc,CAAE,CAAC,EAC3B,CAAC,EACN,CAAC,EACH,CAAC,EACH,CACN,CAEA3G,SAAS,GAAK,YAAY,eACzBX,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvH,KAAA,OAAIsH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC1DzH,IAAA,CAACX,QAAQ,EAACmI,SAAS,CAAC,4BAA4B,CAAE,CAAC,qBAErD,EAAI,CAAC,cAELtH,KAAA,QAAKsH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EACzC,CAACpF,YAAY,cACZnC,KAAA,WACEyH,OAAO,CAAErC,qBAAsB,CAC/BiD,QAAQ,CAAExH,cAAc,GAAK,QAAQ,EAAI,CAACE,aAAc,CACxDuG,SAAS,CAAC,kIAAkI,CAAAC,QAAA,eAE5IzH,IAAA,CAACV,IAAI,EAACkI,SAAS,CAAC,cAAc,CAAE,CAAC,mBAEnC,EAAQ,CAAC,cAETtH,KAAA,WACEyH,OAAO,CAAEtB,oBAAqB,CAC9BmB,SAAS,CAAC,+EAA+E,CAAAC,QAAA,eAEzFzH,IAAA,CAACT,MAAM,EAACiI,SAAS,CAAC,cAAc,CAAE,CAAC,kBAErC,EAAQ,CACT,cAEDxH,IAAA,QAAKwH,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC/DpF,YAAY,cACXnC,KAAA,CAAAE,SAAA,EAAAqH,QAAA,eACEzH,IAAA,CAACN,KAAK,EAAC8H,SAAS,CAAC,yBAAyB,CAAE,CAAC,cAC7CxH,IAAA,SAAAyH,QAAA,CAAM,eAAa,CAAM,CAAC,EAC1B,CAAC,CACDhF,kBAAkB,cACpBvC,KAAA,CAAAE,SAAA,EAAAqH,QAAA,eACEzH,IAAA,CAACP,WAAW,EAAC+H,SAAS,CAAC,wBAAwB,CAAE,CAAC,cAClDxH,IAAA,SAAAyH,QAAA,CAAM,WAAS,CAAM,CAAC,EACtB,CAAC,cAEHvH,KAAA,CAAAE,SAAA,EAAAqH,QAAA,eACEzH,IAAA,CAACX,QAAQ,EAACmI,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC9CxH,IAAA,SAAAyH,QAAA,CAAM,OAAK,CAAM,CAAC,EAClB,CACH,CACE,CAAC,EACH,CAAC,CAGL,CAACpF,YAAY,EAAIE,QAAQ,gBACxBvC,IAAA,QAAKwH,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBlF,QAAQ,eACPrC,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBvH,KAAA,QAAAuH,QAAA,eACEvH,KAAA,QAAKsH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDzH,IAAA,SAAMwH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,kBAAgB,CAAM,CAAC,cAC3EvH,KAAA,SAAMsH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACpClF,QAAQ,CAACiG,mBAAmB,CAAC,GAAC,CAACjG,QAAQ,CAACkG,eAAe,CAAC,YAC3D,EAAM,CAAC,EACJ,CAAC,cACNzI,IAAA,QAAKwH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClDzH,IAAA,QACEwH,SAAS,CAAC,0DAA0D,CACpEkB,KAAK,CAAE,CAAEC,KAAK,IAAAzE,MAAA,CAAK3B,QAAQ,CAACqG,gBAAgB,KAAI,CAAE,CAC9C,CAAC,CACJ,CAAC,cACN1I,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACnDlF,QAAQ,CAACqG,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,GACxC,EAAK,CAAC,EACH,CAAC,CAGLtG,QAAQ,CAACuG,aAAa,eACrB5I,KAAA,QAAAuH,QAAA,eACEvH,KAAA,QAAKsH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDvH,KAAA,SAAMsH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,iBACnC,CAAClF,QAAQ,CAACuG,aAAa,EAClC,CAAC,cACP5I,KAAA,SAAMsH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACpClF,QAAQ,CAACwG,sBAAsB,CAACF,OAAO,CAAC,CAAC,CAAC,CAAC,GAC9C,EAAM,CAAC,EACJ,CAAC,cACN7I,IAAA,QAAKwH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,cAClDzH,IAAA,QACEwH,SAAS,CAAC,2DAA2D,CACrEkB,KAAK,CAAE,CAAEC,KAAK,IAAAzE,MAAA,CAAK3B,QAAQ,CAACwG,sBAAsB,KAAI,CAAE,CACpD,CAAC,CACJ,CAAC,EACH,CACN,CAGAxG,QAAQ,CAACyG,gBAAgB,eACxBhJ,IAAA,QAAKwH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCvH,KAAA,QAAKsH,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCzH,IAAA,CAACL,QAAQ,EAAC6H,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACnDxH,IAAA,SAAMwH,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,aAAW,CAAM,CAAC,cACxDzH,IAAA,SAAMwH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAClDlF,QAAQ,CAACyG,gBAAgB,CACtB,CAAC,EACJ,CAAC,CACH,CACN,CAGAzG,QAAQ,CAAC0G,aAAa,eACrB/I,KAAA,QAAKsH,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDvH,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCzH,IAAA,QAAKwH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,WAAS,CAAK,CAAC,cACnEzH,IAAA,QAAKwH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC9ClF,QAAQ,CAAC0G,aAAa,CAACC,iBAAiB,CAACpG,MAAM,CAC7C,CAAC,cACN9C,IAAA,QAAKwH,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpClF,QAAQ,CAAC0G,aAAa,CAACC,iBAAiB,CAAC/C,KAAK,CAAC,CAAC,CAAC,CAAC,CAACmC,IAAI,CAAC,IAAI,CAAC,CAC3D,CAAC,EACH,CAAC,cACNpI,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCzH,IAAA,QAAKwH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,SAAO,CAAK,CAAC,cAChEzH,IAAA,QAAKwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC7ClF,QAAQ,CAAC0G,aAAa,CAACH,aAAa,EAAI,MAAM,CAC5C,CAAC,EACH,CAAC,cACN5I,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCzH,IAAA,QAAKwH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,WAAS,CAAK,CAAC,cAClEzH,IAAA,QAAKwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC7ClF,QAAQ,CAAC0G,aAAa,CAACE,iBAAiB,CAACrG,MAAM,CAC7C,CAAC,EACH,CAAC,EACH,CACN,EACE,CACN,CACE,CACN,CAGA,CAAAP,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE2D,YAAY,GAAI3D,QAAQ,CAAC2D,YAAY,CAACpD,MAAM,CAAG,CAAC,eACzD5C,KAAA,QAAAuH,QAAA,eACEvH,KAAA,OAAIsH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC1DzH,IAAA,CAACJ,GAAG,EAAC4H,SAAS,CAAC,4BAA4B,CAAE,CAAC,sBAEhD,EAAI,CAAC,cAELxH,IAAA,QAAKwH,SAAS,CAAC,sFAAsF,CAAAC,QAAA,CAClGlF,QAAQ,CAAC2D,YAAY,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC+B,GAAG,CAAC,CAAChD,OAAO,CAAEkE,KAAK,gBACnDpJ,IAAA,QAAiBwH,SAAS,CAAC,MAAM,CAAAC,QAAA,CAC9BvC,OAAO,EADAkE,KAEL,CACN,CAAC,CACC,CAAC,EACH,CACN,cAGDlJ,KAAA,QAAKsH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCzH,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,eAAe,CAAE,CAC7C0G,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CACzG,uBAED,CAAQ,CAAC,CACRhF,kBAAkB,eACjBvC,KAAA,WACEyH,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,SAAS,CAAE,CACvC0G,SAAS,CAAC,mFAAmF,CAAAC,QAAA,EAC9F,cAEC,cAAAzH,IAAA,CAACF,SAAS,EAAC0H,SAAS,CAAC,cAAc,CAAE,CAAC,EAChC,CACT,EACE,CAAC,EACH,CACN,CAEA3G,SAAS,GAAK,SAAS,eACtBX,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvH,KAAA,OAAIsH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC1DzH,IAAA,CAACF,SAAS,EAAC0H,SAAS,CAAC,4BAA4B,CAAE,CAAC,mBAEtD,EAAI,CAAC,cAGLxH,IAAA,QAAKwH,SAAS,CAAC,oDAAoD,CAAAC,QAAA,cACjEvH,KAAA,QAAKsH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDvH,KAAA,QAAAuH,QAAA,eACEzH,IAAA,OAAIwH,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC9EzH,IAAA,MAAGwH,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,4FAEnC,CAAG,CAAC,EACD,CAAC,cACNvH,KAAA,WACEyH,OAAO,CAAErB,mBAAoB,CAC7BkB,SAAS,CAAC,iGAAiG,CAAAC,QAAA,eAE3GzH,IAAA,CAACR,QAAQ,EAACgI,SAAS,CAAC,cAAc,CAAE,CAAC,kBAEvC,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAGLjH,MAAM,eACLL,KAAA,QAAAuH,QAAA,eACEzH,IAAA,OAAIwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAClEvH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvH,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCzH,IAAA,QAAKwH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAAa,CAAK,CAAC,cACtEzH,IAAA,QAAKwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAElH,MAAM,CAAC8I,aAAa,CAAM,CAAC,EAC1E,CAAC,cACNnJ,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCzH,IAAA,QAAKwH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,iBAAe,CAAK,CAAC,cACzEzH,IAAA,QAAKwH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC9C,EAAAnH,qBAAA,CAAAC,MAAM,CAACkI,eAAe,UAAAnI,qBAAA,iBAAtBA,qBAAA,CAAwBgJ,cAAc,CAAC,CAAC,GAAI,KAAK,CAC/C,CAAC,EACH,CAAC,cACNpJ,KAAA,QAAKsH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CzH,IAAA,QAAKwH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,QAAM,CAAK,CAAC,cACjEzH,IAAA,QAAKwH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAElH,MAAM,CAACA,MAAM,CAAM,CAAC,EACrE,CAAC,EACH,CAAC,EACH,CACN,CAGA,CAAAgC,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE0G,aAAa,gBACtB/I,KAAA,QAAAuH,QAAA,eACEzH,IAAA,OAAIwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,0BAAwB,CAAI,CAAC,cACxEvH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvH,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCzH,IAAA,QAAKwH,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,mBAAiB,CAAK,CAAC,cAC3EzH,IAAA,QAAKwH,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC9ClF,QAAQ,CAAC0G,aAAa,CAACC,iBAAiB,CAACpG,MAAM,CAC7C,CAAC,cACN9C,IAAA,QAAKwH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACzClF,QAAQ,CAAC0G,aAAa,CAACC,iBAAiB,CAACZ,IAAI,CAAC,IAAI,CAAC,CACjD,CAAC,EACH,CAAC,cACNpI,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCzH,IAAA,QAAKwH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,qBAAmB,CAAK,CAAC,cAC5EzH,IAAA,QAAKwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC7ClF,QAAQ,CAACiG,mBAAmB,CAACc,cAAc,CAAC,CAAC,CAC3C,CAAC,EACH,CAAC,cACNpJ,KAAA,QAAKsH,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CzH,IAAA,QAAKwH,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,cACvEvH,KAAA,QAAKsH,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAC/ClF,QAAQ,CAACqG,gBAAgB,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,GACxC,EAAK,CAAC,EACH,CAAC,EACH,CAAC,EACH,CACN,cAGD3I,KAAA,QAAKsH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCzH,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAM7G,YAAY,CAAC,YAAY,CAAE,CAC1C0G,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CACzG,oBAED,CAAQ,CAAC,cACTzH,IAAA,WACE2H,OAAO,CAAEA,CAAA,GAAM,CACb7G,YAAY,CAAC,eAAe,CAAC,CAC7B4B,qBAAqB,CAAC,KAAK,CAAC,CAC5BF,WAAW,CAAC,IAAI,CAAC,CACnB,CAAE,CACFgF,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAC5F,sBAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}