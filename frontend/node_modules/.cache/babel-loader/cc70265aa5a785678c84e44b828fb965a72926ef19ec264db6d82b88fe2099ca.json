{"ast":null,"code":"var _jsxFileName = \"D:\\\\DigiFloat\\\\LawChronicle\\\\frontend\\\\src\\\\components\\\\phase2\\\\StructureCleaner.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Database, RefreshCw, Save, AlertTriangle, CheckCircle, Eye, EyeOff, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StructureCleaner = ({\n  config\n}) => {\n  _s();\n  const [fieldAnalysis, setFieldAnalysis] = useState({});\n  const [fieldMapping, setFieldMapping] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [customMappings, setCustomMappings] = useState({});\n  const [validationRules, setValidationRules] = useState({});\n\n  // Fetch field analysis\n  const fetchFieldAnalysis = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/v1/phase2/structure-analysis');\n      const data = await response.json();\n      if (data.success) {\n        setFieldAnalysis(data.field_analysis);\n\n        // Initialize default field mapping\n        const defaultMapping = {};\n        Object.keys(data.field_analysis).forEach(field => {\n          // Convert field names to lowercase with underscores\n          const normalizedField = field.toLowerCase().replace(/[^a-zA-Z0-9]/g, '_');\n          defaultMapping[field] = normalizedField;\n        });\n        setFieldMapping(defaultMapping);\n      } else {\n        setMessage({\n          type: 'error',\n          text: 'Failed to fetch field analysis'\n        });\n      }\n    } catch (error) {\n      setMessage({\n        type: 'error',\n        text: 'Error fetching field analysis'\n      });\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Save field mapping\n  const saveFieldMapping = async () => {\n    try {\n      const response = await fetch('/api/v1/phase2/update-field-mapping', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          field_mapping: fieldMapping\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMessage({\n          type: 'success',\n          text: 'Field mapping saved successfully'\n        });\n      } else {\n        setMessage({\n          type: 'error',\n          text: 'Failed to save field mapping'\n        });\n      }\n    } catch (error) {\n      setMessage({\n        type: 'error',\n        text: 'Error saving field mapping'\n      });\n    }\n  };\n\n  // Add custom field mapping\n  const addCustomMapping = () => {\n    const newField = `custom_field_${Object.keys(customMappings).length + 1}`;\n    setCustomMappings(prev => ({\n      ...prev,\n      [newField]: ''\n    }));\n  };\n\n  // Remove custom field mapping\n  const removeCustomMapping = field => {\n    const newMappings = {\n      ...customMappings\n    };\n    delete newMappings[field];\n    setCustomMappings(newMappings);\n  };\n\n  // Add validation rule\n  const addValidationRule = () => {\n    const newRule = `rule_${Object.keys(validationRules).length + 1}`;\n    setValidationRules(prev => ({\n      ...prev,\n      [newRule]: {\n        field: '',\n        type: 'required',\n        value: '',\n        message: ''\n      }\n    }));\n  };\n\n  // Remove validation rule\n  const removeValidationRule = rule => {\n    const newRules = {\n      ...validationRules\n    };\n    delete newRules[rule];\n    setValidationRules(newRules);\n  };\n\n  // Update validation rule\n  const updateValidationRule = (rule, field, value) => {\n    setValidationRules(prev => ({\n      ...prev,\n      [rule]: {\n        ...prev[rule],\n        [field]: value\n      }\n    }));\n  };\n\n  // Get field type color\n  const getFieldTypeColor = type => {\n    const colors = {\n      'str': 'bg-blue-100 text-blue-800',\n      'int': 'bg-green-100 text-green-800',\n      'float': 'bg-yellow-100 text-yellow-800',\n      'bool': 'bg-purple-100 text-purple-800',\n      'list': 'bg-indigo-100 text-indigo-800',\n      'dict': 'bg-pink-100 text-pink-800',\n      'ObjectId': 'bg-gray-100 text-gray-800'\n    };\n    return colors[type] || 'bg-gray-100 text-gray-800';\n  };\n\n  // Get presence percentage\n  const getPresencePercentage = count => {\n    const totalDocs = Object.values(fieldAnalysis).reduce((sum, field) => sum + field.presence_count, 0);\n    if (totalDocs === 0) return 0;\n    return Math.round(count / totalDocs * 100);\n  };\n  useEffect(() => {\n    fetchFieldAnalysis();\n  }, [fetchFieldAnalysis]);\n\n  // Clear message after 5 seconds\n  useEffect(() => {\n    if (message) {\n      const timer = setTimeout(() => setMessage(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [message]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Structure Cleaning & Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Analyze document structure, configure field mappings, and set validation rules\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchFieldAnalysis,\n          disabled: loading,\n          className: \"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: `h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), \"Refresh Analysis\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveFieldMapping,\n          className: \"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), \"Save Mapping\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `rounded-md p-4 ${message.type === 'success' ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: message.type === 'success' ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-5 w-5 text-green-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-5 w-5 text-red-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `text-sm ${message.type === 'success' ? 'text-green-800' : 'text-red-800'}`,\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Field Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"Analysis of \", Object.keys(fieldAnalysis).length, \" fields found in documents\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-8 w-8 text-gray-400 mx-auto mb-4 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Analyzing document structure...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this) : Object.keys(fieldAnalysis).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Database, {\n          className: \"h-8 w-8 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"No fields found to analyze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Field Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Presence\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Sample Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: Object.entries(fieldAnalysis).map(([fieldName, fieldInfo]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-900 font-mono\",\n                  children: fieldName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getFieldTypeColor(fieldInfo.type)}`,\n                  children: fieldInfo.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-900\",\n                    children: fieldInfo.presence_count\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1 bg-gray-200 rounded-full h-2 w-20\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-blue-600 h-2 rounded-full\",\n                      style: {\n                        width: `${getPresencePercentage(fieldInfo.presence_count)}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500\",\n                    children: [getPresencePercentage(fieldInfo.presence_count), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 font-mono\",\n                  children: fieldInfo.sample_value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this)]\n            }, fieldName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"Field Mapping Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600\",\n          children: \"Configure how source fields should be mapped to normalized fields\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: Object.entries(fieldAnalysis).map(([sourceField, fieldInfo]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: [sourceField, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${getFieldTypeColor(fieldInfo.type)}`,\n                  children: fieldInfo.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: fieldMapping[sourceField] || '',\n                onChange: e => setFieldMapping(prev => ({\n                  ...prev,\n                  [sourceField]: e.target.value\n                })),\n                placeholder: \"Enter normalized field name\",\n                className: \"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this)\n          }, sourceField, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 pt-6 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-gray-900\",\n              children: \"Custom Field Mappings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addCustomMapping,\n              className: \"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500\",\n              children: \"+ Add Custom Field\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), Object.keys(customMappings).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: Object.entries(customMappings).map(([customField, mappedField]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: customField\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: mappedField,\n                  onChange: e => setCustomMappings(prev => ({\n                    ...prev,\n                    [customField]: e.target.value\n                  })),\n                  placeholder: \"Enter mapped field name\",\n                  className: \"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeCustomMapping(customField),\n                className: \"text-red-600 hover:text-red-900 p-1\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this)]\n            }, customField, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAdvanced(!showAdvanced),\n          className: \"flex items-center text-sm font-medium text-gray-900 hover:text-gray-700\",\n          children: [showAdvanced ? /*#__PURE__*/_jsxDEV(EyeOff, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 67\n          }, this), \"Advanced Options\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), showAdvanced && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-gray-900\",\n              children: \"Validation Rules\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addValidationRule,\n              className: \"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500\",\n              children: \"+ Add Rule\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), Object.keys(validationRules).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: Object.entries(validationRules).map(([ruleName, rule]) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-4 gap-3 flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: rule.field,\n                  onChange: e => updateValidationRule(ruleName, 'field', e.target.value),\n                  className: \"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Field\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 27\n                  }, this), Object.keys(fieldAnalysis).map(field => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: field,\n                    children: field\n                  }, field, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 29\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: rule.type,\n                  onChange: e => updateValidationRule(ruleName, 'type', e.target.value),\n                  className: \"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"required\",\n                    children: \"Required\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"min_length\",\n                    children: \"Min Length\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"max_length\",\n                    children: \"Max Length\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"pattern\",\n                    children: \"Pattern\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"range\",\n                    children: \"Range\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: rule.value,\n                  onChange: e => updateValidationRule(ruleName, 'value', e.target.value),\n                  placeholder: \"Value/Pattern\",\n                  className: \"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: rule.message,\n                  onChange: e => updateValidationRule(ruleName, 'message', e.target.value),\n                  placeholder: \"Error Message\",\n                  className: \"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeValidationRule(ruleName),\n                className: \"text-red-600 hover:text-red-900 p-1\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 23\n              }, this)]\n            }, ruleName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-sm font-medium text-gray-900 mb-4\",\n            children: \"Structure Validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"validate-required-fields\",\n                className: \"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"validate-required-fields\",\n                className: \"text-sm text-gray-700\",\n                children: \"Validate required fields are present\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"validate-field-types\",\n                className: \"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"validate-field-types\",\n                className: \"text-sm text-gray-700\",\n                children: \"Validate field data types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"remove-empty-fields\",\n                className: \"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"remove-empty-fields\",\n                className: \"text-sm text-gray-700\",\n                children: \"Remove empty/null fields\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"normalize-strings\",\n                className: \"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"normalize-strings\",\n                className: \"text-sm text-gray-700\",\n                children: \"Normalize string values\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-sm font-medium text-gray-900 mb-2\",\n        children: \"Structure Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Total Fields:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 font-medium text-gray-900\",\n            children: Object.keys(fieldAnalysis).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"String Fields:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 font-medium text-gray-900\",\n            children: Object.values(fieldAnalysis).filter(f => f.type === 'str').length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Numeric Fields:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 font-medium text-gray-900\",\n            children: Object.values(fieldAnalysis).filter(f => ['int', 'float'].includes(f.type)).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Custom Mappings:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 font-medium text-gray-900\",\n            children: Object.keys(customMappings).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n_s(StructureCleaner, \"rnohSDMGT0Oyv88XGR1Diba+bNA=\");\n_c = StructureCleaner;\nexport default StructureCleaner;\nvar _c;\n$RefreshReg$(_c, \"StructureCleaner\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Database","RefreshCw","Save","AlertTriangle","CheckCircle","Eye","EyeOff","X","jsxDEV","_jsxDEV","StructureCleaner","config","_s","fieldAnalysis","setFieldAnalysis","fieldMapping","setFieldMapping","loading","setLoading","message","setMessage","showAdvanced","setShowAdvanced","customMappings","setCustomMappings","validationRules","setValidationRules","fetchFieldAnalysis","response","fetch","data","json","success","field_analysis","defaultMapping","Object","keys","forEach","field","normalizedField","toLowerCase","replace","type","text","error","saveFieldMapping","method","headers","body","JSON","stringify","field_mapping","addCustomMapping","newField","length","prev","removeCustomMapping","newMappings","addValidationRule","newRule","value","removeValidationRule","rule","newRules","updateValidationRule","getFieldTypeColor","colors","getPresencePercentage","count","totalDocs","values","reduce","sum","presence_count","Math","round","timer","setTimeout","clearTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","entries","map","fieldName","fieldInfo","style","width","sample_value","sourceField","onChange","e","target","placeholder","customField","mappedField","ruleName","id","htmlFor","filter","f","includes","_c","$RefreshReg$"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/StructureCleaner.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Settings, Database, RefreshCw, Save, AlertTriangle, CheckCircle, Eye, EyeOff, X } from 'lucide-react';\r\n\r\ninterface FieldAnalysis {\r\n  [key: string]: {\r\n    type: string;\r\n    sample_value: string;\r\n    presence_count: number;\r\n  };\r\n}\r\n\r\ninterface FieldMapping {\r\n  [key: string]: string;\r\n}\r\n\r\ninterface StructureCleanerProps {\r\n  config: any;\r\n}\r\n\r\nconst StructureCleaner: React.FC<StructureCleanerProps> = ({ config }) => {\r\n  const [fieldAnalysis, setFieldAnalysis] = useState<FieldAnalysis>({});\r\n  const [fieldMapping, setFieldMapping] = useState<FieldMapping>({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n  const [showAdvanced, setShowAdvanced] = useState(false);\r\n  const [customMappings, setCustomMappings] = useState<FieldMapping>({});\r\n  const [validationRules, setValidationRules] = useState<{[key: string]: any}>({});\r\n\r\n  // Fetch field analysis\r\n  const fetchFieldAnalysis = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/structure-analysis');\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setFieldAnalysis(data.field_analysis);\r\n        \r\n        // Initialize default field mapping\r\n        const defaultMapping: FieldMapping = {};\r\n        Object.keys(data.field_analysis).forEach(field => {\r\n          // Convert field names to lowercase with underscores\r\n          const normalizedField = field.toLowerCase().replace(/[^a-zA-Z0-9]/g, '_');\r\n          defaultMapping[field] = normalizedField;\r\n        });\r\n        setFieldMapping(defaultMapping);\r\n      } else {\r\n        setMessage({ type: 'error', text: 'Failed to fetch field analysis' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: 'Error fetching field analysis' });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Save field mapping\r\n  const saveFieldMapping = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase2/update-field-mapping', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ field_mapping: fieldMapping })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setMessage({ type: 'success', text: 'Field mapping saved successfully' });\r\n      } else {\r\n        setMessage({ type: 'error', text: 'Failed to save field mapping' });\r\n      }\r\n    } catch (error) {\r\n      setMessage({ type: 'error', text: 'Error saving field mapping' });\r\n    }\r\n  };\r\n\r\n  // Add custom field mapping\r\n  const addCustomMapping = () => {\r\n    const newField = `custom_field_${Object.keys(customMappings).length + 1}`;\r\n    setCustomMappings(prev => ({ ...prev, [newField]: '' }));\r\n  };\r\n\r\n  // Remove custom field mapping\r\n  const removeCustomMapping = (field: string) => {\r\n    const newMappings = { ...customMappings };\r\n    delete newMappings[field];\r\n    setCustomMappings(newMappings);\r\n  };\r\n\r\n  // Add validation rule\r\n  const addValidationRule = () => {\r\n    const newRule = `rule_${Object.keys(validationRules).length + 1}`;\r\n    setValidationRules(prev => ({ \r\n      ...prev, \r\n      [newRule]: { \r\n        field: '', \r\n        type: 'required', \r\n        value: '',\r\n        message: ''\r\n      } \r\n    }));\r\n  };\r\n\r\n  // Remove validation rule\r\n  const removeValidationRule = (rule: string) => {\r\n    const newRules = { ...validationRules };\r\n    delete newRules[rule];\r\n    setValidationRules(newRules);\r\n  };\r\n\r\n  // Update validation rule\r\n  const updateValidationRule = (rule: string, field: string, value: any) => {\r\n    setValidationRules(prev => ({\r\n      ...prev,\r\n      [rule]: { ...prev[rule], [field]: value }\r\n    }));\r\n  };\r\n\r\n  // Get field type color\r\n  const getFieldTypeColor = (type: string) => {\r\n    const colors: { [key: string]: string } = {\r\n      'str': 'bg-blue-100 text-blue-800',\r\n      'int': 'bg-green-100 text-green-800',\r\n      'float': 'bg-yellow-100 text-yellow-800',\r\n      'bool': 'bg-purple-100 text-purple-800',\r\n      'list': 'bg-indigo-100 text-indigo-800',\r\n      'dict': 'bg-pink-100 text-pink-800',\r\n      'ObjectId': 'bg-gray-100 text-gray-800'\r\n    };\r\n    return colors[type] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  // Get presence percentage\r\n  const getPresencePercentage = (count: number) => {\r\n    const totalDocs = Object.values(fieldAnalysis).reduce((sum, field) => sum + field.presence_count, 0);\r\n    if (totalDocs === 0) return 0;\r\n    return Math.round((count / totalDocs) * 100);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFieldAnalysis();\r\n  }, [fetchFieldAnalysis]);\r\n\r\n  // Clear message after 5 seconds\r\n  useEffect(() => {\r\n    if (message) {\r\n      const timer = setTimeout(() => setMessage(null), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [message]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Structure Cleaning & Analysis</h3>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Analyze document structure, configure field mappings, and set validation rules\r\n          </p>\r\n        </div>\r\n        <div className=\"flex space-x-2\">\r\n          <button\r\n            onClick={fetchFieldAnalysis}\r\n            disabled={loading}\r\n            className=\"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\r\n          >\r\n            <RefreshCw className={`h-4 w-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\r\n            Refresh Analysis\r\n          </button>\r\n          <button\r\n            onClick={saveFieldMapping}\r\n            className=\"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n          >\r\n            <Save className=\"h-4 w-4 mr-2\" />\r\n            Save Mapping\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message Display */}\r\n      {message && (\r\n        <div className={`rounded-md p-4 ${\r\n          message.type === 'success' ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'\r\n        }`}>\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0\">\r\n              {message.type === 'success' ? (\r\n                <CheckCircle className=\"h-5 w-5 text-green-400\" />\r\n              ) : (\r\n                <AlertTriangle className=\"h-5 w-5 text-red-400\" />\r\n              )}\r\n            </div>\r\n            <div className=\"ml-3\">\r\n              <p className={`text-sm ${\r\n                message.type === 'success' ? 'text-green-800' : 'text-red-800'\r\n              }`}>\r\n                {message.text}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Field Analysis */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h4 className=\"text-lg font-medium text-gray-900\">Field Analysis</h4>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Analysis of {Object.keys(fieldAnalysis).length} fields found in documents\r\n          </p>\r\n        </div>\r\n        \r\n        {loading ? (\r\n          <div className=\"p-8 text-center\">\r\n            <RefreshCw className=\"h-8 w-8 text-gray-400 mx-auto mb-4 animate-spin\" />\r\n            <p className=\"text-gray-600\">Analyzing document structure...</p>\r\n          </div>\r\n        ) : Object.keys(fieldAnalysis).length === 0 ? (\r\n          <div className=\"p-8 text-center\">\r\n            <Database className=\"h-8 w-8 text-gray-400 mx-auto mb-4\" />\r\n            <p className=\"text-gray-600\">No fields found to analyze</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-hidden\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Field Name\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Type\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Presence\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Sample Value\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {Object.entries(fieldAnalysis).map(([fieldName, fieldInfo]) => (\r\n                  <tr key={fieldName} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className=\"text-sm font-medium text-gray-900 font-mono\">\r\n                        {fieldName}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getFieldTypeColor(fieldInfo.type)}`}>\r\n                        {fieldInfo.type}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <span className=\"text-sm text-gray-900\">{fieldInfo.presence_count}</span>\r\n                        <div className=\"flex-1 bg-gray-200 rounded-full h-2 w-20\">\r\n                          <div \r\n                            className=\"bg-blue-600 h-2 rounded-full\" \r\n                            style={{ width: `${getPresencePercentage(fieldInfo.presence_count)}%` }}\r\n                          />\r\n                        </div>\r\n                        <span className=\"text-xs text-gray-500\">{getPresencePercentage(fieldInfo.presence_count)}%</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span className=\"text-sm text-gray-600 font-mono\">\r\n                        {fieldInfo.sample_value}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Field Mapping Configuration */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h4 className=\"text-lg font-medium text-gray-900\">Field Mapping Configuration</h4>\r\n          <p className=\"text-sm text-gray-600\">\r\n            Configure how source fields should be mapped to normalized fields\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {Object.entries(fieldAnalysis).map(([sourceField, fieldInfo]) => (\r\n              <div key={sourceField} className=\"flex items-center space-x-3\">\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    {sourceField}\r\n                    <span className={`ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${getFieldTypeColor(fieldInfo.type)}`}>\r\n                      {fieldInfo.type}\r\n                    </span>\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={fieldMapping[sourceField] || ''}\r\n                    onChange={(e) => setFieldMapping(prev => ({ ...prev, [sourceField]: e.target.value }))}\r\n                    placeholder=\"Enter normalized field name\"\r\n                    className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Custom Field Mappings */}\r\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h5 className=\"text-sm font-medium text-gray-900\">Custom Field Mappings</h5>\r\n              <button\r\n                onClick={addCustomMapping}\r\n                className=\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n              >\r\n                + Add Custom Field\r\n              </button>\r\n            </div>\r\n            \r\n            {Object.keys(customMappings).length > 0 && (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {Object.entries(customMappings).map(([customField, mappedField]) => (\r\n                  <div key={customField} className=\"flex items-center space-x-3\">\r\n                    <div className=\"flex-1\">\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        {customField}\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={mappedField}\r\n                        onChange={(e) => setCustomMappings(prev => ({ ...prev, [customField]: e.target.value }))}\r\n                        placeholder=\"Enter mapped field name\"\r\n                        className=\"block w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                      />\r\n                    </div>\r\n                    <button\r\n                      onClick={() => removeCustomMapping(customField)}\r\n                      className=\"text-red-600 hover:text-red-900 p-1\"\r\n                    >\r\n                      <X className=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Options */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <button\r\n            onClick={() => setShowAdvanced(!showAdvanced)}\r\n            className=\"flex items-center text-sm font-medium text-gray-900 hover:text-gray-700\"\r\n          >\r\n            {showAdvanced ? <EyeOff className=\"h-4 w-4 mr-2\" /> : <Eye className=\"h-4 w-4 mr-2\" />}\r\n            Advanced Options\r\n          </button>\r\n        </div>\r\n        \r\n        {showAdvanced && (\r\n          <div className=\"p-6\">\r\n            {/* Validation Rules */}\r\n            <div className=\"mb-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h5 className=\"text-sm font-medium text-gray-900\">Validation Rules</h5>\r\n                <button\r\n                  onClick={addValidationRule}\r\n                  className=\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                >\r\n                  + Add Rule\r\n                </button>\r\n              </div>\r\n              \r\n              {Object.keys(validationRules).length > 0 && (\r\n                <div className=\"space-y-4\">\r\n                  {Object.entries(validationRules).map(([ruleName, rule]) => (\r\n                    <div key={ruleName} className=\"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg\">\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3 flex-1\">\r\n                        <select\r\n                          value={rule.field}\r\n                          onChange={(e) => updateValidationRule(ruleName, 'field', e.target.value)}\r\n                          className=\"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                        >\r\n                          <option value=\"\">Select Field</option>\r\n                          {Object.keys(fieldAnalysis).map(field => (\r\n                            <option key={field} value={field}>{field}</option>\r\n                          ))}\r\n                        </select>\r\n                        \r\n                        <select\r\n                          value={rule.type}\r\n                          onChange={(e) => updateValidationRule(ruleName, 'type', e.target.value)}\r\n                          className=\"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                        >\r\n                          <option value=\"required\">Required</option>\r\n                          <option value=\"min_length\">Min Length</option>\r\n                          <option value=\"max_length\">Max Length</option>\r\n                          <option value=\"pattern\">Pattern</option>\r\n                          <option value=\"range\">Range</option>\r\n                        </select>\r\n                        \r\n                        <input\r\n                          type=\"text\"\r\n                          value={rule.value}\r\n                          onChange={(e) => updateValidationRule(ruleName, 'value', e.target.value)}\r\n                          placeholder=\"Value/Pattern\"\r\n                          className=\"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                        />\r\n                        \r\n                        <input\r\n                          type=\"text\"\r\n                          value={rule.message}\r\n                          onChange={(e) => updateValidationRule(ruleName, 'message', e.target.value)}\r\n                          placeholder=\"Error Message\"\r\n                          className=\"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      <button\r\n                        onClick={() => removeValidationRule(ruleName)}\r\n                        className=\"text-red-600 hover:text-red-900 p-1\"\r\n                      >\r\n                        <X className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Structure Validation */}\r\n            <div>\r\n              <h5 className=\"text-sm font-medium text-gray-900 mb-4\">Structure Validation</h5>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"validate-required-fields\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"validate-required-fields\" className=\"text-sm text-gray-700\">\r\n                    Validate required fields are present\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"validate-field-types\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"validate-field-types\" className=\"text-sm text-gray-700\">\r\n                    Validate field data types\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"remove-empty-fields\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"remove-empty-fields\" className=\"text-sm text-gray-700\">\r\n                    Remove empty/null fields\r\n                  </label>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-3\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"normalize-strings\"\r\n                    className=\"rounded border-gray-300 text-primary-600 focus:ring-primary-500\"\r\n                  />\r\n                  <label htmlFor=\"normalize-strings\" className=\"text-sm text-gray-700\">\r\n                    Normalize string values\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Summary */}\r\n      <div className=\"bg-gray-50 rounded-lg p-4\">\r\n        <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Structure Summary</h4>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\r\n          <div>\r\n            <span className=\"text-gray-600\">Total Fields:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">{Object.keys(fieldAnalysis).length}</span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">String Fields:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">\r\n              {Object.values(fieldAnalysis).filter(f => f.type === 'str').length}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Numeric Fields:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">\r\n              {Object.values(fieldAnalysis).filter(f => ['int', 'float'].includes(f.type)).length}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"text-gray-600\">Custom Mappings:</span>\r\n            <span className=\"ml-2 font-medium text-gray-900\">{Object.keys(customMappings).length}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StructureCleaner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}