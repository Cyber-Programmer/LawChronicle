{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Eye,RefreshCw,Download,AlertTriangle,CheckCircle,ChevronDown,ChevronRight,FileText,Hash,Text,Search}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultsPreview=_ref=>{let{config}=_ref;const[statuteGroups,setStatuteGroups]=useState([]);const[loading,setLoading]=useState(false);const[message,setMessage]=useState(null);const[expandedGroups,setExpandedGroups]=useState(new Set());const[searchTerm,setSearchTerm]=useState('');const[filterType,setFilterType]=useState('all');const[sortOrder,setSortOrder]=useState('name');// Fetch statute groups from normalized collection\nconst fetchResultsData=useCallback(async()=>{setLoading(true);try{const response=await fetch('/api/v1/phase2/preview-normalized-structure?limit=1000',{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});const data=await response.json();if(data.success&&data.preview_data){// Transform the data to match our interface\nconst groups=data.preview_data.map(statute=>{var _statute$Sections;return{_id:statute.Statute_Name,Statute_Name:statute.Statute_Name,Sections:statute.Sections||[],section_count:((_statute$Sections=statute.Sections)===null||_statute$Sections===void 0?void 0:_statute$Sections.length)||0};});setStatuteGroups(groups);}else{setMessage({type:'error',text:'Failed to fetch results data'});}}catch(error){setMessage({type:'error',text:'Error fetching results data'});}finally{setLoading(false);}},[]);// Toggle group expansion\nconst toggleGroupExpansion=groupId=>{const newExpanded=new Set(expandedGroups);if(newExpanded.has(groupId)){newExpanded.delete(groupId);}else{newExpanded.add(groupId);}setExpandedGroups(newExpanded);setExpandedGroups(newExpanded);};// Section sort key function (replicating backend logic)\nconst sectionSortKey=section=>{const num=section.number||section.section_number||\"\";// Preamble always first\nif(typeof num==='string'&&num.trim().toLowerCase()==='preamble'){return[0,''];}// Try to parse as numeric\ntry{const numStr=String(num).trim();if(numStr.replace(/[.-]/g,'').match(/^\\d+$/)){return[1,parseFloat(numStr)];}}catch(e){// Ignore parsing errors\n}// Non-numeric sections last, sorted alphabetically\nreturn[2,String(num).toLowerCase()];};// Get section type\nconst getSectionType=section=>{const[sortType]=sectionSortKey(section);if(sortType===0)return'preamble';if(sortType===1)return'numeric';return'text';};// Filter and sort statutes\nconst getFilteredAndSortedStatutes=()=>{let filtered=statuteGroups.filter(statute=>statute.Statute_Name.toLowerCase().includes(searchTerm.toLowerCase()));// Apply type filter\nif(filterType!=='all'){filtered=filtered.filter(statute=>{return statute.Sections.some(section=>getSectionType(section)===filterType);});}// Apply sorting\nfiltered.sort((a,b)=>{switch(sortOrder){case'name':return a.Statute_Name.localeCompare(b.Statute_Name);case'sections':return b.section_count-a.section_count;case'type':const aHasPreamble=a.Sections.some(section=>getSectionType(section)==='preamble');const bHasPreamble=b.Sections.some(section=>getSectionType(section)==='preamble');if(aHasPreamble&&!bHasPreamble)return-1;if(!aHasPreamble&&bHasPreamble)return 1;return a.Statute_Name.localeCompare(b.Statute_Name);default:return 0;}});return filtered;};// Export results\nconst exportResults=async()=>{try{const exportData={export_date:new Date().toISOString(),total_statutes:statuteGroups.length,total_sections:statuteGroups.reduce((sum,statute)=>sum+statute.section_count,0),statutes:statuteGroups.map(statute=>({statute_name:statute.Statute_Name,section_count:statute.section_count,sections:statute.Sections.map(section=>({number:section.number||section.section_number||'N/A',type:getSectionType(section),content:section.definition||section.content||'No content'}))}))};const blob=new Blob([JSON.stringify(exportData,null,2)],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"normalization_results_\".concat(new Date().toISOString().split('T')[0],\".json\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);setMessage({type:'success',text:'Results exported successfully'});}catch(error){setMessage({type:'error',text:'Error exporting results'});}};useEffect(()=>{fetchResultsData();},[fetchResultsData]);const filteredStatutes=getFilteredAndSortedStatutes();return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5 mr-2\"}),\"Results Preview - Grouped Structure\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Preview the final normalized results showing statutes grouped with their sorted sections.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 items-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:fetchResultsData,disabled:loading,className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2 \".concat(loading?'animate-spin':'')}),\"Refresh Results\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportResults,disabled:statuteGroups.length===0,className:\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Export Results\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Search & Filters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search Statutes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search statute names...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Filter by Section Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"preamble\",children:\"Has Preamble\"}),/*#__PURE__*/_jsx(\"option\",{value:\"numeric\",children:\"Has Numeric Sections\"}),/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"Has Text Sections\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Sort Order\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortOrder,onChange:e=>setSortOrder(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"By Name (A-Z)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sections\",children:\"By Section Count\"}),/*#__PURE__*/_jsx(\"option\",{value:\"type\",children:\"By Type (Preamble First)\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredStatutes.length,\" of \",statuteGroups.length,\" statutes \\u2022 Total sections: \",filteredStatutes.reduce((sum,statute)=>sum+statute.section_count,0),\" \\u2022 Filter: \",filterType==='all'?'All types':filterType,\" \\u2022 Sort: \",sortOrder==='name'?'By name':sortOrder==='sections'?'By section count':'By type']})})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg flex items-center \".concat(message.type==='success'?'bg-green-50 text-green-800':'bg-red-50 text-red-800'),children:[message.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 mr-2\"}):/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 mr-2\"}),message.text]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"Normalized Results\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[filteredStatutes.length,\" statutes found \\u2022 Click to expand and view sections\"]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 mx-auto mb-2 animate-spin\"}),\"Loading results...\"]}):filteredStatutes.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center text-gray-500\",children:searchTerm||filterType!=='all'?'No statutes match your search/filter criteria.':'No results found. Run normalization first to populate the database.'}):/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:filteredStatutes.map(statute=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleGroupExpansion(statute._id),className:\"flex items-center space-x-2 text-left hover:text-blue-600\",children:[expandedGroups.has(statute._id)?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:statute.Statute_Name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",statute.section_count,\" sections)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[statute.Sections.some(section=>getSectionType(section)==='preamble')&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-3 h-3 mr-1\"}),\"Preamble\"]}),statute.Sections.some(section=>getSectionType(section)==='numeric')&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:[/*#__PURE__*/_jsx(Hash,{className:\"w-3 h-3 mr-1\"}),\"Numeric\"]}),statute.Sections.some(section=>getSectionType(section)==='text')&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:[/*#__PURE__*/_jsx(Text,{className:\"w-3 h-3 mr-1\"}),\"Text\"]})]})})]}),expandedGroups.has(statute._id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 ml-8 space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"Sorted Sections:\"}),statute.Sections&&statute.Sections.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:statute.Sections.map((section,index)=>{const sectionType=getSectionType(section);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-lg border-l-4 \".concat(sectionType==='preamble'?'border-l-blue-500 bg-blue-50':sectionType==='numeric'?'border-l-green-500 bg-green-50':'border-l-gray-500 bg-gray-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-700\",children:section.number||section.section_number||\"Section \".concat(index+1)}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(sectionType==='preamble'?'bg-blue-100 text-blue-800':sectionType==='numeric'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:[sectionType==='preamble'?/*#__PURE__*/_jsx(FileText,{className:\"w-3 h-3 inline mr-1\"}):sectionType==='numeric'?/*#__PURE__*/_jsx(Hash,{className:\"w-3 h-3 inline mr-1\"}):/*#__PURE__*/_jsx(Text,{className:\"w-3 h-3 inline mr-1\"}),sectionType]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:section.definition||section.content||'No content available'}),section.year&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Year: \",section.year]})]},index);})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-sm\",children:\"No sections found\"})]})]},statute._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Data Structure Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Output Schema\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded text-sm font-mono\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"{\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"\\\"Statute_Name\\\": \\\"string\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"\\\"Sections\\\": [\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-8\",children:\"{\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-12\",children:\"\\\"number\\\": \\\"string\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-12\",children:\"\\\"definition\\\": \\\"string\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-12\",children:\"\\\"year\\\": \\\"number\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-8\",children:\"}\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"]\"}),/*#__PURE__*/_jsx(\"div\",{children:\"}\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Section Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-blue-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Preamble - Always sorted first\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Numeric - Sorted by value\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Text - Sorted alphabetically\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Each statute is now a single document containing all its sections, making it easier to work with related legal content as a cohesive unit.\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Total: \",statuteGroups.length,\" statute group(s) \\u2022 Total sections: \",statuteGroups.reduce((sum,statute)=>sum+statute.section_count,0),\" \\u2022 Showing: \",filteredStatutes.length,\" filtered \\u2022 Data structure: Grouped with sorted sections\"]})})]});};export default ResultsPreview;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Eye","RefreshCw","Download","AlertTriangle","CheckCircle","ChevronDown","ChevronRight","FileText","Hash","Text","Search","jsx","_jsx","jsxs","_jsxs","ResultsPreview","_ref","config","statuteGroups","setStatuteGroups","loading","setLoading","message","setMessage","expandedGroups","setExpandedGroups","Set","searchTerm","setSearchTerm","filterType","setFilterType","sortOrder","setSortOrder","fetchResultsData","response","fetch","headers","concat","localStorage","getItem","data","json","success","preview_data","groups","map","statute","_statute$Sections","_id","Statute_Name","Sections","section_count","length","type","text","error","toggleGroupExpansion","groupId","newExpanded","has","delete","add","sectionSortKey","section","num","number","section_number","trim","toLowerCase","numStr","String","replace","match","parseFloat","e","getSectionType","sortType","getFilteredAndSortedStatutes","filtered","filter","includes","some","sort","a","b","localeCompare","aHasPreamble","bHasPreamble","exportResults","exportData","export_date","Date","toISOString","total_statutes","total_sections","reduce","sum","statutes","statute_name","sections","content","definition","blob","Blob","JSON","stringify","url","URL","createObjectURL","document","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","filteredStatutes","className","children","onClick","disabled","placeholder","value","onChange","target","index","sectionType","year"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/ResultsPreview.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Eye, RefreshCw, Download, AlertTriangle, CheckCircle, ChevronDown, ChevronRight, FileText, Hash, Text, Search, Filter } from 'lucide-react';\n\ninterface StatuteGroup {\n  _id: string;\n  Statute_Name: string;\n  Sections: any[];\n  section_count: number;\n}\n\ninterface ResultsPreviewProps {\n  config: any;\n}\n\nconst ResultsPreview: React.FC<ResultsPreviewProps> = ({ config }) => {\n  const [statuteGroups, setStatuteGroups] = useState<StatuteGroup[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n  const [expandedGroups, setExpandedGroups] = useState<Set<string>>(new Set());\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'preamble' | 'numeric' | 'text'>('all');\n  const [sortOrder, setSortOrder] = useState<'name' | 'sections' | 'type'>('name');\n\n  // Fetch statute groups from normalized collection\n  const fetchResultsData = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/v1/phase2/preview-normalized-structure?limit=1000', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = await response.json();\n      \n      if (data.success && data.preview_data) {\n        // Transform the data to match our interface\n        const groups = data.preview_data.map((statute: any) => ({\n          _id: statute.Statute_Name,\n          Statute_Name: statute.Statute_Name,\n          Sections: statute.Sections || [],\n          section_count: statute.Sections?.length || 0\n        }));\n        setStatuteGroups(groups);\n      } else {\n        setMessage({ type: 'error', text: 'Failed to fetch results data' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error fetching results data' });\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Toggle group expansion\n  const toggleGroupExpansion = (groupId: string) => {\n    const newExpanded = new Set(expandedGroups);\n    if (newExpanded.has(groupId)) {\n      newExpanded.delete(groupId);\n    } else {\n      newExpanded.add(groupId);\n    }\n    setExpandedGroups(newExpanded);\n    setExpandedGroups(newExpanded);\n  };\n\n  // Section sort key function (replicating backend logic)\n  const sectionSortKey = (section: any) => {\n    const num = section.number || section.section_number || \"\";\n    \n    // Preamble always first\n    if (typeof num === 'string' && num.trim().toLowerCase() === 'preamble') {\n      return [0, ''];\n    }\n    \n    // Try to parse as numeric\n    try {\n      const numStr = String(num).trim();\n      if (numStr.replace(/[.-]/g, '').match(/^\\d+$/)) {\n        return [1, parseFloat(numStr)];\n      }\n    } catch (e) {\n      // Ignore parsing errors\n    }\n    \n    // Non-numeric sections last, sorted alphabetically\n    return [2, String(num).toLowerCase()];\n  };\n\n  // Get section type\n  const getSectionType = (section: any) => {\n    const [sortType] = sectionSortKey(section);\n    if (sortType === 0) return 'preamble';\n    if (sortType === 1) return 'numeric';\n    return 'text';\n  };\n\n  // Filter and sort statutes\n  const getFilteredAndSortedStatutes = () => {\n    let filtered = statuteGroups.filter(statute =>\n      statute.Statute_Name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    // Apply type filter\n    if (filterType !== 'all') {\n      filtered = filtered.filter(statute => {\n        return statute.Sections.some((section: any) => getSectionType(section) === filterType);\n      });\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      switch (sortOrder) {\n        case 'name':\n          return a.Statute_Name.localeCompare(b.Statute_Name);\n        case 'sections':\n          return b.section_count - a.section_count;\n        case 'type':\n          const aHasPreamble = a.Sections.some((section: any) => getSectionType(section) === 'preamble');\n          const bHasPreamble = b.Sections.some((section: any) => getSectionType(section) === 'preamble');\n          if (aHasPreamble && !bHasPreamble) return -1;\n          if (!aHasPreamble && bHasPreamble) return 1;\n          return a.Statute_Name.localeCompare(b.Statute_Name);\n        default:\n          return 0;\n      }\n    });\n\n    return filtered;\n  };\n\n  // Export results\n  const exportResults = async () => {\n    try {\n      const exportData = {\n        export_date: new Date().toISOString(),\n        total_statutes: statuteGroups.length,\n        total_sections: statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0),\n        statutes: statuteGroups.map(statute => ({\n          statute_name: statute.Statute_Name,\n          section_count: statute.section_count,\n          sections: statute.Sections.map((section: any) => ({\n            number: section.number || section.section_number || 'N/A',\n            type: getSectionType(section),\n            content: section.definition || section.content || 'No content'\n          }))\n        }))\n      };\n\n      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `normalization_results_${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      setMessage({ type: 'success', text: 'Results exported successfully' });\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error exporting results' });\n    }\n  };\n\n  useEffect(() => {\n    fetchResultsData();\n  }, [fetchResultsData]);\n\n  const filteredStatutes = getFilteredAndSortedStatutes();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n          <Eye className=\"w-5 h-5 mr-2\" />\n          Results Preview - Grouped Structure\n        </h2>\n        <p className=\"text-gray-600 mb-4\">\n          Preview the final normalized results showing statutes grouped with their sorted sections.\n        </p>\n        \n        {/* Controls */}\n        <div className=\"flex flex-wrap gap-4 items-center\">\n          <button\n            onClick={fetchResultsData}\n            disabled={loading}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\"\n          >\n            <RefreshCw className={`w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n            Refresh Results\n          </button>\n          \n          <button\n            onClick={exportResults}\n            disabled={statuteGroups.length === 0}\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center\"\n          >\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export Results\n          </button>\n        </div>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Search & Filters</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search Statutes</label>\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search statute names...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n\n          {/* Type Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Filter by Section Type</label>\n            <select\n              value={filterType}\n              onChange={(e) => setFilterType(e.target.value as any)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"preamble\">Has Preamble</option>\n              <option value=\"numeric\">Has Numeric Sections</option>\n              <option value=\"text\">Has Text Sections</option>\n            </select>\n          </div>\n\n          {/* Sort Order */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Sort Order</label>\n            <select\n              value={sortOrder}\n              onChange={(e) => setSortOrder(e.target.value as any)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"name\">By Name (A-Z)</option>\n              <option value=\"sections\">By Section Count</option>\n              <option value=\"type\">By Type (Preamble First)</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Results Summary */}\n        <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n          <div className=\"text-sm text-gray-600\">\n            Showing {filteredStatutes.length} of {statuteGroups.length} statutes • \n            Total sections: {filteredStatutes.reduce((sum, statute) => sum + statute.section_count, 0)} • \n            Filter: {filterType === 'all' ? 'All types' : filterType} • \n            Sort: {sortOrder === 'name' ? 'By name' : sortOrder === 'sections' ? 'By section count' : 'By type'}\n          </div>\n        </div>\n      </div>\n\n      {/* Message Display */}\n      {message && (\n        <div className={`p-4 rounded-lg flex items-center ${\n          message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n        }`}>\n          {message.type === 'success' ? (\n            <CheckCircle className=\"w-5 h-5 mr-2\" />\n          ) : (\n            <AlertTriangle className=\"w-5 h-5 mr-2\" />\n          )}\n          {message.text}\n        </div>\n      )}\n\n      {/* Results Display */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"p-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Normalized Results</h3>\n          <p className=\"text-sm text-gray-600\">\n            {filteredStatutes.length} statutes found • Click to expand and view sections\n          </p>\n        </div>\n        \n        {loading ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            <RefreshCw className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\n            Loading results...\n          </div>\n        ) : filteredStatutes.length === 0 ? (\n          <div className=\"p-8 text-center text-gray-500\">\n            {searchTerm || filterType !== 'all' ? 'No statutes match your search/filter criteria.' : 'No results found. Run normalization first to populate the database.'}\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredStatutes.map((statute) => (\n              <div key={statute._id} className=\"p-4\">\n                <div className=\"flex items-center justify-between\">\n                  <button\n                    onClick={() => toggleGroupExpansion(statute._id)}\n                    className=\"flex items-center space-x-2 text-left hover:text-blue-600\"\n                  >\n                    {expandedGroups.has(statute._id) ? (\n                      <ChevronDown className=\"w-4 h-4\" />\n                    ) : (\n                      <ChevronRight className=\"w-4 h-4\" />\n                    )}\n                    <span className=\"font-medium text-gray-900\">{statute.Statute_Name}</span>\n                    <span className=\"text-sm text-gray-500\">({statute.section_count} sections)</span>\n                  </button>\n                  \n                  <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n                    <div className=\"flex items-center space-x-2\">\n                      {statute.Sections.some((section: any) => getSectionType(section) === 'preamble') && (\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                          <FileText className=\"w-3 h-3 mr-1\" />\n                          Preamble\n                        </span>\n                      )}\n                      {statute.Sections.some((section: any) => getSectionType(section) === 'numeric') && (\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                          <Hash className=\"w-3 h-3 mr-1\" />\n                          Numeric\n                        </span>\n                      )}\n                      {statute.Sections.some((section: any) => getSectionType(section) === 'text') && (\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                          <Text className=\"w-3 h-3 mr-1\" />\n                          Text\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Expanded Sections View */}\n                {expandedGroups.has(statute._id) && (\n                  <div className=\"mt-3 ml-8 space-y-2\">\n                    <div className=\"text-sm text-gray-600 font-medium\">Sorted Sections:</div>\n                    {statute.Sections && statute.Sections.length > 0 ? (\n                      <div className=\"space-y-2\">\n                        {statute.Sections.map((section: any, index: number) => {\n                          const sectionType = getSectionType(section);\n                          return (\n                            <div key={index} className={`p-3 rounded-lg border-l-4 ${\n                              sectionType === 'preamble' ? 'border-l-blue-500 bg-blue-50' :\n                              sectionType === 'numeric' ? 'border-l-green-500 bg-green-50' :\n                              'border-l-gray-500 bg-gray-50'\n                            }`}>\n                              <div className=\"flex items-center justify-between mb-2\">\n                                <div className=\"font-medium text-gray-700\">\n                                  {section.number || section.section_number || `Section ${index + 1}`}\n                                </div>\n                                <span className={`px-2 py-1 rounded text-xs font-medium ${\n                                  sectionType === 'preamble' ? 'bg-blue-100 text-blue-800' :\n                                  sectionType === 'numeric' ? 'bg-green-100 text-green-800' :\n                                  'bg-gray-100 text-gray-800'\n                                }`}>\n                                  {sectionType === 'preamble' ? <FileText className=\"w-3 h-3 inline mr-1\" /> :\n                                   sectionType === 'numeric' ? <Hash className=\"w-3 h-3 inline mr-1\" /> :\n                                   <Text className=\"w-3 h-3 inline mr-1\" />}\n                                  {sectionType}\n                                </span>\n                              </div>\n                              <div className=\"text-sm text-gray-600\">\n                                {section.definition || section.content || 'No content available'}\n                              </div>\n                              {section.year && (\n                                <div className=\"text-xs text-gray-500 mt-1\">\n                                  Year: {section.year}\n                                </div>\n                              )}\n                            </div>\n                          );\n                        })}\n                      </div>\n                    ) : (\n                      <div className=\"text-gray-500 text-sm\">No sections found</div>\n                    )}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Data Structure Info */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Data Structure Information</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <h4 className=\"font-medium text-gray-900 mb-2\">Output Schema</h4>\n            <div className=\"bg-gray-50 p-3 rounded text-sm font-mono\">\n              <div>{\"{\"}</div>\n              <div className=\"ml-4\">\"Statute_Name\": \"string\",</div>\n              <div className=\"ml-4\">\"Sections\": [</div>\n              <div className=\"ml-8\">{\"{\"}</div>\n              <div className=\"ml-12\">\"number\": \"string\",</div>\n              <div className=\"ml-12\">\"definition\": \"string\",</div>\n              <div className=\"ml-12\">\"year\": \"number\",</div>\n              <div className=\"ml-8\">{\"}\"}</div>\n              <div className=\"ml-4\">]</div>\n              <div>{\"}\"}</div>\n            </div>\n          </div>\n          \n          <div>\n            <h4 className=\"font-medium text-gray-900 mb-2\">Section Types</h4>\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-blue-500 rounded\"></div>\n                <span className=\"text-sm text-gray-700\">Preamble - Always sorted first</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-green-500 rounded\"></div>\n                <span className=\"text-sm text-gray-700\">Numeric - Sorted by value</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-gray-500 rounded\"></div>\n                <span className=\"text-sm text-gray-700\">Text - Sorted alphabetically</span>\n              </div>\n            </div>\n            \n            <div className=\"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800\">\n              <strong>Note:</strong> Each statute is now a single document containing all its sections, \n              making it easier to work with related legal content as a cohesive unit.\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Summary */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <div className=\"text-sm text-gray-600\">\n          Total: {statuteGroups.length} statute group(s) • \n          Total sections: {statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0)} • \n          Showing: {filteredStatutes.length} filtered • \n          Data structure: Grouped with sorted sections\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultsPreview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}