{"ast":null,"code":"import React from'react';import{ChevronRight,Calendar,FileText,Shield,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Simple amendment list viewer (for backwards compatibility)\nexport const SimpleAmendmentViewer=_ref=>{let{amendments}=_ref;if(!amendments||amendments.length===0){return/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm ml-2\",children:\"No amendments\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-blue-600 font-medium mb-1\",children:[\"Amendments (\",amendments.length,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-1\",children:amendments.map((amendment,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"text-sm text-blue-600 flex items-center\",children:[/*#__PURE__*/_jsx(ChevronRight,{className:\"w-3 h-3 mr-1 text-blue-400\"}),amendment]},index))})]});};// Constitutional analysis badge\nconst ConstitutionalBadge=_ref2=>{let{analysis}=_ref2;if(!analysis||!analysis.is_constitutional){return null;}const getAmendmentTypeColor=type=>{switch(type){case'amendment':return'bg-blue-100 text-blue-800 border-blue-200';case'repeal':return'bg-red-100 text-red-800 border-red-200';case'addition':return'bg-green-100 text-green-800 border-green-200';case'order':return'bg-purple-100 text-purple-800 border-purple-200';default:return'bg-gray-100 text-gray-800 border-gray-200';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border \".concat(getAmendmentTypeColor(analysis.amendment_type)),children:[/*#__PURE__*/_jsx(Shield,{className:\"w-3 h-3 mr-1\"}),\"Constitutional \",analysis.amendment_type]}),analysis.confidence>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Confidence: \",analysis.confidence,\"%\"]})]});};// Amendment member card\nconst AmendmentMemberCard=_ref3=>{let{member,isLatest,showDetails=false}=_ref3;const getPositionColor=position=>{if(position===0)return'bg-green-50 border-green-200 text-green-800';return'bg-blue-50 border-blue-200 text-blue-800';};const formatDate=dateStr=>{if(!dateStr)return'Unknown date';try{return new Date(dateStr).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});}catch(_unused){return dateStr;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"\\n      relative p-3 rounded-lg border transition-all duration-200\\n      \".concat(getPositionColor(member.position),\"\\n      \").concat(isLatest?'ring-2 ring-blue-300 shadow-md':'hover:shadow-sm',\"\\n    \"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 rounded-full bg-white border-2 border-current flex items-center justify-center text-xs font-bold\",children:member.position+1}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs font-semibold\",children:member.amendment_type})]}),isLatest&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium bg-blue-600 text-white px-2 py-1 rounded\",children:\"Latest\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-sm leading-tight mb-2\",children:member.statute_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-xs text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-3 h-3 mr-1\"}),formatDate(member.date)]}),showDetails&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 pt-2 border-t border-current/20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[\"ID: \",member.statute_id.slice(-8)]})})]});};// Main amendment chain viewer\nconst AmendmentChainViewer=_ref4=>{let{chain,amendments,constitutionalAnalysis,isExpanded=false,showFullDetails=false}=_ref4;// Handle simple amendments list (backwards compatibility)\nif(!chain&&amendments){return/*#__PURE__*/_jsx(SimpleAmendmentViewer,{amendments:amendments});}// Handle no chain data\nif(!chain||!chain.members||chain.members.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-400 text-sm ml-2 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-3 h-3 mr-1\"}),\"No amendment chain\"]});}// Sort members by position\nconst sortedMembers=[...chain.members].sort((a,b)=>a.position-b.position);const latestMember=sortedMembers[sortedMembers.length-1];return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4 text-blue-600 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-900\",children:[\"Amendment Chain: \",chain.base_name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\",children:[chain.total_amendments,\" amendments\"]})]}),/*#__PURE__*/_jsx(ConstitutionalBadge,{analysis:constitutionalAnalysis}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:isExpanded?/*#__PURE__*/// Full chain view\n_jsx(\"div\",{className:\"grid gap-2\",children:sortedMembers.map(member=>/*#__PURE__*/_jsx(AmendmentMemberCard,{member:member,isLatest:member.statute_id===latestMember.statute_id,showDetails:showFullDetails},\"\".concat(member.statute_id,\"-\").concat(member.position)))}):/*#__PURE__*/// Compact view - show original and latest\n_jsxs(\"div\",{className:\"grid gap-2\",children:[/*#__PURE__*/_jsx(AmendmentMemberCard,{member:sortedMembers[0],isLatest:false,showDetails:showFullDetails}),sortedMembers.length>2&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 bg-gray-50 inline-block px-3 py-1 rounded-full\",children:[\"... \",sortedMembers.length-2,\" intermediate amendment\",sortedMembers.length-2!==1?'s':'',\" ...\"]})}),sortedMembers.length>1&&/*#__PURE__*/_jsx(AmendmentMemberCard,{member:latestMember,isLatest:true,showDetails:showFullDetails})]})}),showFullDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-2 bg-gray-50 rounded text-xs text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Chain ID: \",chain.chain_id]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Created: \",new Date(chain.creation_date).toLocaleString()]})]})]});};// Amendment chain list component\nexport const AmendmentChainList=_ref5=>{let{chains,onChainSelect,selectedChainId}=_ref5;if(!chains||chains.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-12 h-12 mx-auto mb-3 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No amendment chains detected\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-1\",children:\"Run amendment chain detection first\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:[\"Found \",chains.length,\" amendment chain\",chains.length!==1?'s':'']}),chains.map(chain=>/*#__PURE__*/_jsxs(\"div\",{className:\"\\n            p-4 rounded-lg border cursor-pointer transition-all duration-200\\n            \".concat(selectedChainId===chain.chain_id?'border-blue-300 bg-blue-50 shadow-md':'border-gray-200 hover:border-gray-300 hover:shadow-sm',\"\\n          \"),onClick:()=>onChainSelect===null||onChainSelect===void 0?void 0:onChainSelect(chain),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:chain.base_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\",children:[chain.total_amendments,\" amendments\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-3\",children:[chain.members.length,\" statutes in chain\"]}),/*#__PURE__*/_jsx(AmendmentChainViewer,{chain:chain,isExpanded:selectedChainId===chain.chain_id,showFullDetails:false})]},chain.chain_id))]});};export default AmendmentChainViewer;","map":{"version":3,"names":["React","ChevronRight","Calendar","FileText","Shield","AlertCircle","jsx","_jsx","jsxs","_jsxs","SimpleAmendmentViewer","_ref","amendments","length","className","children","map","amendment","index","ConstitutionalBadge","_ref2","analysis","is_constitutional","getAmendmentTypeColor","type","concat","amendment_type","confidence","AmendmentMemberCard","_ref3","member","isLatest","showDetails","getPositionColor","position","formatDate","dateStr","Date","toLocaleDateString","year","month","day","_unused","statute_name","date","statute_id","slice","AmendmentChainViewer","_ref4","chain","constitutionalAnalysis","isExpanded","showFullDetails","members","sortedMembers","sort","a","b","latestMember","base_name","total_amendments","chain_id","creation_date","toLocaleString","AmendmentChainList","_ref5","chains","onChainSelect","selectedChainId","onClick"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase5/AmendmentChainViewer.tsx"],"sourcesContent":["import React from 'react';\r\nimport { ChevronRight, Calendar, FileText, Shield, AlertCircle } from 'lucide-react';\r\nimport type { AmendmentChain, AmendmentMember, ConstitutionalAnalysis } from './types';\r\n\r\ninterface AmendmentChainViewerProps {\r\n  chain?: AmendmentChain;\r\n  amendments?: string[];\r\n  constitutionalAnalysis?: ConstitutionalAnalysis;\r\n  isExpanded?: boolean;\r\n  showFullDetails?: boolean;\r\n}\r\n\r\ninterface AmendmentChainListProps {\r\n  chains?: AmendmentChain[];\r\n  onChainSelect?: (chain: AmendmentChain) => void;\r\n  selectedChainId?: string;\r\n}\r\n\r\n// Simple amendment list viewer (for backwards compatibility)\r\nexport const SimpleAmendmentViewer: React.FC<{ amendments?: string[] }> = ({ amendments }) => {\r\n  if (!amendments || amendments.length === 0) {\r\n    return <span className=\"text-gray-400 text-sm ml-2\">No amendments</span>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"ml-4 mt-2\">\r\n      <div className=\"text-xs text-blue-600 font-medium mb-1\">Amendments ({amendments.length})</div>\r\n      <ul className=\"space-y-1\">\r\n        {amendments.map((amendment, index) => (\r\n          <li key={index} className=\"text-sm text-blue-600 flex items-center\">\r\n            <ChevronRight className=\"w-3 h-3 mr-1 text-blue-400\" />\r\n            {amendment}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Constitutional analysis badge\r\nconst ConstitutionalBadge: React.FC<{ analysis?: ConstitutionalAnalysis }> = ({ analysis }) => {\r\n  if (!analysis || !analysis.is_constitutional) {\r\n    return null;\r\n  }\r\n\r\n  const getAmendmentTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case 'amendment': return 'bg-blue-100 text-blue-800 border-blue-200';\r\n      case 'repeal': return 'bg-red-100 text-red-800 border-red-200';\r\n      case 'addition': return 'bg-green-100 text-green-800 border-green-200';\r\n      case 'order': return 'bg-purple-100 text-purple-800 border-purple-200';\r\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 mt-2\">\r\n      <div className={`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${getAmendmentTypeColor(analysis.amendment_type)}`}>\r\n        <Shield className=\"w-3 h-3 mr-1\" />\r\n        Constitutional {analysis.amendment_type}\r\n      </div>\r\n      {analysis.confidence > 0 && (\r\n        <div className=\"text-xs text-gray-500\">\r\n          Confidence: {analysis.confidence}%\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Amendment member card\r\nconst AmendmentMemberCard: React.FC<{ \r\n  member: AmendmentMember; \r\n  isLatest: boolean;\r\n  showDetails?: boolean;\r\n}> = ({ member, isLatest, showDetails = false }) => {\r\n  const getPositionColor = (position: number) => {\r\n    if (position === 0) return 'bg-green-50 border-green-200 text-green-800';\r\n    return 'bg-blue-50 border-blue-200 text-blue-800';\r\n  };\r\n\r\n  const formatDate = (dateStr: string) => {\r\n    if (!dateStr) return 'Unknown date';\r\n    try {\r\n      return new Date(dateStr).toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric'\r\n      });\r\n    } catch {\r\n      return dateStr;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`\r\n      relative p-3 rounded-lg border transition-all duration-200\r\n      ${getPositionColor(member.position)}\r\n      ${isLatest ? 'ring-2 ring-blue-300 shadow-md' : 'hover:shadow-sm'}\r\n    `}>\r\n      {/* Position indicator */}\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"w-6 h-6 rounded-full bg-white border-2 border-current flex items-center justify-center text-xs font-bold\">\r\n            {member.position + 1}\r\n          </div>\r\n          <span className=\"ml-2 text-xs font-semibold\">\r\n            {member.amendment_type}\r\n          </span>\r\n        </div>\r\n        {isLatest && (\r\n          <div className=\"text-xs font-medium bg-blue-600 text-white px-2 py-1 rounded\">\r\n            Latest\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Statute name */}\r\n      <h4 className=\"font-medium text-sm leading-tight mb-2\">\r\n        {member.statute_name}\r\n      </h4>\r\n\r\n      {/* Date */}\r\n      <div className=\"flex items-center text-xs text-gray-600\">\r\n        <Calendar className=\"w-3 h-3 mr-1\" />\r\n        {formatDate(member.date)}\r\n      </div>\r\n\r\n      {showDetails && (\r\n        <div className=\"mt-2 pt-2 border-t border-current/20\">\r\n          <div className=\"text-xs text-gray-600\">\r\n            ID: {member.statute_id.slice(-8)}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main amendment chain viewer\r\nconst AmendmentChainViewer: React.FC<AmendmentChainViewerProps> = ({ \r\n  chain, \r\n  amendments, \r\n  constitutionalAnalysis,\r\n  isExpanded = false,\r\n  showFullDetails = false\r\n}) => {\r\n  // Handle simple amendments list (backwards compatibility)\r\n  if (!chain && amendments) {\r\n    return <SimpleAmendmentViewer amendments={amendments} />;\r\n  }\r\n\r\n  // Handle no chain data\r\n  if (!chain || !chain.members || chain.members.length === 0) {\r\n    return (\r\n      <div className=\"text-gray-400 text-sm ml-2 flex items-center\">\r\n        <AlertCircle className=\"w-3 h-3 mr-1\" />\r\n        No amendment chain\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Sort members by position\r\n  const sortedMembers = [...chain.members].sort((a, b) => a.position - b.position);\r\n  const latestMember = sortedMembers[sortedMembers.length - 1];\r\n\r\n  return (\r\n    <div className=\"mt-3 space-y-3\">\r\n      {/* Chain header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center\">\r\n          <FileText className=\"w-4 h-4 text-blue-600 mr-2\" />\r\n          <span className=\"text-sm font-medium text-gray-900\">\r\n            Amendment Chain: {chain.base_name}\r\n          </span>\r\n        </div>\r\n        <div className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">\r\n          {chain.total_amendments} amendments\r\n        </div>\r\n      </div>\r\n\r\n      {/* Constitutional analysis badge */}\r\n      <ConstitutionalBadge analysis={constitutionalAnalysis} />\r\n\r\n      {/* Amendment members */}\r\n      <div className=\"space-y-2\">\r\n        {isExpanded ? (\r\n          // Full chain view\r\n          <div className=\"grid gap-2\">\r\n            {sortedMembers.map((member) => (\r\n              <AmendmentMemberCard\r\n                key={`${member.statute_id}-${member.position}`}\r\n                member={member}\r\n                isLatest={member.statute_id === latestMember.statute_id}\r\n                showDetails={showFullDetails}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          // Compact view - show original and latest\r\n          <div className=\"grid gap-2\">\r\n            {/* Original */}\r\n            <AmendmentMemberCard\r\n              member={sortedMembers[0]}\r\n              isLatest={false}\r\n              showDetails={showFullDetails}\r\n            />\r\n            \r\n            {/* Show gap indicator if there are amendments in between */}\r\n            {sortedMembers.length > 2 && (\r\n              <div className=\"text-center py-2\">\r\n                <div className=\"text-xs text-gray-400 bg-gray-50 inline-block px-3 py-1 rounded-full\">\r\n                  ... {sortedMembers.length - 2} intermediate amendment{sortedMembers.length - 2 !== 1 ? 's' : ''} ...\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Latest (if different from original) */}\r\n            {sortedMembers.length > 1 && (\r\n              <AmendmentMemberCard\r\n                member={latestMember}\r\n                isLatest={true}\r\n                showDetails={showFullDetails}\r\n              />\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Chain metadata */}\r\n      {showFullDetails && (\r\n        <div className=\"mt-3 p-2 bg-gray-50 rounded text-xs text-gray-600\">\r\n          <div>Chain ID: {chain.chain_id}</div>\r\n          <div>Created: {new Date(chain.creation_date).toLocaleString()}</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Amendment chain list component\r\nexport const AmendmentChainList: React.FC<AmendmentChainListProps> = ({ \r\n  chains, \r\n  onChainSelect, \r\n  selectedChainId \r\n}) => {\r\n  if (!chains || chains.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8 text-gray-500\">\r\n        <FileText className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\r\n        <p>No amendment chains detected</p>\r\n        <p className=\"text-sm mt-1\">Run amendment chain detection first</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"text-sm font-medium text-gray-700 mb-3\">\r\n        Found {chains.length} amendment chain{chains.length !== 1 ? 's' : ''}\r\n      </div>\r\n      \r\n      {chains.map((chain) => (\r\n        <div\r\n          key={chain.chain_id}\r\n          className={`\r\n            p-4 rounded-lg border cursor-pointer transition-all duration-200\r\n            ${selectedChainId === chain.chain_id \r\n              ? 'border-blue-300 bg-blue-50 shadow-md' \r\n              : 'border-gray-200 hover:border-gray-300 hover:shadow-sm'\r\n            }\r\n          `}\r\n          onClick={() => onChainSelect?.(chain)}\r\n        >\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <h3 className=\"font-medium text-gray-900\">{chain.base_name}</h3>\r\n            <div className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">\r\n              {chain.total_amendments} amendments\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"text-sm text-gray-600 mb-3\">\r\n            {chain.members.length} statutes in chain\r\n          </div>\r\n          \r\n          <AmendmentChainViewer \r\n            chain={chain} \r\n            isExpanded={selectedChainId === chain.chain_id}\r\n            showFullDetails={false}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AmendmentChainViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}