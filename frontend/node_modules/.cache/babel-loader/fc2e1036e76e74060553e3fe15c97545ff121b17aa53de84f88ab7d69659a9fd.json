{"ast":null,"code":"var _jsxFileName = \"D:\\\\DigiFloat\\\\LawChronicle\\\\frontend\\\\src\\\\components\\\\DateSearchTab.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Search, Download, Upload, FileSpreadsheet, Brain, CheckCircle, AlertCircle, RefreshCw, StopCircle, Eye } from 'lucide-react';\nimport apiClient from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DateSearchTab = () => {\n  _s();\n  const [availableCollections, setAvailableCollections] = useState([]);\n  const [selectedCollections, setSelectedCollections] = useState([]);\n  const [scanResults, setScanResults] = useState(null);\n  const [searchSessions, setSearchSessions] = useState([]);\n  const [currentOperation, setCurrentOperation] = useState(null);\n  const [progress, setProgress] = useState({\n    progress: 0\n  });\n  const [loading, setLoading] = useState({});\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const eventSourceRef = useRef(null);\n  useEffect(() => {\n    fetchAvailableCollections();\n    fetchSearchSessions();\n  }, []);\n  useEffect(() => {\n    // Auto-dismiss messages\n    if (successMessage) {\n      const timer = setTimeout(() => setSuccessMessage(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [successMessage]);\n  useEffect(() => {\n    // Cleanup EventSource on unmount\n    return () => {\n      if (eventSourceRef.current) {\n        eventSourceRef.current.close();\n      }\n    };\n  }, []);\n  const fetchAvailableCollections = async () => {\n    try {\n      const response = await apiClient.get('/phase4/search/collections');\n      setAvailableCollections(response.data.collections);\n      setSelectedCollections(response.data.collections); // Select all by default\n    } catch (err) {\n      setError('Failed to fetch collections');\n      console.error('Fetch collections error:', err);\n    }\n  };\n  const fetchSearchSessions = async () => {\n    try {\n      const response = await apiClient.get('/phase4/search/search-sessions');\n      setSearchSessions(response.data.sessions);\n    } catch (err) {\n      console.error('Fetch search sessions error:', err);\n    }\n  };\n  const viewSearchResults = async sessionId => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        viewResults: true\n      }));\n      const response = await apiClient.get(`/phase4/search/search-results/${sessionId}`);\n\n      // Show results in a modal or separate view - for now, download as JSON\n      const dataStr = JSON.stringify(response.data.results, null, 2);\n      const dataBlob = new Blob([dataStr], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `search-results-${sessionId}.json`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Failed to fetch search results');\n      console.error('View search results error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        viewResults: false\n      }));\n    }\n  };\n  const clearSearchSessions = async () => {\n    if (!window.confirm('Are you sure you want to clear all search session history? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      setLoading(prev => ({\n        ...prev,\n        clearSessions: true\n      }));\n      const response = await apiClient.delete('/phase4/search/search-sessions');\n      setSearchSessions([]);\n      alert(`Cleared ${response.data.cleared_sessions} search sessions`);\n    } catch (err) {\n      setError('Failed to clear search sessions');\n      console.error('Clear search sessions error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        clearSessions: false\n      }));\n    }\n  };\n  const deleteSearchSession = async sessionId => {\n    if (!window.confirm(`Are you sure you want to delete search session ${sessionId}?`)) {\n      return;\n    }\n    try {\n      await apiClient.delete(`/phase4/search/search-sessions/${sessionId}`);\n      setSearchSessions(prev => prev.filter(s => s.session_id !== sessionId));\n    } catch (err) {\n      setError('Failed to delete search session');\n      console.error('Delete search session error:', err);\n    }\n  };\n  const setupProgressTracking = operationId => {\n    if (eventSourceRef.current) {\n      eventSourceRef.current.close();\n    }\n    const eventSource = new EventSource(`http://localhost:8000/api/v1/phase4/search/progress-stream/${operationId}`);\n    eventSourceRef.current = eventSource;\n    eventSource.onmessage = event => {\n      try {\n        const data = JSON.parse(event.data);\n        switch (data.type) {\n          case 'connected':\n            console.log('SSE connected for operation:', operationId);\n            break;\n          case 'scan_progress':\n          case 'search_progress':\n            setProgress({\n              progress: data.progress || 0,\n              current_collection: data.current_collection,\n              collections_processed: data.collections_processed,\n              total_collections: data.total_collections,\n              current_statute: data.current_statute,\n              processed_count: data.processed_count\n            });\n            break;\n          case 'scan_completed':\n            setScanResults(data.results);\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'completed'\n            } : null);\n            setProgress({\n              progress: 100\n            });\n            setSuccessMessage('Scan completed successfully!');\n            eventSource.close();\n            break;\n          case 'search_completed':\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'completed'\n            } : null);\n            setProgress({\n              progress: 100\n            });\n            setSuccessMessage(`AI search completed! Session ID: ${data.session_id}`);\n            fetchSearchSessions(); // Refresh sessions\n            eventSource.close();\n            break;\n          case 'scan_error':\n          case 'search_error':\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'error'\n            } : null);\n            setError(data.error || 'Operation failed');\n            eventSource.close();\n            break;\n          case 'operation_stopped':\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'stopped'\n            } : null);\n            setSuccessMessage('Operation stopped successfully');\n            eventSource.close();\n            break;\n        }\n      } catch (err) {\n        console.error('SSE parsing error:', err);\n      }\n    };\n    eventSource.onerror = error => {\n      console.error('SSE error:', error);\n      eventSource.close();\n    };\n  };\n  const startScanMissingDates = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        scan: true\n      }));\n      setError(null);\n      const response = await apiClient.post('/phase4/search/scan-missing-dates', {\n        collections: selectedCollections.length > 0 ? selectedCollections : null\n      });\n      const scanId = response.data.scan_id;\n      setCurrentOperation({\n        type: 'scan',\n        id: scanId,\n        status: 'running'\n      });\n      setProgress({\n        progress: 0\n      });\n\n      // Setup progress tracking\n      setupProgressTracking(scanId);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Failed to start scan');\n      console.error('Start scan error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        scan: false\n      }));\n    }\n  };\n  const exportMissingDates = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        export: true\n      }));\n      setError(null);\n      const response = await apiClient.post('/phase4/search/export-missing-dates', {\n        collections: selectedCollections.length > 0 ? selectedCollections : null\n      }, {\n        responseType: 'blob'\n      });\n\n      // Create download link\n      const blob = new Blob([response.data], {\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n\n      // Extract filename from Content-Disposition header or use default\n      const contentDisposition = response.headers['content-disposition'];\n      let filename = `missing_dates_${new Date().toISOString().split('T')[0]}.xlsx`; // fallback\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename=([^;]+)/);\n        if (filenameMatch) {\n          filename = filenameMatch[1].replace(/\"/g, ''); // remove quotes\n        }\n      }\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      setSuccessMessage('Excel file downloaded successfully!');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || 'Failed to export missing dates');\n      console.error('Export error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        export: false\n      }));\n    }\n  };\n  const startAISearch = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        aiSearch: true\n      }));\n      setError(null);\n      const response = await apiClient.post('/phase4/search/search-dates-ai', {\n        collections: selectedCollections.length > 0 ? selectedCollections : null,\n        use_ai: true\n        // max_documents removed - process all missing dates like reference implementation\n      });\n      const searchId = response.data.search_id;\n      setCurrentOperation({\n        type: 'search',\n        id: searchId,\n        status: 'running'\n      });\n      setProgress({\n        progress: 0\n      });\n\n      // Setup progress tracking\n      setupProgressTracking(searchId);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || 'Failed to start AI search');\n      console.error('Start AI search error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        aiSearch: false\n      }));\n    }\n  };\n  const stopCurrentOperation = async () => {\n    if (!currentOperation) return;\n    try {\n      setLoading(prev => ({\n        ...prev,\n        stop: true\n      }));\n      await apiClient.post(`/phase4/search/stop-operation/${currentOperation.id}`);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.detail) || 'Failed to stop operation');\n      console.error('Stop operation error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        stop: false\n      }));\n    }\n  };\n  const handleFileUpload = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    try {\n      setLoading(prev => ({\n        ...prev,\n        upload: true\n      }));\n      setError(null);\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await apiClient.post('/phase4/search/upload-reviewed-excel', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setSuccessMessage(`Upload successful! ${response.data.approved_dates} approved dates found.`);\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.detail) || 'Failed to upload file');\n      console.error('Upload error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        upload: false\n      }));\n      // Reset file input\n      event.target.value = '';\n    }\n  };\n  const toggleCollectionSelection = collection => {\n    setSelectedCollections(prev => prev.includes(collection) ? prev.filter(c => c !== collection) : [...prev, collection]);\n  };\n  const selectAllCollections = () => {\n    setSelectedCollections(availableCollections);\n  };\n  const clearCollections = () => {\n    setSelectedCollections([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-gray-200 pb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-6 w-6 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), \"Date Search & Review\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mt-1\",\n        children: \"Find missing dates, export for review, and manage AI-powered date extraction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"h-5 w-5 text-green-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-green-800\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-5 w-5 text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-800\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"ml-auto text-red-600 hover:text-red-800\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-3\",\n        children: \"Select Collections\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: selectAllCollections,\n          className: \"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200\",\n          children: \"Select All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearCollections,\n          className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\",\n          children: \"Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600 py-1\",\n          children: [selectedCollections.length, \" of \", availableCollections.length, \" selected\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto\",\n        children: availableCollections.map(collection => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: selectedCollections.includes(collection),\n            onChange: () => toggleCollectionSelection(collection),\n            className: \"rounded border-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: collection\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, collection, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this), currentOperation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-blue-900\",\n          children: [currentOperation.type === 'scan' ? 'Scanning Collections' : 'AI Date Search', \" in Progress\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), currentOperation.status === 'running' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopCurrentOperation,\n          disabled: loading.stop,\n          className: \"flex items-center gap-2 px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50\",\n          children: [/*#__PURE__*/_jsxDEV(StopCircle, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 17\n          }, this), loading.stop ? 'Stopping...' : 'Stop']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n            style: {\n              width: `${progress.progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-blue-800\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Progress: \", progress.progress.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), progress.current_collection && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Current: \", progress.current_collection]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 17\n          }, this), progress.current_statute && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Processing: \", progress.current_statute]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this), progress.collections_processed && progress.total_collections && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Collections: \", progress.collections_processed, \"/\", progress.total_collections]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 17\n          }, this), progress.processed_count && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Documents Processed: \", progress.processed_count]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startScanMissingDates,\n        disabled: loading.scan || (currentOperation === null || currentOperation === void 0 ? void 0 : currentOperation.status) === 'running' || selectedCollections.length === 0,\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [loading.scan ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.scan ? 'Scanning...' : 'Scan Missing Dates'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportMissingDates,\n        disabled: loading.export || (currentOperation === null || currentOperation === void 0 ? void 0 : currentOperation.status) === 'running' || selectedCollections.length === 0,\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [loading.export ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Download, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.export ? 'Exporting...' : 'Export to Excel'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startAISearch,\n        disabled: loading.aiSearch || (currentOperation === null || currentOperation === void 0 ? void 0 : currentOperation.status) === 'running' || selectedCollections.length === 0,\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [loading.aiSearch ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.aiSearch ? 'Searching...' : 'AI Date Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 cursor-pointer\",\n        children: [loading.upload ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Upload, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.upload ? 'Uploading...' : 'Upload Reviewed'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".xlsx,.xls\",\n          onChange: handleFileUpload,\n          disabled: loading.upload,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this), scanResults && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FileSpreadsheet, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this), \"Scan Results\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: scanResults.summary.total_documents.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Total Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-red-900\",\n            children: scanResults.summary.documents_missing_dates.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-red-600\",\n            children: \"Missing Dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-900\",\n            children: scanResults.summary.documents_with_dates.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-600\",\n            children: \"With Dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-blue-900\",\n            children: [scanResults.summary.missing_percentage.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-600\",\n            children: \"Missing Percentage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 mb-3\",\n          children: \"Collection Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"Collection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 601,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"Missing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: Object.entries(scanResults.collection_breakdown).map(([collection, data]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-t border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: collection\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: data.total_documents.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-red-600\",\n                  children: data.missing_dates.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: [data.missing_percentage.toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 23\n                }, this)]\n              }, collection, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this), scanResults.sample_missing.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 mb-3\",\n          children: \"Sample Missing Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: scanResults.sample_missing.slice(0, 5).map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-3 rounded text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium\",\n              children: doc.Statute_Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-600\",\n              children: [doc.Province, \" \\u2022 \", doc.collection]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 9\n    }, this), searchSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 15\n          }, this), \"Recent Search Sessions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearSearchSessions,\n            disabled: loading.clearSessions,\n            className: \"flex items-center gap-2 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50\",\n            children: [loading.clearSessions ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"h-4 w-4 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 19\n            }, this), \"Clear All\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchSearchSessions,\n            className: \"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Session ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Created\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Documents\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"AI Processed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 676,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"High Confidence\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 677,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 671,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: searchSessions.slice(0, 10).map(session => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm font-mono\",\n                children: session.session_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: new Date(session.created_at).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs ${session.status === 'completed' ? 'bg-green-100 text-green-800' : session.status === 'pending_review' ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`,\n                  children: session.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: session.total_documents\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: session.metadata.ai_processed\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: session.metadata.high_confidence\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => viewSearchResults(session.session_id),\n                    disabled: loading.viewResults,\n                    className: \"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50\",\n                    title: \"View AI search results\",\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 700,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteSearchSession(session.session_id),\n                    className: \"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200\",\n                    title: \"Delete this session\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 708,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 21\n              }, this)]\n            }, session.session_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 386,\n    columnNumber: 5\n  }, this);\n};\n_s(DateSearchTab, \"JOVQ9t2cHvJvVN0rpzzkAOuc4b0=\");\n_c = DateSearchTab;\nexport default DateSearchTab;\nvar _c;\n$RefreshReg$(_c, \"DateSearchTab\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Search","Download","Upload","FileSpreadsheet","Brain","CheckCircle","AlertCircle","RefreshCw","StopCircle","Eye","apiClient","jsxDEV","_jsxDEV","DateSearchTab","_s","availableCollections","setAvailableCollections","selectedCollections","setSelectedCollections","scanResults","setScanResults","searchSessions","setSearchSessions","currentOperation","setCurrentOperation","progress","setProgress","loading","setLoading","error","setError","successMessage","setSuccessMessage","eventSourceRef","fetchAvailableCollections","fetchSearchSessions","timer","setTimeout","clearTimeout","current","close","response","get","data","collections","err","console","sessions","viewSearchResults","sessionId","prev","viewResults","dataStr","JSON","stringify","results","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","clearSearchSessions","window","confirm","clearSessions","delete","alert","cleared_sessions","deleteSearchSession","filter","s","session_id","setupProgressTracking","operationId","eventSource","EventSource","onmessage","event","parse","log","current_collection","collections_processed","total_collections","current_statute","processed_count","status","onerror","startScanMissingDates","scan","post","length","scanId","scan_id","id","_err$response","_err$response$data","detail","exportMissingDates","export","responseType","blob","a","contentDisposition","headers","filename","Date","toISOString","split","filenameMatch","match","replace","_err$response2","_err$response2$data","startAISearch","aiSearch","use_ai","searchId","search_id","_err$response3","_err$response3$data","stopCurrentOperation","stop","_err$response4","_err$response4$data","handleFileUpload","_event$target$files","file","target","files","upload","formData","FormData","append","approved_dates","_err$response5","_err$response5$data","value","toggleCollectionSelection","collection","includes","c","selectAllCollections","clearCollections","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","checked","onChange","disabled","style","width","toFixed","accept","summary","total_documents","toLocaleString","documents_missing_dates","documents_with_dates","missing_percentage","Object","entries","collection_breakdown","missing_dates","sample_missing","slice","doc","index","Statute_Name","Province","session","created_at","metadata","ai_processed","high_confidence","title","_c","$RefreshReg$"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/DateSearchTab.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Search, Download, Upload, FileSpreadsheet, Brain, CheckCircle, AlertCircle, RefreshCw, StopCircle, Eye } from 'lucide-react';\r\nimport apiClient from '../services/authService';\r\n\r\ninterface ScanResults {\r\n  scan_id: string;\r\n  collections_scanned: string[];\r\n  summary: {\r\n    total_documents: number;\r\n    documents_with_dates: number;\r\n    documents_missing_dates: number;\r\n    missing_percentage: number;\r\n  };\r\n  collection_breakdown: Record<string, {\r\n    total_documents: number;\r\n    missing_dates: number;\r\n    missing_percentage: number;\r\n  }>;\r\n  sample_missing: Array<{\r\n    _id: string;\r\n    Statute_Name: string;\r\n    Province: string;\r\n    collection: string;\r\n  }>;\r\n}\r\n\r\ninterface SearchSession {\r\n  session_id: string;\r\n  created_at: string;\r\n  status: string;\r\n  total_documents: number;\r\n  metadata: {\r\n    source_collections: string[];\r\n    ai_processed: number;\r\n    high_confidence: number;\r\n  };\r\n}\r\n\r\ninterface ProgressData {\r\n  progress: number;\r\n  current_collection?: string;\r\n  collections_processed?: number;\r\n  total_collections?: number;\r\n  current_statute?: string;\r\n  processed_count?: number;\r\n}\r\n\r\nconst DateSearchTab: React.FC = () => {\r\n  const [availableCollections, setAvailableCollections] = useState<string[]>([]);\r\n  const [selectedCollections, setSelectedCollections] = useState<string[]>([]);\r\n  const [scanResults, setScanResults] = useState<ScanResults | null>(null);\r\n  const [searchSessions, setSearchSessions] = useState<SearchSession[]>([]);\r\n  const [currentOperation, setCurrentOperation] = useState<{\r\n    type: 'scan' | 'search';\r\n    id: string;\r\n    status: 'running' | 'completed' | 'error' | 'stopped';\r\n  } | null>(null);\r\n  const [progress, setProgress] = useState<ProgressData>({ progress: 0 });\r\n  const [loading, setLoading] = useState<Record<string, boolean>>({});\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\r\n  \r\n  const eventSourceRef = useRef<EventSource | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchAvailableCollections();\r\n    fetchSearchSessions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Auto-dismiss messages\r\n    if (successMessage) {\r\n      const timer = setTimeout(() => setSuccessMessage(null), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [successMessage]);\r\n\r\n  useEffect(() => {\r\n    // Cleanup EventSource on unmount\r\n    return () => {\r\n      if (eventSourceRef.current) {\r\n        eventSourceRef.current.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const fetchAvailableCollections = async () => {\r\n    try {\r\n      const response = await apiClient.get('/phase4/search/collections');\r\n      setAvailableCollections(response.data.collections);\r\n      setSelectedCollections(response.data.collections); // Select all by default\r\n    } catch (err) {\r\n      setError('Failed to fetch collections');\r\n      console.error('Fetch collections error:', err);\r\n    }\r\n  };\r\n\r\n  const fetchSearchSessions = async () => {\r\n    try {\r\n      const response = await apiClient.get('/phase4/search/search-sessions');\r\n      setSearchSessions(response.data.sessions);\r\n    } catch (err) {\r\n      console.error('Fetch search sessions error:', err);\r\n    }\r\n  };\r\n\r\n  const viewSearchResults = async (sessionId: string) => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, viewResults: true }));\r\n      const response = await apiClient.get(`/phase4/search/search-results/${sessionId}`);\r\n      \r\n      // Show results in a modal or separate view - for now, download as JSON\r\n      const dataStr = JSON.stringify(response.data.results, null, 2);\r\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n      const url = URL.createObjectURL(dataBlob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `search-results-${sessionId}.json`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n      \r\n    } catch (err) {\r\n      setError('Failed to fetch search results');\r\n      console.error('View search results error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, viewResults: false }));\r\n    }\r\n  };\r\n\r\n  const clearSearchSessions = async () => {\r\n    if (!window.confirm('Are you sure you want to clear all search session history? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setLoading(prev => ({ ...prev, clearSessions: true }));\r\n      const response = await apiClient.delete('/phase4/search/search-sessions');\r\n      setSearchSessions([]);\r\n      alert(`Cleared ${response.data.cleared_sessions} search sessions`);\r\n    } catch (err) {\r\n      setError('Failed to clear search sessions');\r\n      console.error('Clear search sessions error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, clearSessions: false }));\r\n    }\r\n  };\r\n\r\n  const deleteSearchSession = async (sessionId: string) => {\r\n    if (!window.confirm(`Are you sure you want to delete search session ${sessionId}?`)) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await apiClient.delete(`/phase4/search/search-sessions/${sessionId}`);\r\n      setSearchSessions(prev => prev.filter(s => s.session_id !== sessionId));\r\n    } catch (err) {\r\n      setError('Failed to delete search session');\r\n      console.error('Delete search session error:', err);\r\n    }\r\n  };\r\n\r\n  const setupProgressTracking = (operationId: string) => {\r\n    if (eventSourceRef.current) {\r\n      eventSourceRef.current.close();\r\n    }\r\n\r\n    const eventSource = new EventSource(`http://localhost:8000/api/v1/phase4/search/progress-stream/${operationId}`);\r\n    eventSourceRef.current = eventSource;\r\n\r\n    eventSource.onmessage = (event) => {\r\n      try {\r\n        const data = JSON.parse(event.data);\r\n        \r\n        switch (data.type) {\r\n          case 'connected':\r\n            console.log('SSE connected for operation:', operationId);\r\n            break;\r\n          \r\n          case 'scan_progress':\r\n          case 'search_progress':\r\n            setProgress({\r\n              progress: data.progress || 0,\r\n              current_collection: data.current_collection,\r\n              collections_processed: data.collections_processed,\r\n              total_collections: data.total_collections,\r\n              current_statute: data.current_statute,\r\n              processed_count: data.processed_count\r\n            });\r\n            break;\r\n          \r\n          case 'scan_completed':\r\n            setScanResults(data.results);\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'completed' } : null);\r\n            setProgress({ progress: 100 });\r\n            setSuccessMessage('Scan completed successfully!');\r\n            eventSource.close();\r\n            break;\r\n          \r\n          case 'search_completed':\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'completed' } : null);\r\n            setProgress({ progress: 100 });\r\n            setSuccessMessage(`AI search completed! Session ID: ${data.session_id}`);\r\n            fetchSearchSessions(); // Refresh sessions\r\n            eventSource.close();\r\n            break;\r\n          \r\n          case 'scan_error':\r\n          case 'search_error':\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'error' } : null);\r\n            setError(data.error || 'Operation failed');\r\n            eventSource.close();\r\n            break;\r\n          \r\n          case 'operation_stopped':\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'stopped' } : null);\r\n            setSuccessMessage('Operation stopped successfully');\r\n            eventSource.close();\r\n            break;\r\n        }\r\n      } catch (err) {\r\n        console.error('SSE parsing error:', err);\r\n      }\r\n    };\r\n\r\n    eventSource.onerror = (error) => {\r\n      console.error('SSE error:', error);\r\n      eventSource.close();\r\n    };\r\n  };\r\n\r\n  const startScanMissingDates = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, scan: true }));\r\n      setError(null);\r\n      \r\n      const response = await apiClient.post('/phase4/search/scan-missing-dates', {\r\n        collections: selectedCollections.length > 0 ? selectedCollections : null\r\n      });\r\n      \r\n      const scanId = response.data.scan_id;\r\n      setCurrentOperation({ type: 'scan', id: scanId, status: 'running' });\r\n      setProgress({ progress: 0 });\r\n      \r\n      // Setup progress tracking\r\n      setupProgressTracking(scanId);\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to start scan');\r\n      console.error('Start scan error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, scan: false }));\r\n    }\r\n  };\r\n\r\n  const exportMissingDates = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, export: true }));\r\n      setError(null);\r\n      \r\n      const response = await apiClient.post('/phase4/search/export-missing-dates', {\r\n        collections: selectedCollections.length > 0 ? selectedCollections : null\r\n      }, {\r\n        responseType: 'blob'\r\n      });\r\n      \r\n      // Create download link\r\n      const blob = new Blob([response.data], { \r\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' \r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      \r\n      // Extract filename from Content-Disposition header or use default\r\n      const contentDisposition = response.headers['content-disposition'];\r\n      let filename = `missing_dates_${new Date().toISOString().split('T')[0]}.xlsx`; // fallback\r\n      if (contentDisposition) {\r\n        const filenameMatch = contentDisposition.match(/filename=([^;]+)/);\r\n        if (filenameMatch) {\r\n          filename = filenameMatch[1].replace(/\"/g, ''); // remove quotes\r\n        }\r\n      }\r\n      \r\n      a.download = filename;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n      \r\n      setSuccessMessage('Excel file downloaded successfully!');\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to export missing dates');\r\n      console.error('Export error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, export: false }));\r\n    }\r\n  };\r\n\r\n  const startAISearch = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, aiSearch: true }));\r\n      setError(null);\r\n      \r\n      const response = await apiClient.post('/phase4/search/search-dates-ai', {\r\n        collections: selectedCollections.length > 0 ? selectedCollections : null,\r\n        use_ai: true\r\n        // max_documents removed - process all missing dates like reference implementation\r\n      });\r\n      \r\n      const searchId = response.data.search_id;\r\n      setCurrentOperation({ type: 'search', id: searchId, status: 'running' });\r\n      setProgress({ progress: 0 });\r\n      \r\n      // Setup progress tracking\r\n      setupProgressTracking(searchId);\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to start AI search');\r\n      console.error('Start AI search error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, aiSearch: false }));\r\n    }\r\n  };\r\n\r\n  const stopCurrentOperation = async () => {\r\n    if (!currentOperation) return;\r\n    \r\n    try {\r\n      setLoading(prev => ({ ...prev, stop: true }));\r\n      await apiClient.post(`/phase4/search/stop-operation/${currentOperation.id}`);\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to stop operation');\r\n      console.error('Stop operation error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, stop: false }));\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    try {\r\n      setLoading(prev => ({ ...prev, upload: true }));\r\n      setError(null);\r\n      \r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      \r\n      const response = await apiClient.post('/phase4/search/upload-reviewed-excel', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      \r\n      setSuccessMessage(`Upload successful! ${response.data.approved_dates} approved dates found.`);\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to upload file');\r\n      console.error('Upload error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, upload: false }));\r\n      // Reset file input\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  const toggleCollectionSelection = (collection: string) => {\r\n    setSelectedCollections(prev =>\r\n      prev.includes(collection)\r\n        ? prev.filter(c => c !== collection)\r\n        : [...prev, collection]\r\n    );\r\n  };\r\n\r\n  const selectAllCollections = () => {\r\n    setSelectedCollections(availableCollections);\r\n  };\r\n\r\n  const clearCollections = () => {\r\n    setSelectedCollections([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 pb-4\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\r\n          <Search className=\"h-6 w-6 text-blue-600\" />\r\n          Date Search & Review\r\n        </h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">\r\n          Find missing dates, export for review, and manage AI-powered date extraction\r\n        </p>\r\n      </div>\r\n\r\n      {/* Success Message */}\r\n      {successMessage && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2\">\r\n          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n          <span className=\"text-green-800\">{successMessage}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2\">\r\n          <AlertCircle className=\"h-5 w-5 text-red-600\" />\r\n          <span className=\"text-red-800\">{error}</span>\r\n          <button\r\n            onClick={() => setError(null)}\r\n            className=\"ml-auto text-red-600 hover:text-red-800\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Collections Selection */}\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Select Collections</h3>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          <button\r\n            onClick={selectAllCollections}\r\n            className=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\r\n          >\r\n            Select All\r\n          </button>\r\n          <button\r\n            onClick={clearCollections}\r\n            className=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\r\n          >\r\n            Clear All\r\n          </button>\r\n          <span className=\"text-sm text-gray-600 py-1\">\r\n            {selectedCollections.length} of {availableCollections.length} selected\r\n          </span>\r\n        </div>\r\n        <div className=\"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto\">\r\n          {availableCollections.map(collection => (\r\n            <label key={collection} className=\"flex items-center gap-2 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selectedCollections.includes(collection)}\r\n                onChange={() => toggleCollectionSelection(collection)}\r\n                className=\"rounded border-gray-300\"\r\n              />\r\n              <span className=\"text-sm\">{collection}</span>\r\n            </label>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Operation Progress */}\r\n      {currentOperation && (\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h3 className=\"text-lg font-semibold text-blue-900\">\r\n              {currentOperation.type === 'scan' ? 'Scanning Collections' : 'AI Date Search'} in Progress\r\n            </h3>\r\n            {currentOperation.status === 'running' && (\r\n              <button\r\n                onClick={stopCurrentOperation}\r\n                disabled={loading.stop}\r\n                className=\"flex items-center gap-2 px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50\"\r\n              >\r\n                <StopCircle className=\"h-4 w-4\" />\r\n                {loading.stop ? 'Stopping...' : 'Stop'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            {/* Progress Bar */}\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div \r\n                className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                style={{ width: `${progress.progress}%` }}\r\n              />\r\n            </div>\r\n            \r\n            {/* Progress Details */}\r\n            <div className=\"text-sm text-blue-800\">\r\n              <div>Progress: {progress.progress.toFixed(1)}%</div>\r\n              {progress.current_collection && (\r\n                <div>Current: {progress.current_collection}</div>\r\n              )}\r\n              {progress.current_statute && (\r\n                <div>Processing: {progress.current_statute}</div>\r\n              )}\r\n              {progress.collections_processed && progress.total_collections && (\r\n                <div>Collections: {progress.collections_processed}/{progress.total_collections}</div>\r\n              )}\r\n              {progress.processed_count && (\r\n                <div>Documents Processed: {progress.processed_count}</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {/* Scan Missing Dates */}\r\n        <button\r\n          onClick={startScanMissingDates}\r\n          disabled={loading.scan || currentOperation?.status === 'running' || selectedCollections.length === 0}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {loading.scan ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Search className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.scan ? 'Scanning...' : 'Scan Missing Dates'}</span>\r\n        </button>\r\n\r\n        {/* Export to Excel */}\r\n        <button\r\n          onClick={exportMissingDates}\r\n          disabled={loading.export || currentOperation?.status === 'running' || selectedCollections.length === 0}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {loading.export ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Download className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.export ? 'Exporting...' : 'Export to Excel'}</span>\r\n        </button>\r\n\r\n        {/* AI Date Search */}\r\n        <button\r\n          onClick={startAISearch}\r\n          disabled={loading.aiSearch || currentOperation?.status === 'running' || selectedCollections.length === 0}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {loading.aiSearch ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Brain className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.aiSearch ? 'Searching...' : 'AI Date Search'}</span>\r\n        </button>\r\n\r\n        {/* Upload Reviewed Excel */}\r\n        <label className=\"flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 cursor-pointer\">\r\n          {loading.upload ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Upload className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.upload ? 'Uploading...' : 'Upload Reviewed'}</span>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".xlsx,.xls\"\r\n            onChange={handleFileUpload}\r\n            disabled={loading.upload}\r\n            className=\"hidden\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      {/* Scan Results */}\r\n      {scanResults && (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <FileSpreadsheet className=\"h-5 w-5\" />\r\n            Scan Results\r\n          </h3>\r\n          \r\n          {/* Summary */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n            <div className=\"bg-gray-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-gray-900\">{scanResults.summary.total_documents.toLocaleString()}</div>\r\n              <div className=\"text-sm text-gray-600\">Total Documents</div>\r\n            </div>\r\n            <div className=\"bg-red-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-red-900\">{scanResults.summary.documents_missing_dates.toLocaleString()}</div>\r\n              <div className=\"text-sm text-red-600\">Missing Dates</div>\r\n            </div>\r\n            <div className=\"bg-green-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-green-900\">{scanResults.summary.documents_with_dates.toLocaleString()}</div>\r\n              <div className=\"text-sm text-green-600\">With Dates</div>\r\n            </div>\r\n            <div className=\"bg-blue-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-blue-900\">{scanResults.summary.missing_percentage.toFixed(1)}%</div>\r\n              <div className=\"text-sm text-blue-600\">Missing Percentage</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Collection Breakdown */}\r\n          <div className=\"mb-6\">\r\n            <h4 className=\"font-medium text-gray-900 mb-3\">Collection Breakdown</h4>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full border border-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Collection</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Total</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Missing</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">%</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {Object.entries(scanResults.collection_breakdown).map(([collection, data]) => (\r\n                    <tr key={collection} className=\"border-t border-gray-200\">\r\n                      <td className=\"px-4 py-2 text-sm\">{collection}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{data.total_documents.toLocaleString()}</td>\r\n                      <td className=\"px-4 py-2 text-sm text-red-600\">{data.missing_dates.toLocaleString()}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{data.missing_percentage.toFixed(1)}%</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sample Missing Documents */}\r\n          {scanResults.sample_missing.length > 0 && (\r\n            <div>\r\n              <h4 className=\"font-medium text-gray-900 mb-3\">Sample Missing Documents</h4>\r\n              <div className=\"space-y-2\">\r\n                {scanResults.sample_missing.slice(0, 5).map((doc, index) => (\r\n                  <div key={index} className=\"bg-gray-50 p-3 rounded text-sm\">\r\n                    <div className=\"font-medium\">{doc.Statute_Name}</div>\r\n                    <div className=\"text-gray-600\">{doc.Province}  {doc.collection}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Search Sessions */}\r\n      {searchSessions.length > 0 && (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n              <Eye className=\"h-5 w-5\" />\r\n              Recent Search Sessions\r\n            </h3>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={clearSearchSessions}\r\n                disabled={loading.clearSessions}\r\n                className=\"flex items-center gap-2 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50\"\r\n              >\r\n                {loading.clearSessions ? (\r\n                  <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                ) : (\r\n                  <AlertCircle className=\"h-4 w-4\" />\r\n                )}\r\n                Clear All\r\n              </button>\r\n              <button\r\n                onClick={fetchSearchSessions}\r\n                className=\"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\r\n              >\r\n                <RefreshCw className=\"h-4 w-4\" />\r\n                Refresh\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full border border-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Session ID</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Created</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Status</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Documents</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">AI Processed</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">High Confidence</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {searchSessions.slice(0, 10).map((session) => (\r\n                  <tr key={session.session_id} className=\"border-t border-gray-200\">\r\n                    <td className=\"px-4 py-2 text-sm font-mono\">{session.session_id}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">{new Date(session.created_at).toLocaleString()}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">\r\n                      <span className={`px-2 py-1 rounded text-xs ${\r\n                        session.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                        session.status === 'pending_review' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {session.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-2 text-sm\">{session.total_documents}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">{session.metadata.ai_processed}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">{session.metadata.high_confidence}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">\r\n                      <div className=\"flex gap-1\">\r\n                        <button\r\n                          onClick={() => viewSearchResults(session.session_id)}\r\n                          disabled={loading.viewResults}\r\n                          className=\"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50\"\r\n                          title=\"View AI search results\"\r\n                        >\r\n                          View\r\n                        </button>\r\n                        <button\r\n                          onClick={() => deleteSearchSession(session.session_id)}\r\n                          className=\"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200\"\r\n                          title=\"Delete this session\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateSearchTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}