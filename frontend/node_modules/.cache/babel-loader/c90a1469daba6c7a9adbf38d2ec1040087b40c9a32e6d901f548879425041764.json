{"ast":null,"code":"var _jsxFileName = \"D:\\\\DigiFloat\\\\LawChronicle\\\\frontend\\\\src\\\\components\\\\DateSearchTab.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Search, Download, Upload, FileSpreadsheet, Brain, CheckCircle, AlertCircle, RefreshCw, StopCircle, Eye } from 'lucide-react';\nimport apiClient from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DateSearchTab = () => {\n  _s();\n  const [availableCollections, setAvailableCollections] = useState([]);\n  const [selectedCollections, setSelectedCollections] = useState([]);\n  const [scanResults, setScanResults] = useState(null);\n  const [searchSessions, setSearchSessions] = useState([]);\n  const [currentOperation, setCurrentOperation] = useState(null);\n  const [progress, setProgress] = useState({\n    progress: 0\n  });\n  const [loading, setLoading] = useState({});\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const eventSourceRef = useRef(null);\n  useEffect(() => {\n    fetchAvailableCollections();\n    fetchSearchSessions();\n  }, []);\n  useEffect(() => {\n    // Auto-dismiss messages\n    if (successMessage) {\n      const timer = setTimeout(() => setSuccessMessage(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [successMessage]);\n  useEffect(() => {\n    // Cleanup EventSource on unmount\n    return () => {\n      if (eventSourceRef.current) {\n        eventSourceRef.current.close();\n      }\n    };\n  }, []);\n  const fetchAvailableCollections = async () => {\n    try {\n      const response = await apiClient.get('/phase4/search/collections');\n      setAvailableCollections(response.data.collections);\n      setSelectedCollections(response.data.collections); // Select all by default\n    } catch (err) {\n      setError('Failed to fetch collections');\n      console.error('Fetch collections error:', err);\n    }\n  };\n  const fetchSearchSessions = async () => {\n    try {\n      const response = await apiClient.get('/phase4/search/search-sessions');\n      setSearchSessions(response.data.sessions);\n    } catch (err) {\n      console.error('Fetch search sessions error:', err);\n    }\n  };\n  const viewSearchResults = async sessionId => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        viewResults: true\n      }));\n      const response = await apiClient.get(`/phase4/search/search-results/${sessionId}`, {\n        responseType: 'blob'\n      });\n\n      // Create download link for Excel file\n      const blob = new Blob([response.data], {\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n\n      // Extract filename from Content-Disposition header or use default\n      const contentDisposition = response.headers['content-disposition'];\n      let filename = `search-results-${sessionId}.xlsx`;\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename=([^;]+)/);\n        if (filenameMatch) {\n          filename = filenameMatch[1].replace(/\"/g, '');\n        }\n      }\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (err) {\n      setError('Failed to download search results');\n      console.error('View search results error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        viewResults: false\n      }));\n    }\n  };\n  const clearSearchSessions = async () => {\n    if (!window.confirm('Are you sure you want to clear all search session history? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      setLoading(prev => ({\n        ...prev,\n        clearSessions: true\n      }));\n      const response = await apiClient.delete('/phase4/search/search-sessions');\n      setSearchSessions([]);\n      alert(`Cleared ${response.data.cleared_sessions} search sessions`);\n    } catch (err) {\n      setError('Failed to clear search sessions');\n      console.error('Clear search sessions error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        clearSessions: false\n      }));\n    }\n  };\n  const deleteSearchSession = async sessionId => {\n    if (!window.confirm(`Are you sure you want to delete search session ${sessionId}?`)) {\n      return;\n    }\n    try {\n      await apiClient.delete(`/phase4/search/search-sessions/${sessionId}`);\n      setSearchSessions(prev => prev.filter(s => s.session_id !== sessionId));\n    } catch (err) {\n      setError('Failed to delete search session');\n      console.error('Delete search session error:', err);\n    }\n  };\n  const setupProgressTracking = operationId => {\n    if (eventSourceRef.current) {\n      eventSourceRef.current.close();\n    }\n    const eventSource = new EventSource(`http://localhost:8000/api/v1/phase4/search/progress-stream/${operationId}`);\n    eventSourceRef.current = eventSource;\n    eventSource.onmessage = event => {\n      try {\n        const data = JSON.parse(event.data);\n        switch (data.type) {\n          case 'connected':\n            console.log('SSE connected for operation:', operationId);\n            break;\n          case 'scan_progress':\n          case 'search_progress':\n            setProgress({\n              progress: data.progress || 0,\n              current_collection: data.current_collection,\n              collections_processed: data.collections_processed,\n              total_collections: data.total_collections,\n              current_statute: data.current_statute,\n              processed_count: data.processed_count\n            });\n            break;\n          case 'scan_completed':\n            setScanResults(data.results);\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'completed'\n            } : null);\n            setProgress({\n              progress: 100\n            });\n            setSuccessMessage('Scan completed successfully!');\n            eventSource.close();\n            break;\n          case 'search_completed':\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'completed'\n            } : null);\n            setProgress({\n              progress: 100\n            });\n            setSuccessMessage(`AI search completed! Session ID: ${data.session_id}`);\n            fetchSearchSessions(); // Refresh sessions\n            eventSource.close();\n            break;\n          case 'scan_error':\n          case 'search_error':\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'error'\n            } : null);\n            setError(data.error || 'Operation failed');\n            eventSource.close();\n            break;\n          case 'operation_stopped':\n            setCurrentOperation(prev => prev ? {\n              ...prev,\n              status: 'stopped'\n            } : null);\n            setSuccessMessage('Operation stopped successfully');\n            eventSource.close();\n            break;\n        }\n      } catch (err) {\n        console.error('SSE parsing error:', err);\n      }\n    };\n    eventSource.onerror = error => {\n      console.error('SSE error:', error);\n      eventSource.close();\n    };\n  };\n  const startScanMissingDates = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        scan: true\n      }));\n      setError(null);\n      const response = await apiClient.post('/phase4/search/scan-missing-dates', {\n        collections: selectedCollections.length > 0 ? selectedCollections : null\n      });\n      const scanId = response.data.scan_id;\n      setCurrentOperation({\n        type: 'scan',\n        id: scanId,\n        status: 'running'\n      });\n      setProgress({\n        progress: 0\n      });\n\n      // Setup progress tracking\n      setupProgressTracking(scanId);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Failed to start scan');\n      console.error('Start scan error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        scan: false\n      }));\n    }\n  };\n  const exportMissingDates = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        export: true\n      }));\n      setError(null);\n      const response = await apiClient.post('/phase4/search/export-missing-dates', {\n        collections: selectedCollections.length > 0 ? selectedCollections : null\n      }, {\n        responseType: 'blob'\n      });\n\n      // Create download link\n      const blob = new Blob([response.data], {\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n\n      // Extract filename from Content-Disposition header or use default\n      const contentDisposition = response.headers['content-disposition'];\n      let filename = `missing_dates_${new Date().toISOString().split('T')[0]}.xlsx`; // fallback\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename=([^;]+)/);\n        if (filenameMatch) {\n          filename = filenameMatch[1].replace(/\"/g, ''); // remove quotes\n        }\n      }\n      a.download = filename;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      setSuccessMessage('Excel file downloaded successfully!');\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || 'Failed to export missing dates');\n      console.error('Export error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        export: false\n      }));\n    }\n  };\n  const startAISearch = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        aiSearch: true\n      }));\n      setError(null);\n      const response = await apiClient.post('/phase4/search/search-dates-ai', {\n        collections: selectedCollections.length > 0 ? selectedCollections : null,\n        use_ai: true\n        // max_documents removed - process all missing dates like reference implementation\n      });\n      const searchId = response.data.search_id;\n      setCurrentOperation({\n        type: 'search',\n        id: searchId,\n        status: 'running'\n      });\n      setProgress({\n        progress: 0\n      });\n\n      // Setup progress tracking\n      setupProgressTracking(searchId);\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || 'Failed to start AI search');\n      console.error('Start AI search error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        aiSearch: false\n      }));\n    }\n  };\n  const stopCurrentOperation = async () => {\n    if (!currentOperation) return;\n    try {\n      setLoading(prev => ({\n        ...prev,\n        stop: true\n      }));\n      await apiClient.post(`/phase4/search/stop-operation/${currentOperation.id}`);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.detail) || 'Failed to stop operation');\n      console.error('Stop operation error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        stop: false\n      }));\n    }\n  };\n  const handleFileUpload = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (!file) return;\n    try {\n      setLoading(prev => ({\n        ...prev,\n        upload: true\n      }));\n      setError(null);\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await apiClient.post('/phase4/search/upload-reviewed-excel', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setSuccessMessage(`Upload successful! ${response.data.approved_dates} approved dates found.`);\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.detail) || 'Failed to upload file');\n      console.error('Upload error:', err);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        upload: false\n      }));\n      // Reset file input\n      event.target.value = '';\n    }\n  };\n  const toggleCollectionSelection = collection => {\n    setSelectedCollections(prev => prev.includes(collection) ? prev.filter(c => c !== collection) : [...prev, collection]);\n  };\n  const selectAllCollections = () => {\n    setSelectedCollections(availableCollections);\n  };\n  const clearCollections = () => {\n    setSelectedCollections([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-gray-200 pb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-gray-900 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-6 w-6 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), \"Date Search & Review\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mt-1\",\n        children: \"Find missing dates, export for review, and manage AI-powered date extraction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"h-5 w-5 text-green-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-green-800\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-5 w-5 text-red-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-red-800\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"ml-auto text-red-600 hover:text-red-800\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-3\",\n        children: \"Select Collections\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: selectAllCollections,\n          className: \"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200\",\n          children: \"Select All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearCollections,\n          className: \"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\",\n          children: \"Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600 py-1\",\n          children: [selectedCollections.length, \" of \", availableCollections.length, \" selected\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto\",\n        children: availableCollections.map(collection => /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"flex items-center gap-2 cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: selectedCollections.includes(collection),\n            onChange: () => toggleCollectionSelection(collection),\n            className: \"rounded border-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: collection\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this)]\n        }, collection, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 7\n    }, this), currentOperation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-blue-900\",\n          children: [currentOperation.type === 'scan' ? 'Scanning Collections' : 'AI Date Search', \" in Progress\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this), currentOperation.status === 'running' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopCurrentOperation,\n          disabled: loading.stop,\n          className: \"flex items-center gap-2 px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50\",\n          children: [/*#__PURE__*/_jsxDEV(StopCircle, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this), loading.stop ? 'Stopping...' : 'Stop']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n            style: {\n              width: `${progress.progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-blue-800\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Progress: \", progress.progress.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this), progress.current_collection && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Current: \", progress.current_collection]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 17\n          }, this), progress.current_statute && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Processing: \", progress.current_statute]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 17\n          }, this), progress.collections_processed && progress.total_collections && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Collections: \", progress.collections_processed, \"/\", progress.total_collections]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 17\n          }, this), progress.processed_count && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Documents Processed: \", progress.processed_count]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startScanMissingDates,\n        disabled: loading.scan || (currentOperation === null || currentOperation === void 0 ? void 0 : currentOperation.status) === 'running' || selectedCollections.length === 0,\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [loading.scan ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.scan ? 'Scanning...' : 'Scan Missing Dates'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportMissingDates,\n        disabled: loading.export || (currentOperation === null || currentOperation === void 0 ? void 0 : currentOperation.status) === 'running' || selectedCollections.length === 0,\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [loading.export ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Download, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.export ? 'Exporting...' : 'Export to Excel'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startAISearch,\n        disabled: loading.aiSearch || (currentOperation === null || currentOperation === void 0 ? void 0 : currentOperation.status) === 'running' || selectedCollections.length === 0,\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n        children: [loading.aiSearch ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.aiSearch ? 'Searching...' : 'AI Date Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 cursor-pointer\",\n        children: [loading.upload ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-5 w-5 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Upload, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: loading.upload ? 'Uploading...' : 'Upload Reviewed'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".xlsx,.xls\",\n          onChange: handleFileUpload,\n          disabled: loading.upload,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this), scanResults && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(FileSpreadsheet, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this), \"Scan Results\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: scanResults.summary.total_documents.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Total Documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-red-900\",\n            children: scanResults.summary.documents_missing_dates.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-red-600\",\n            children: \"Missing Dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-900\",\n            children: scanResults.summary.documents_with_dates.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-600\",\n            children: \"With Dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-blue-900\",\n            children: [scanResults.summary.missing_percentage.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-600\",\n            children: \"Missing Percentage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 mb-3\",\n          children: \"Collection Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"Collection\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"Missing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                  children: \"%\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: Object.entries(scanResults.collection_breakdown).map(([collection, data]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"border-t border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: collection\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: data.total_documents.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm text-red-600\",\n                  children: data.missing_dates.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-sm\",\n                  children: [data.missing_percentage.toFixed(1), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 23\n                }, this)]\n              }, collection, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 11\n      }, this), scanResults.sample_missing.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-medium text-gray-900 mb-3\",\n          children: \"Sample Missing Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: scanResults.sample_missing.slice(0, 5).map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-3 rounded text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium\",\n              children: doc.Statute_Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-600\",\n              children: [doc.Province, \" \\u2022 \", doc.collection]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 9\n    }, this), searchSessions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this), \"Recent Search Sessions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearSearchSessions,\n            disabled: loading.clearSessions,\n            className: \"flex items-center gap-2 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50\",\n            children: [loading.clearSessions ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"h-4 w-4 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 19\n            }, this), \"Clear All\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchSearchSessions,\n            className: \"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), \"Refresh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full border border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Session ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Created\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Documents\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"AI Processed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"High Confidence\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-2 text-left text-sm font-medium text-gray-900\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: searchSessions.slice(0, 10).map(session => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm font-mono\",\n                children: session.session_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: new Date(session.created_at).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 rounded text-xs ${session.status === 'completed' ? 'bg-green-100 text-green-800' : session.status === 'pending_review' ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`,\n                  children: session.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: session.total_documents\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: session.metadata.ai_processed\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: session.metadata.high_confidence\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-2 text-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => viewSearchResults(session.session_id),\n                    disabled: loading.viewResults,\n                    className: \"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50\",\n                    title: \"View AI search results\",\n                    children: \"View\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteSearchSession(session.session_id),\n                    className: \"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200\",\n                    title: \"Delete this session\",\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 713,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 21\n              }, this)]\n            }, session.session_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 400,\n    columnNumber: 5\n  }, this);\n};\n_s(DateSearchTab, \"JOVQ9t2cHvJvVN0rpzzkAOuc4b0=\");\n_c = DateSearchTab;\nexport default DateSearchTab;\nvar _c;\n$RefreshReg$(_c, \"DateSearchTab\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Search","Download","Upload","FileSpreadsheet","Brain","CheckCircle","AlertCircle","RefreshCw","StopCircle","Eye","apiClient","jsxDEV","_jsxDEV","DateSearchTab","_s","availableCollections","setAvailableCollections","selectedCollections","setSelectedCollections","scanResults","setScanResults","searchSessions","setSearchSessions","currentOperation","setCurrentOperation","progress","setProgress","loading","setLoading","error","setError","successMessage","setSuccessMessage","eventSourceRef","fetchAvailableCollections","fetchSearchSessions","timer","setTimeout","clearTimeout","current","close","response","get","data","collections","err","console","sessions","viewSearchResults","sessionId","prev","viewResults","responseType","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","contentDisposition","headers","filename","filenameMatch","match","replace","download","body","appendChild","click","removeChild","revokeObjectURL","clearSearchSessions","window","confirm","clearSessions","delete","alert","cleared_sessions","deleteSearchSession","filter","s","session_id","setupProgressTracking","operationId","eventSource","EventSource","onmessage","event","JSON","parse","log","current_collection","collections_processed","total_collections","current_statute","processed_count","results","status","onerror","startScanMissingDates","scan","post","length","scanId","scan_id","id","_err$response","_err$response$data","detail","exportMissingDates","export","a","Date","toISOString","split","_err$response2","_err$response2$data","startAISearch","aiSearch","use_ai","searchId","search_id","_err$response3","_err$response3$data","stopCurrentOperation","stop","_err$response4","_err$response4$data","handleFileUpload","_event$target$files","file","target","files","upload","formData","FormData","append","approved_dates","_err$response5","_err$response5$data","value","toggleCollectionSelection","collection","includes","c","selectAllCollections","clearCollections","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","checked","onChange","disabled","style","width","toFixed","accept","summary","total_documents","toLocaleString","documents_missing_dates","documents_with_dates","missing_percentage","Object","entries","collection_breakdown","missing_dates","sample_missing","slice","doc","index","Statute_Name","Province","session","created_at","metadata","ai_processed","high_confidence","title","_c","$RefreshReg$"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/DateSearchTab.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Search, Download, Upload, FileSpreadsheet, Brain, CheckCircle, AlertCircle, RefreshCw, StopCircle, Eye } from 'lucide-react';\r\nimport apiClient from '../services/authService';\r\n\r\ninterface ScanResults {\r\n  scan_id: string;\r\n  collections_scanned: string[];\r\n  summary: {\r\n    total_documents: number;\r\n    documents_with_dates: number;\r\n    documents_missing_dates: number;\r\n    missing_percentage: number;\r\n  };\r\n  collection_breakdown: Record<string, {\r\n    total_documents: number;\r\n    missing_dates: number;\r\n    missing_percentage: number;\r\n  }>;\r\n  sample_missing: Array<{\r\n    _id: string;\r\n    Statute_Name: string;\r\n    Province: string;\r\n    collection: string;\r\n  }>;\r\n}\r\n\r\ninterface SearchSession {\r\n  session_id: string;\r\n  created_at: string;\r\n  status: string;\r\n  total_documents: number;\r\n  metadata: {\r\n    source_collections: string[];\r\n    ai_processed: number;\r\n    high_confidence: number;\r\n  };\r\n}\r\n\r\ninterface ProgressData {\r\n  progress: number;\r\n  current_collection?: string;\r\n  collections_processed?: number;\r\n  total_collections?: number;\r\n  current_statute?: string;\r\n  processed_count?: number;\r\n}\r\n\r\nconst DateSearchTab: React.FC = () => {\r\n  const [availableCollections, setAvailableCollections] = useState<string[]>([]);\r\n  const [selectedCollections, setSelectedCollections] = useState<string[]>([]);\r\n  const [scanResults, setScanResults] = useState<ScanResults | null>(null);\r\n  const [searchSessions, setSearchSessions] = useState<SearchSession[]>([]);\r\n  const [currentOperation, setCurrentOperation] = useState<{\r\n    type: 'scan' | 'search';\r\n    id: string;\r\n    status: 'running' | 'completed' | 'error' | 'stopped';\r\n  } | null>(null);\r\n  const [progress, setProgress] = useState<ProgressData>({ progress: 0 });\r\n  const [loading, setLoading] = useState<Record<string, boolean>>({});\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\r\n  \r\n  const eventSourceRef = useRef<EventSource | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchAvailableCollections();\r\n    fetchSearchSessions();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Auto-dismiss messages\r\n    if (successMessage) {\r\n      const timer = setTimeout(() => setSuccessMessage(null), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [successMessage]);\r\n\r\n  useEffect(() => {\r\n    // Cleanup EventSource on unmount\r\n    return () => {\r\n      if (eventSourceRef.current) {\r\n        eventSourceRef.current.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const fetchAvailableCollections = async () => {\r\n    try {\r\n      const response = await apiClient.get('/phase4/search/collections');\r\n      setAvailableCollections(response.data.collections);\r\n      setSelectedCollections(response.data.collections); // Select all by default\r\n    } catch (err) {\r\n      setError('Failed to fetch collections');\r\n      console.error('Fetch collections error:', err);\r\n    }\r\n  };\r\n\r\n  const fetchSearchSessions = async () => {\r\n    try {\r\n      const response = await apiClient.get('/phase4/search/search-sessions');\r\n      setSearchSessions(response.data.sessions);\r\n    } catch (err) {\r\n      console.error('Fetch search sessions error:', err);\r\n    }\r\n  };\r\n\r\n  const viewSearchResults = async (sessionId: string) => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, viewResults: true }));\r\n      const response = await apiClient.get(`/phase4/search/search-results/${sessionId}`, {\r\n        responseType: 'blob'\r\n      });\r\n      \r\n      // Create download link for Excel file\r\n      const blob = new Blob([response.data], { \r\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' \r\n      });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      \r\n      // Extract filename from Content-Disposition header or use default\r\n      const contentDisposition = response.headers['content-disposition'];\r\n      let filename = `search-results-${sessionId}.xlsx`;\r\n      if (contentDisposition) {\r\n        const filenameMatch = contentDisposition.match(/filename=([^;]+)/);\r\n        if (filenameMatch) {\r\n          filename = filenameMatch[1].replace(/\"/g, '');\r\n        }\r\n      }\r\n      \r\n      link.download = filename;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n      \r\n    } catch (err) {\r\n      setError('Failed to download search results');\r\n      console.error('View search results error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, viewResults: false }));\r\n    }\r\n  };\r\n\r\n  const clearSearchSessions = async () => {\r\n    if (!window.confirm('Are you sure you want to clear all search session history? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setLoading(prev => ({ ...prev, clearSessions: true }));\r\n      const response = await apiClient.delete('/phase4/search/search-sessions');\r\n      setSearchSessions([]);\r\n      alert(`Cleared ${response.data.cleared_sessions} search sessions`);\r\n    } catch (err) {\r\n      setError('Failed to clear search sessions');\r\n      console.error('Clear search sessions error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, clearSessions: false }));\r\n    }\r\n  };\r\n\r\n  const deleteSearchSession = async (sessionId: string) => {\r\n    if (!window.confirm(`Are you sure you want to delete search session ${sessionId}?`)) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await apiClient.delete(`/phase4/search/search-sessions/${sessionId}`);\r\n      setSearchSessions(prev => prev.filter(s => s.session_id !== sessionId));\r\n    } catch (err) {\r\n      setError('Failed to delete search session');\r\n      console.error('Delete search session error:', err);\r\n    }\r\n  };\r\n\r\n  const setupProgressTracking = (operationId: string) => {\r\n    if (eventSourceRef.current) {\r\n      eventSourceRef.current.close();\r\n    }\r\n\r\n    const eventSource = new EventSource(`http://localhost:8000/api/v1/phase4/search/progress-stream/${operationId}`);\r\n    eventSourceRef.current = eventSource;\r\n\r\n    eventSource.onmessage = (event) => {\r\n      try {\r\n        const data = JSON.parse(event.data);\r\n        \r\n        switch (data.type) {\r\n          case 'connected':\r\n            console.log('SSE connected for operation:', operationId);\r\n            break;\r\n          \r\n          case 'scan_progress':\r\n          case 'search_progress':\r\n            setProgress({\r\n              progress: data.progress || 0,\r\n              current_collection: data.current_collection,\r\n              collections_processed: data.collections_processed,\r\n              total_collections: data.total_collections,\r\n              current_statute: data.current_statute,\r\n              processed_count: data.processed_count\r\n            });\r\n            break;\r\n          \r\n          case 'scan_completed':\r\n            setScanResults(data.results);\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'completed' } : null);\r\n            setProgress({ progress: 100 });\r\n            setSuccessMessage('Scan completed successfully!');\r\n            eventSource.close();\r\n            break;\r\n          \r\n          case 'search_completed':\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'completed' } : null);\r\n            setProgress({ progress: 100 });\r\n            setSuccessMessage(`AI search completed! Session ID: ${data.session_id}`);\r\n            fetchSearchSessions(); // Refresh sessions\r\n            eventSource.close();\r\n            break;\r\n          \r\n          case 'scan_error':\r\n          case 'search_error':\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'error' } : null);\r\n            setError(data.error || 'Operation failed');\r\n            eventSource.close();\r\n            break;\r\n          \r\n          case 'operation_stopped':\r\n            setCurrentOperation(prev => prev ? { ...prev, status: 'stopped' } : null);\r\n            setSuccessMessage('Operation stopped successfully');\r\n            eventSource.close();\r\n            break;\r\n        }\r\n      } catch (err) {\r\n        console.error('SSE parsing error:', err);\r\n      }\r\n    };\r\n\r\n    eventSource.onerror = (error) => {\r\n      console.error('SSE error:', error);\r\n      eventSource.close();\r\n    };\r\n  };\r\n\r\n  const startScanMissingDates = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, scan: true }));\r\n      setError(null);\r\n      \r\n      const response = await apiClient.post('/phase4/search/scan-missing-dates', {\r\n        collections: selectedCollections.length > 0 ? selectedCollections : null\r\n      });\r\n      \r\n      const scanId = response.data.scan_id;\r\n      setCurrentOperation({ type: 'scan', id: scanId, status: 'running' });\r\n      setProgress({ progress: 0 });\r\n      \r\n      // Setup progress tracking\r\n      setupProgressTracking(scanId);\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to start scan');\r\n      console.error('Start scan error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, scan: false }));\r\n    }\r\n  };\r\n\r\n  const exportMissingDates = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, export: true }));\r\n      setError(null);\r\n      \r\n      const response = await apiClient.post('/phase4/search/export-missing-dates', {\r\n        collections: selectedCollections.length > 0 ? selectedCollections : null\r\n      }, {\r\n        responseType: 'blob'\r\n      });\r\n      \r\n      // Create download link\r\n      const blob = new Blob([response.data], { \r\n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' \r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      \r\n      // Extract filename from Content-Disposition header or use default\r\n      const contentDisposition = response.headers['content-disposition'];\r\n      let filename = `missing_dates_${new Date().toISOString().split('T')[0]}.xlsx`; // fallback\r\n      if (contentDisposition) {\r\n        const filenameMatch = contentDisposition.match(/filename=([^;]+)/);\r\n        if (filenameMatch) {\r\n          filename = filenameMatch[1].replace(/\"/g, ''); // remove quotes\r\n        }\r\n      }\r\n      \r\n      a.download = filename;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n      \r\n      setSuccessMessage('Excel file downloaded successfully!');\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to export missing dates');\r\n      console.error('Export error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, export: false }));\r\n    }\r\n  };\r\n\r\n  const startAISearch = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, aiSearch: true }));\r\n      setError(null);\r\n      \r\n      const response = await apiClient.post('/phase4/search/search-dates-ai', {\r\n        collections: selectedCollections.length > 0 ? selectedCollections : null,\r\n        use_ai: true\r\n        // max_documents removed - process all missing dates like reference implementation\r\n      });\r\n      \r\n      const searchId = response.data.search_id;\r\n      setCurrentOperation({ type: 'search', id: searchId, status: 'running' });\r\n      setProgress({ progress: 0 });\r\n      \r\n      // Setup progress tracking\r\n      setupProgressTracking(searchId);\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to start AI search');\r\n      console.error('Start AI search error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, aiSearch: false }));\r\n    }\r\n  };\r\n\r\n  const stopCurrentOperation = async () => {\r\n    if (!currentOperation) return;\r\n    \r\n    try {\r\n      setLoading(prev => ({ ...prev, stop: true }));\r\n      await apiClient.post(`/phase4/search/stop-operation/${currentOperation.id}`);\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to stop operation');\r\n      console.error('Stop operation error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, stop: false }));\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    try {\r\n      setLoading(prev => ({ ...prev, upload: true }));\r\n      setError(null);\r\n      \r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      \r\n      const response = await apiClient.post('/phase4/search/upload-reviewed-excel', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      \r\n      setSuccessMessage(`Upload successful! ${response.data.approved_dates} approved dates found.`);\r\n      \r\n    } catch (err: any) {\r\n      setError(err.response?.data?.detail || 'Failed to upload file');\r\n      console.error('Upload error:', err);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, upload: false }));\r\n      // Reset file input\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  const toggleCollectionSelection = (collection: string) => {\r\n    setSelectedCollections(prev =>\r\n      prev.includes(collection)\r\n        ? prev.filter(c => c !== collection)\r\n        : [...prev, collection]\r\n    );\r\n  };\r\n\r\n  const selectAllCollections = () => {\r\n    setSelectedCollections(availableCollections);\r\n  };\r\n\r\n  const clearCollections = () => {\r\n    setSelectedCollections([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"border-b border-gray-200 pb-4\">\r\n        <h2 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\r\n          <Search className=\"h-6 w-6 text-blue-600\" />\r\n          Date Search & Review\r\n        </h2>\r\n        <p className=\"text-sm text-gray-600 mt-1\">\r\n          Find missing dates, export for review, and manage AI-powered date extraction\r\n        </p>\r\n      </div>\r\n\r\n      {/* Success Message */}\r\n      {successMessage && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-2\">\r\n          <CheckCircle className=\"h-5 w-5 text-green-600\" />\r\n          <span className=\"text-green-800\">{successMessage}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2\">\r\n          <AlertCircle className=\"h-5 w-5 text-red-600\" />\r\n          <span className=\"text-red-800\">{error}</span>\r\n          <button\r\n            onClick={() => setError(null)}\r\n            className=\"ml-auto text-red-600 hover:text-red-800\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Collections Selection */}\r\n      <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Select Collections</h3>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          <button\r\n            onClick={selectAllCollections}\r\n            className=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\r\n          >\r\n            Select All\r\n          </button>\r\n          <button\r\n            onClick={clearCollections}\r\n            className=\"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\r\n          >\r\n            Clear All\r\n          </button>\r\n          <span className=\"text-sm text-gray-600 py-1\">\r\n            {selectedCollections.length} of {availableCollections.length} selected\r\n          </span>\r\n        </div>\r\n        <div className=\"grid grid-cols-4 gap-2 max-h-32 overflow-y-auto\">\r\n          {availableCollections.map(collection => (\r\n            <label key={collection} className=\"flex items-center gap-2 cursor-pointer\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={selectedCollections.includes(collection)}\r\n                onChange={() => toggleCollectionSelection(collection)}\r\n                className=\"rounded border-gray-300\"\r\n              />\r\n              <span className=\"text-sm\">{collection}</span>\r\n            </label>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Current Operation Progress */}\r\n      {currentOperation && (\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h3 className=\"text-lg font-semibold text-blue-900\">\r\n              {currentOperation.type === 'scan' ? 'Scanning Collections' : 'AI Date Search'} in Progress\r\n            </h3>\r\n            {currentOperation.status === 'running' && (\r\n              <button\r\n                onClick={stopCurrentOperation}\r\n                disabled={loading.stop}\r\n                className=\"flex items-center gap-2 px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50\"\r\n              >\r\n                <StopCircle className=\"h-4 w-4\" />\r\n                {loading.stop ? 'Stopping...' : 'Stop'}\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"space-y-2\">\r\n            {/* Progress Bar */}\r\n            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n              <div \r\n                className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                style={{ width: `${progress.progress}%` }}\r\n              />\r\n            </div>\r\n            \r\n            {/* Progress Details */}\r\n            <div className=\"text-sm text-blue-800\">\r\n              <div>Progress: {progress.progress.toFixed(1)}%</div>\r\n              {progress.current_collection && (\r\n                <div>Current: {progress.current_collection}</div>\r\n              )}\r\n              {progress.current_statute && (\r\n                <div>Processing: {progress.current_statute}</div>\r\n              )}\r\n              {progress.collections_processed && progress.total_collections && (\r\n                <div>Collections: {progress.collections_processed}/{progress.total_collections}</div>\r\n              )}\r\n              {progress.processed_count && (\r\n                <div>Documents Processed: {progress.processed_count}</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {/* Scan Missing Dates */}\r\n        <button\r\n          onClick={startScanMissingDates}\r\n          disabled={loading.scan || currentOperation?.status === 'running' || selectedCollections.length === 0}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {loading.scan ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Search className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.scan ? 'Scanning...' : 'Scan Missing Dates'}</span>\r\n        </button>\r\n\r\n        {/* Export to Excel */}\r\n        <button\r\n          onClick={exportMissingDates}\r\n          disabled={loading.export || currentOperation?.status === 'running' || selectedCollections.length === 0}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {loading.export ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Download className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.export ? 'Exporting...' : 'Export to Excel'}</span>\r\n        </button>\r\n\r\n        {/* AI Date Search */}\r\n        <button\r\n          onClick={startAISearch}\r\n          disabled={loading.aiSearch || currentOperation?.status === 'running' || selectedCollections.length === 0}\r\n          className=\"flex items-center justify-center gap-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {loading.aiSearch ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Brain className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.aiSearch ? 'Searching...' : 'AI Date Search'}</span>\r\n        </button>\r\n\r\n        {/* Upload Reviewed Excel */}\r\n        <label className=\"flex items-center justify-center gap-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 cursor-pointer\">\r\n          {loading.upload ? (\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n          ) : (\r\n            <Upload className=\"h-5 w-5\" />\r\n          )}\r\n          <span>{loading.upload ? 'Uploading...' : 'Upload Reviewed'}</span>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".xlsx,.xls\"\r\n            onChange={handleFileUpload}\r\n            disabled={loading.upload}\r\n            className=\"hidden\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      {/* Scan Results */}\r\n      {scanResults && (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2\">\r\n            <FileSpreadsheet className=\"h-5 w-5\" />\r\n            Scan Results\r\n          </h3>\r\n          \r\n          {/* Summary */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n            <div className=\"bg-gray-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-gray-900\">{scanResults.summary.total_documents.toLocaleString()}</div>\r\n              <div className=\"text-sm text-gray-600\">Total Documents</div>\r\n            </div>\r\n            <div className=\"bg-red-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-red-900\">{scanResults.summary.documents_missing_dates.toLocaleString()}</div>\r\n              <div className=\"text-sm text-red-600\">Missing Dates</div>\r\n            </div>\r\n            <div className=\"bg-green-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-green-900\">{scanResults.summary.documents_with_dates.toLocaleString()}</div>\r\n              <div className=\"text-sm text-green-600\">With Dates</div>\r\n            </div>\r\n            <div className=\"bg-blue-50 p-3 rounded\">\r\n              <div className=\"text-2xl font-bold text-blue-900\">{scanResults.summary.missing_percentage.toFixed(1)}%</div>\r\n              <div className=\"text-sm text-blue-600\">Missing Percentage</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Collection Breakdown */}\r\n          <div className=\"mb-6\">\r\n            <h4 className=\"font-medium text-gray-900 mb-3\">Collection Breakdown</h4>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full border border-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Collection</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Total</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Missing</th>\r\n                    <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">%</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {Object.entries(scanResults.collection_breakdown).map(([collection, data]) => (\r\n                    <tr key={collection} className=\"border-t border-gray-200\">\r\n                      <td className=\"px-4 py-2 text-sm\">{collection}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{data.total_documents.toLocaleString()}</td>\r\n                      <td className=\"px-4 py-2 text-sm text-red-600\">{data.missing_dates.toLocaleString()}</td>\r\n                      <td className=\"px-4 py-2 text-sm\">{data.missing_percentage.toFixed(1)}%</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sample Missing Documents */}\r\n          {scanResults.sample_missing.length > 0 && (\r\n            <div>\r\n              <h4 className=\"font-medium text-gray-900 mb-3\">Sample Missing Documents</h4>\r\n              <div className=\"space-y-2\">\r\n                {scanResults.sample_missing.slice(0, 5).map((doc, index) => (\r\n                  <div key={index} className=\"bg-gray-50 p-3 rounded text-sm\">\r\n                    <div className=\"font-medium\">{doc.Statute_Name}</div>\r\n                    <div className=\"text-gray-600\">{doc.Province}  {doc.collection}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Search Sessions */}\r\n      {searchSessions.length > 0 && (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\r\n              <Eye className=\"h-5 w-5\" />\r\n              Recent Search Sessions\r\n            </h3>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={clearSearchSessions}\r\n                disabled={loading.clearSessions}\r\n                className=\"flex items-center gap-2 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-50\"\r\n              >\r\n                {loading.clearSessions ? (\r\n                  <RefreshCw className=\"h-4 w-4 animate-spin\" />\r\n                ) : (\r\n                  <AlertCircle className=\"h-4 w-4\" />\r\n                )}\r\n                Clear All\r\n              </button>\r\n              <button\r\n                onClick={fetchSearchSessions}\r\n                className=\"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\r\n              >\r\n                <RefreshCw className=\"h-4 w-4\" />\r\n                Refresh\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full border border-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Session ID</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Created</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Status</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Documents</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">AI Processed</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">High Confidence</th>\r\n                  <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-900\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {searchSessions.slice(0, 10).map((session) => (\r\n                  <tr key={session.session_id} className=\"border-t border-gray-200\">\r\n                    <td className=\"px-4 py-2 text-sm font-mono\">{session.session_id}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">{new Date(session.created_at).toLocaleString()}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">\r\n                      <span className={`px-2 py-1 rounded text-xs ${\r\n                        session.status === 'completed' ? 'bg-green-100 text-green-800' :\r\n                        session.status === 'pending_review' ? 'bg-yellow-100 text-yellow-800' :\r\n                        'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {session.status}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-2 text-sm\">{session.total_documents}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">{session.metadata.ai_processed}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">{session.metadata.high_confidence}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">\r\n                      <div className=\"flex gap-1\">\r\n                        <button\r\n                          onClick={() => viewSearchResults(session.session_id)}\r\n                          disabled={loading.viewResults}\r\n                          className=\"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50\"\r\n                          title=\"View AI search results\"\r\n                        >\r\n                          View\r\n                        </button>\r\n                        <button\r\n                          onClick={() => deleteSearchSession(session.session_id)}\r\n                          className=\"px-2 py-1 text-xs bg-red-100 text-red-700 rounded hover:bg-red-200\"\r\n                          title=\"Delete this session\"\r\n                        >\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateSearchTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}