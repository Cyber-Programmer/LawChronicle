{"ast":null,"code":"import _objectSpread from\"D:/DigiFloat/LawChronicle/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{Eye,RefreshCw,Download,AlertTriangle,CheckCircle,ChevronDown,ChevronRight,FileText,Hash,Text,Search,SortAsc,Settings,BarChart3,History,Play,TrendingUp,Clock,Database}from'lucide-react';import FieldMappingEditor from'./FieldMappingEditor';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultsPreview=_ref=>{let{config}=_ref;// Core state\nconst[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(100);const[totalItems,setTotalItems]=useState(0);const[totalPages,setTotalPages]=useState(1);const[statuteGroups,setStatuteGroups]=useState([]);const[loading,setLoading]=useState(false);const[message,setMessage]=useState(null);const[expandedGroups,setExpandedGroups]=useState(new Set());const[searchTerm,setSearchTerm]=useState('');const[filterType,setFilterType]=useState('all');const[sortOrder,setSortOrder]=useState('name');// Sub-panel state\nconst[expandedPanels,setExpandedPanels]=useState(new Set(['main']));const[sortOptions,setSortOptions]=useState({preambleFirst:true,numericOrder:true,alphabeticalFallback:true,customSortOrder:false});const[fieldMappings,setFieldMappings]=useState([{source:'number',target:'section_number',enabled:true},{source:'definition',target:'section_content',enabled:true},{source:'content',target:'section_text',enabled:true},{source:'year',target:'section_year',enabled:true},{source:'date',target:'section_date',enabled:true}]);const[progressMetrics,setProgressMetrics]=useState(null);// Fetch statute groups from normalized collection\nconst fetchResultsData=useCallback(async()=>{setLoading(true);try{const skip=(currentPage-1)*itemsPerPage;const queryParams=new URLSearchParams({limit:itemsPerPage.toString(),skip:skip.toString(),search:searchTerm||''});const response=await fetch(\"/api/v1/phase2/preview-normalized-structure?\".concat(queryParams),{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify(_objectSpread({},config))});const data=await response.json();if(data.success&&data.preview_data){var _data$pagination,_data$pagination2;// Transform the data to match our interface\nconst groups=data.preview_data.map(statute=>({_id:statute.statute_name||'Unknown',Statute_Name:statute.statute_name||'Unknown',Sections:statute.sections_preview||[],section_count:statute.section_count||0}));setStatuteGroups(groups);// Set pagination info from backend response if available\nsetTotalItems(data.filtered_count||data.total_statutes||0);setTotalPages(((_data$pagination=data.pagination)===null||_data$pagination===void 0?void 0:_data$pagination.total_pages)||Math.ceil((data.filtered_count||data.total_statutes||0)/itemsPerPage));setCurrentPage(((_data$pagination2=data.pagination)===null||_data$pagination2===void 0?void 0:_data$pagination2.current_page)||currentPage);// Calculate progress metrics\nconst totalStatutes=groups.length;const totalSections=groups.reduce((sum,statute)=>sum+statute.section_count,0);const processedStatutes=totalStatutes;const processedSections=totalSections;const metrics={total_statutes:totalStatutes,processed_statutes:processedStatutes,total_sections:totalSections,processed_sections:processedSections,normalization_progress:totalStatutes>0?processedStatutes/totalStatutes*100:0,sorting_progress:totalSections>0?processedSections/totalSections*100:0,overall_progress:totalStatutes>0?(processedStatutes+processedSections)/(totalStatutes+totalSections)*100:0,estimated_time_remaining:'0 minutes',current_phase:'Normalization Complete',last_updated:new Date().toISOString()};setProgressMetrics(metrics);}else{setStatuteGroups([]);setTotalItems(0);setTotalPages(0);setCurrentPage(1);setMessage({type:'error',text:data.message||'Failed to fetch results data'});}}catch(error){setStatuteGroups([]);setTotalItems(0);setTotalPages(0);setCurrentPage(1);setMessage({type:'error',text:'Error fetching results data'});}finally{setLoading(false);}},[currentPage,itemsPerPage,searchTerm,config]);// Toggle group expansion\nconst toggleGroupExpansion=groupId=>{const newExpanded=new Set(expandedGroups);if(newExpanded.has(groupId)){newExpanded.delete(groupId);}else{newExpanded.add(groupId);}setExpandedGroups(newExpanded);};// Field mapping handlers\nconst updateFieldMapping=(index,field,value)=>{setFieldMappings(prev=>prev.map((mapping,i)=>i===index?_objectSpread(_objectSpread({},mapping),{},{[field]:value}):mapping));};const addFieldMapping=()=>{setFieldMappings(prev=>[...prev,{source:'',target:'',enabled:true}]);};const removeFieldMapping=index=>{setFieldMappings(prev=>prev.filter((_,i)=>i!==index));};// Toggle panel expansion\nconst togglePanelExpansion=panelId=>{const newExpanded=new Set(expandedPanels);if(newExpanded.has(panelId)){newExpanded.delete(panelId);}else{newExpanded.add(panelId);}setExpandedPanels(newExpanded);};// Section sort key function (replicating backend logic)\nconst sectionSortKey=section=>{const num=section.number||section.section_number||\"\";// Preamble always first\nif(typeof num==='string'&&num.trim().toLowerCase()==='preamble'){return[0,''];}// Try to parse as numeric\ntry{const numStr=String(num).trim();if(numStr.replace(/[.-]/g,'').match(/^\\d+$/)){return[1,parseFloat(numStr)];}}catch(e){// Ignore parsing errors\n}// Non-numeric sections last, sorted alphabetically\nreturn[2,String(num).toLowerCase()];};// Get section type\nconst getSectionType=section=>{const[sortType]=sectionSortKey(section);if(sortType===0)return'preamble';if(sortType===1)return'numeric';return'text';};// Filter and sort statutes\nconst getFilteredAndSortedStatutes=()=>{let filtered=statuteGroups.filter(statute=>statute.Statute_Name.toLowerCase().includes(searchTerm.toLowerCase()));// Apply type filter\nif(filterType!=='all'){filtered=filtered.filter(statute=>{return statute.Sections.some(section=>getSectionType(section)===filterType);});}// Apply sorting\nfiltered.sort((a,b)=>{switch(sortOrder){case'name':return a.Statute_Name.localeCompare(b.Statute_Name);case'sections':return b.section_count-a.section_count;case'type':const aHasPreamble=a.Sections.some(section=>getSectionType(section)==='preamble');const bHasPreamble=b.Sections.some(section=>getSectionType(section)==='preamble');if(aHasPreamble&&!bHasPreamble)return-1;if(!aHasPreamble&&bHasPreamble)return 1;return a.Statute_Name.localeCompare(b.Statute_Name);default:return 0;}});return filtered;};// Export results\nconst exportResults=async()=>{try{const exportData={export_date:new Date().toISOString(),total_statutes:statuteGroups.length,total_sections:statuteGroups.reduce((sum,statute)=>sum+statute.section_count,0),statutes:statuteGroups.map(statute=>({statute_name:statute.Statute_Name,section_count:statute.section_count,sections:statute.Sections.map(section=>({number:section.number||section.section_number||'N/A',type:getSectionType(section),content:section.definition||section.content||'No content'}))}))};const blob=new Blob([JSON.stringify(exportData,null,2)],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"normalization_results_\".concat(new Date().toISOString().split('T')[0],\".json\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);setMessage({type:'success',text:'Results exported successfully'});}catch(error){setMessage({type:'error',text:'Error exporting results'});}};// Execute sorting (Backend implementation completed)\nconst executeSorting=async()=>{try{const response=await fetch('/api/v1/phase2/apply-sorting',{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({rules:sortOptions,scope:'all'})});const data=await response.json();if(data.success){setMessage({type:'success',text:\"Sorting applied successfully! \".concat(data.changes_count,\" documents changed.\")});await fetchResultsData();// Refresh data\n}else{setMessage({type:'error',text:data.message||'Failed to apply sorting'});}}catch(error){setMessage({type:'error',text:'Error applying sorting'});}};// Execute cleaning (Backend implementation completed)\nconst executeCleaning=async()=>{try{const response=await fetch('/api/v1/phase2/apply-cleaning',{method:'POST',headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token')),'Content-Type':'application/json'},body:JSON.stringify({mappings:fieldMappings,scope:'all'})});const data=await response.json();if(data.success){setMessage({type:'success',text:\"Field cleaning applied successfully! \".concat(data.changes_count,\" documents changed.\")});await fetchResultsData();// Refresh data\n}else{setMessage({type:'error',text:data.message||'Failed to apply cleaning'});}}catch(error){setMessage({type:'error',text:'Error applying cleaning'});}};useEffect(()=>{fetchResultsData();},[fetchResultsData]);const filteredStatutes=getFilteredAndSortedStatutes();return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5 mr-2\"}),\"Results Preview - Unified Phase 2 Interface\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Centralized view for previewing, sorting, cleaning, and tracking normalization progress.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 items-center\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:fetchResultsData,disabled:loading,className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 mr-2 \".concat(loading?'animate-spin':'')}),\"Refresh Results\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportResults,disabled:statuteGroups.length===0,className:\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Export Results\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Search & Filters\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search Statutes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search statute names...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Filter by Section Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"preamble\",children:\"Has Preamble\"}),/*#__PURE__*/_jsx(\"option\",{value:\"numeric\",children:\"Has Numeric Sections\"}),/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"Has Text Sections\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Sort Order\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortOrder,onChange:e=>setSortOrder(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"By Name (A-Z)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sections\",children:\"By Section Count\"}),/*#__PURE__*/_jsx(\"option\",{value:\"type\",children:\"By Type (Preamble First)\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Showing \",filteredStatutes.length,\" of \",statuteGroups.length,\" statutes \\u2022 Total sections: \",filteredStatutes.reduce((sum,statute)=>sum+statute.section_count,0),\" \\u2022 Filter: \",filterType==='all'?'All types':filterType,\" \\u2022 Sort: \",sortOrder==='name'?'By name':sortOrder==='sections'?'By section count':'By type']})})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg flex items-center \".concat(message.type==='success'?'bg-green-50 text-green-800':'bg-red-50 text-red-800'),children:[message.type==='success'?/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 mr-2\"}):/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 mr-2\"}),message.text]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\",onClick:()=>togglePanelExpansion('main'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5 mr-2\"}),\"Main Results Preview\"]}),expandedPanels.has('main')?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5 text-gray-500\"})]})}),expandedPanels.has('main')&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 text-center text-gray-500\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 mx-auto mb-2 animate-spin\"}),\"Loading results...\"]}):filteredStatutes.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-center text-gray-500\",children:searchTerm||filterType!=='all'?'No statutes match your search/filter criteria.':'No results found. Run normalization first to populate the database.'}):/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:filteredStatutes.map(statute=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleGroupExpansion(statute._id),className:\"flex items-center space-x-2 text-left hover:text-blue-600\",children:[expandedGroups.has(statute._id)?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:statute.Statute_Name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",statute.section_count,\" sections)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[statute.Sections.some(section=>getSectionType(section)==='preamble')&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-3 h-3 mr-1\"}),\"Preamble\"]}),statute.Sections.some(section=>getSectionType(section)==='numeric')&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:[/*#__PURE__*/_jsx(Hash,{className:\"w-3 h-3 mr-1\"}),\"Numeric\"]}),statute.Sections.some(section=>getSectionType(section)==='text')&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\",children:[/*#__PURE__*/_jsx(Text,{className:\"w-3 h-3 mr-1\"}),\"Text\"]})]})})]}),expandedGroups.has(statute._id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 ml-8 space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 font-medium\",children:\"Sorted Sections:\"}),statute.Sections&&statute.Sections.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:statute.Sections.map((section,index)=>{const sectionType=getSectionType(section);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-lg border-l-4 \".concat(sectionType==='preamble'?'border-l-blue-500 bg-blue-50':sectionType==='numeric'?'border-l-green-500 bg-green-50':'border-l-gray-500 bg-gray-50'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-700\",children:section.number||section.section_number||\"Section \".concat(index+1)}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded text-xs font-medium \".concat(sectionType==='preamble'?'bg-blue-100 text-blue-800':sectionType==='numeric'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:[sectionType==='preamble'?/*#__PURE__*/_jsx(FileText,{className:\"w-3 h-3 inline mr-1\"}):sectionType==='numeric'?/*#__PURE__*/_jsx(Hash,{className:\"w-3 h-3 inline mr-1\"}):/*#__PURE__*/_jsx(Text,{className:\"w-3 h-3 inline mr-1\"}),sectionType]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:section.definition||section.content||'No content available'}),section.year&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Year: \",section.year]})]},index);})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-sm\",children:\"No sections found\"})]})]},statute._id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\",onClick:()=>togglePanelExpansion('sorting'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(SortAsc,{className:\"w-5 h-5 mr-2\"}),\"Sorting Configuration\"]}),expandedPanels.has('sorting')?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5 text-gray-500\"})]})}),expandedPanels.has('sorting')&&/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-4\",children:\"Sorting Rules\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:sortOptions.preambleFirst,onChange:e=>setSortOptions(prev=>_objectSpread(_objectSpread({},prev),{},{preambleFirst:e.target.checked})),className:\"mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Preamble sections first\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:sortOptions.numericOrder,onChange:e=>setSortOptions(prev=>_objectSpread(_objectSpread({},prev),{},{numericOrder:e.target.checked})),className:\"mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Numeric sections in order\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:sortOptions.alphabeticalFallback,onChange:e=>setSortOptions(prev=>_objectSpread(_objectSpread({},prev),{},{alphabeticalFallback:e.target.checked})),className:\"mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Alphabetical fallback for text sections\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:sortOptions.customSortOrder,onChange:e=>setSortOptions(prev=>_objectSpread(_objectSpread({},prev),{},{customSortOrder:e.target.checked})),className:\"mr-3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Custom sort order (future feature)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:executeSorting,className:\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\",children:[/*#__PURE__*/_jsx(Play,{className:\"w-4 h-4 mr-2\"}),\"Execute Sorting\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:\"Apply the current sorting configuration to all statutes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-4\",children:\"Sorting Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-3\",children:[\"Current sorting applied to \",filteredStatutes.length,\" statutes\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[filteredStatutes.slice(0,3).map((statute,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:statute.Statute_Name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[statute.section_count,\" sections \\u2022\",statute.Sections.some(s=>getSectionType(s)==='preamble')&&' Has preamble •',statute.Sections.some(s=>getSectionType(s)==='numeric')&&' Has numeric •',statute.Sections.some(s=>getSectionType(s)==='text')&&' Has text']})]},index)),filteredStatutes.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"... and \",filteredStatutes.length-3,\" more\"]})]})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\",onClick:()=>togglePanelExpansion('cleaning'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5 mr-2\"}),\"Field Mapping & Cleaning\"]}),expandedPanels.has('cleaning')?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5 text-gray-500\"})]})}),expandedPanels.has('cleaning')&&/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-4\",children:\"Field Mappings\"}),/*#__PURE__*/_jsx(FieldMappingEditor,{fieldMappings:fieldMappings,updateFieldMapping:updateFieldMapping,addFieldMapping:addFieldMapping,removeFieldMapping:removeFieldMapping}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:executeCleaning,className:\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center\",children:[/*#__PURE__*/_jsx(Play,{className:\"w-4 h-4 mr-2\"}),\"Execute Cleaning\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:\"Apply the current field mappings to all statutes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-4\",children:\"Cleaning Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 mb-3\",children:[\"Field mappings applied to \",filteredStatutes.length,\" statutes\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[filteredStatutes.slice(0,2).map((statute,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:statute.Statute_Name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500\",children:[statute.section_count,\" sections \\u2022 Mapped fields: \",fieldMappings.filter(m=>m.enabled).length]})]},index)),filteredStatutes.length>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"... and \",filteredStatutes.length-2,\" more\"]})]})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\",onClick:()=>togglePanelExpansion('progress'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5 mr-2\"}),\"Progress Tracking\"]}),expandedPanels.has('progress')?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5 text-gray-500\"})]})}),expandedPanels.has('progress')&&progressMetrics&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Database,{className:\"w-8 h-8 text-blue-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-900\",children:progressMetrics.total_statutes}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-700\",children:\"Total Statutes\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-8 h-8 text-green-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-900\",children:progressMetrics.processed_statutes}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-700\",children:\"Processed Statutes\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-8 h-8 text-purple-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-900\",children:progressMetrics.total_sections}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-700\",children:\"Total Sections\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orange-50 p-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-8 h-8 text-orange-600 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-orange-900\",children:[Math.round(progressMetrics.overall_progress),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-orange-700\",children:\"Overall Progress\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Normalization Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(progressMetrics.normalization_progress),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:\"\".concat(progressMetrics.normalization_progress,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-600 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sorting Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Math.round(progressMetrics.sorting_progress),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-600 h-2 rounded-full\",style:{width:\"\".concat(progressMetrics.sorting_progress,\"%\")}})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 bg-gray-50 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 mr-2\"}),\"Last Updated: \",new Date(progressMetrics.last_updated).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4 mr-2 text-green-600\"}),\"Status: \",progressMetrics.current_phase]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\",onClick:()=>togglePanelExpansion('history'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(History,{className:\"w-5 h-5 mr-2\"}),\"Normalization History\"]}),expandedPanels.has('history')?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-5 h-5 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5 text-gray-500\"})]})}),expandedPanels.has('history')&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-l-4 border-blue-500 pl-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Normalization Completed\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[statuteGroups.length,\" statutes processed with \",statuteGroups.reduce((sum,s)=>sum+s.section_count,0),\" sections\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:new Date().toLocaleString()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-l-4 border-green-500 pl-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Section Sorting Applied\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Preamble, numeric, and text sections sorted according to rules\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:new Date().toLocaleString()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-l-4 border-purple-500 pl-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Field Mapping Configured\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[fieldMappings.filter(m=>m.enabled).length,\" active field mappings\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:new Date().toLocaleString()})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" This is a preview of normalization history. Full history tracking will be implemented with backend integration.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Data Structure Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Output Schema\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded text-sm font-mono\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"{\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"\\\"Statute_Name\\\": \\\"string\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"\\\"Sections\\\": [\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-8\",children:\"{\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-12\",children:\"\\\"number\\\": \\\"string\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-12\",children:\"\\\"definition\\\": \\\"string\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-12\",children:\"\\\"year\\\": \\\"number\\\",\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-8\",children:\"}\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"]\"}),/*#__PURE__*/_jsx(\"div\",{children:\"}\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Section Types\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-blue-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Preamble - Always sorted first\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Numeric - Sorted by value\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-500 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Text - Sorted alphabetically\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Each statute is now a single document containing all its sections, making it easier to work with related legal content as a cohesive unit.\"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600\",children:[\"Total: \",statuteGroups.length,\" statute group(s) \\u2022 Total sections: \",statuteGroups.reduce((sum,statute)=>sum+statute.section_count,0),\" \\u2022 Showing: \",filteredStatutes.length,\" filtered \\u2022 Data structure: Grouped with sorted sections\"]})})]});};export default ResultsPreview;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Eye","RefreshCw","Download","AlertTriangle","CheckCircle","ChevronDown","ChevronRight","FileText","Hash","Text","Search","SortAsc","Settings","BarChart3","History","Play","TrendingUp","Clock","Database","FieldMappingEditor","jsx","_jsx","jsxs","_jsxs","ResultsPreview","_ref","config","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","totalItems","setTotalItems","totalPages","setTotalPages","statuteGroups","setStatuteGroups","loading","setLoading","message","setMessage","expandedGroups","setExpandedGroups","Set","searchTerm","setSearchTerm","filterType","setFilterType","sortOrder","setSortOrder","expandedPanels","setExpandedPanels","sortOptions","setSortOptions","preambleFirst","numericOrder","alphabeticalFallback","customSortOrder","fieldMappings","setFieldMappings","source","target","enabled","progressMetrics","setProgressMetrics","fetchResultsData","skip","queryParams","URLSearchParams","limit","toString","search","response","fetch","concat","method","headers","localStorage","getItem","body","JSON","stringify","_objectSpread","data","json","success","preview_data","_data$pagination","_data$pagination2","groups","map","statute","_id","statute_name","Statute_Name","Sections","sections_preview","section_count","filtered_count","total_statutes","pagination","total_pages","Math","ceil","current_page","totalStatutes","length","totalSections","reduce","sum","processedStatutes","processedSections","metrics","processed_statutes","total_sections","processed_sections","normalization_progress","sorting_progress","overall_progress","estimated_time_remaining","current_phase","last_updated","Date","toISOString","type","text","error","toggleGroupExpansion","groupId","newExpanded","has","delete","add","updateFieldMapping","index","field","value","prev","mapping","i","addFieldMapping","removeFieldMapping","filter","_","togglePanelExpansion","panelId","sectionSortKey","section","num","number","section_number","trim","toLowerCase","numStr","String","replace","match","parseFloat","e","getSectionType","sortType","getFilteredAndSortedStatutes","filtered","includes","some","sort","a","b","localeCompare","aHasPreamble","bHasPreamble","exportResults","exportData","export_date","statutes","sections","content","definition","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","split","appendChild","click","removeChild","revokeObjectURL","executeSorting","rules","scope","changes_count","executeCleaning","mappings","filteredStatutes","className","children","onClick","disabled","placeholder","onChange","sectionType","year","checked","slice","s","m","round","style","width","toLocaleString"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/components/phase2/ResultsPreview.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { \n  Eye, RefreshCw, Download, AlertTriangle, CheckCircle, ChevronDown, ChevronRight, \n  FileText, Hash, Text, Search, SortAsc, Settings, BarChart3, History,\n  Play, TrendingUp, Clock, Database, ArrowUpDown\n} from 'lucide-react';\nimport FieldMappingEditor from './FieldMappingEditor';\n\ninterface StatuteGroup {\n  _id: string;\n  Statute_Name: string;\n  Sections: any[];\n  section_count: number;\n}\n\ninterface FieldMapping {\n  source: string;\n  target: string;\n  enabled: boolean;\n}\n\ninterface ProgressMetrics {\n  total_statutes: number;\n  processed_statutes: number;\n  total_sections: number;\n  processed_sections: number;\n  normalization_progress: number;\n  sorting_progress: number;\n  overall_progress: number;\n  estimated_time_remaining: string;\n  current_phase: string;\n  last_updated: string;\n}\n\ninterface ResultsPreviewProps {\n  config: any;\n}\n\nconst ResultsPreview: React.FC<ResultsPreviewProps> = ({ config }) => {\n  // Core state\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(100);\n  const [totalItems, setTotalItems] = useState(0);\n  const [totalPages, setTotalPages] = useState(1);\n  const [statuteGroups, setStatuteGroups] = useState<StatuteGroup[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n  const [expandedGroups, setExpandedGroups] = useState<Set<string>>(new Set());\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'preamble' | 'numeric' | 'text'>('all');\n  const [sortOrder, setSortOrder] = useState<'name' | 'sections' | 'type'>('name');\n\n  // Sub-panel state\n  const [expandedPanels, setExpandedPanels] = useState<Set<string>>(new Set(['main']));\n  const [sortOptions, setSortOptions] = useState({\n    preambleFirst: true,\n    numericOrder: true,\n    alphabeticalFallback: true,\n    customSortOrder: false\n  });\n  const [fieldMappings, setFieldMappings] = useState<FieldMapping[]>([\n    { source: 'number', target: 'section_number', enabled: true },\n    { source: 'definition', target: 'section_content', enabled: true },\n    { source: 'content', target: 'section_text', enabled: true },\n    { source: 'year', target: 'section_year', enabled: true },\n    { source: 'date', target: 'section_date', enabled: true }\n  ]);\n  const [progressMetrics, setProgressMetrics] = useState<ProgressMetrics | null>(null);\n\n  // Fetch statute groups from normalized collection\n  const fetchResultsData = useCallback(async () => {\n    setLoading(true);\n    try {\n      const skip = (currentPage - 1) * itemsPerPage;\n      const queryParams = new URLSearchParams({\n        limit: itemsPerPage.toString(),\n        skip: skip.toString(),\n        search: searchTerm || ''\n      });\n      const response = await fetch(`/api/v1/phase2/preview-normalized-structure?${queryParams}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          ...config\n        })\n      });\n      const data = await response.json();\n      if (data.success && data.preview_data) {\n        // Transform the data to match our interface\n        const groups = data.preview_data.map((statute: any) => ({\n          _id: statute.statute_name || 'Unknown',\n          Statute_Name: statute.statute_name || 'Unknown',\n          Sections: statute.sections_preview || [],\n          section_count: statute.section_count || 0\n        }));\n        setStatuteGroups(groups);\n        // Set pagination info from backend response if available\n        setTotalItems(data.filtered_count || data.total_statutes || 0);\n        setTotalPages(data.pagination?.total_pages || Math.ceil((data.filtered_count || data.total_statutes || 0) / itemsPerPage));\n        setCurrentPage(data.pagination?.current_page || currentPage);\n        \n        // Calculate progress metrics\n        const totalStatutes = groups.length;\n        const totalSections = groups.reduce((sum: number, statute: StatuteGroup) => sum + statute.section_count, 0);\n        const processedStatutes = totalStatutes;\n        const processedSections = totalSections;\n        \n        const metrics: ProgressMetrics = {\n          total_statutes: totalStatutes,\n          processed_statutes: processedStatutes,\n          total_sections: totalSections,\n          processed_sections: processedSections,\n          normalization_progress: totalStatutes > 0 ? (processedStatutes / totalStatutes) * 100 : 0,\n          sorting_progress: totalSections > 0 ? (processedSections / totalSections) * 100 : 0,\n          overall_progress: totalStatutes > 0 ? ((processedStatutes + processedSections) / (totalStatutes + totalSections)) * 100 : 0,\n          estimated_time_remaining: '0 minutes',\n          current_phase: 'Normalization Complete',\n          last_updated: new Date().toISOString()\n        };\n        setProgressMetrics(metrics);\n      } else {\n        setStatuteGroups([]);\n        setTotalItems(0);\n        setTotalPages(0);\n        setCurrentPage(1);\n        setMessage({ type: 'error', text: data.message || 'Failed to fetch results data' });\n      }\n    } catch (error) {\n      setStatuteGroups([]);\n      setTotalItems(0);\n      setTotalPages(0);\n      setCurrentPage(1);\n      setMessage({ type: 'error', text: 'Error fetching results data' });\n    } finally {\n      setLoading(false);\n    }\n  }, [currentPage, itemsPerPage, searchTerm, config]);\n\n  // Toggle group expansion\n  const toggleGroupExpansion = (groupId: string) => {\n    const newExpanded = new Set(expandedGroups);\n    if (newExpanded.has(groupId)) {\n      newExpanded.delete(groupId);\n    } else {\n      newExpanded.add(groupId);\n    }\n    setExpandedGroups(newExpanded);\n  };\n\n  // Field mapping handlers\n  const updateFieldMapping = (index: number, field: keyof FieldMapping, value: any) => {\n    setFieldMappings(prev => prev.map((mapping, i) => \n      i === index ? { ...mapping, [field]: value } : mapping\n    ));\n  };\n\n  const addFieldMapping = () => {\n    setFieldMappings(prev => [...prev, { source: '', target: '', enabled: true }]);\n  };\n\n  const removeFieldMapping = (index: number) => {\n    setFieldMappings(prev => prev.filter((_, i) => i !== index));\n  };\n\n  // Toggle panel expansion\n  const togglePanelExpansion = (panelId: string) => {\n    const newExpanded = new Set(expandedPanels);\n    if (newExpanded.has(panelId)) {\n      newExpanded.delete(panelId);\n    } else {\n      newExpanded.add(panelId);\n    }\n    setExpandedPanels(newExpanded);\n  };\n\n  // Section sort key function (replicating backend logic)\n  const sectionSortKey = (section: any) => {\n    const num = section.number || section.section_number || \"\";\n    \n    // Preamble always first\n    if (typeof num === 'string' && num.trim().toLowerCase() === 'preamble') {\n      return [0, ''];\n    }\n    \n    // Try to parse as numeric\n    try {\n      const numStr = String(num).trim();\n      if (numStr.replace(/[.-]/g, '').match(/^\\d+$/)) {\n        return [1, parseFloat(numStr)];\n      }\n    } catch (e) {\n      // Ignore parsing errors\n    }\n    \n    // Non-numeric sections last, sorted alphabetically\n    return [2, String(num).toLowerCase()];\n  };\n\n  // Get section type\n  const getSectionType = (section: any) => {\n    const [sortType] = sectionSortKey(section);\n    if (sortType === 0) return 'preamble';\n    if (sortType === 1) return 'numeric';\n    return 'text';\n  };\n\n  // Filter and sort statutes\n  const getFilteredAndSortedStatutes = () => {\n    let filtered = statuteGroups.filter(statute =>\n      statute.Statute_Name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    // Apply type filter\n    if (filterType !== 'all') {\n      filtered = filtered.filter(statute => {\n        return statute.Sections.some((section: any) => getSectionType(section) === filterType);\n      });\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      switch (sortOrder) {\n        case 'name':\n          return a.Statute_Name.localeCompare(b.Statute_Name);\n        case 'sections':\n          return b.section_count - a.section_count;\n        case 'type':\n          const aHasPreamble = a.Sections.some((section: any) => getSectionType(section) === 'preamble');\n          const bHasPreamble = b.Sections.some((section: any) => getSectionType(section) === 'preamble');\n          if (aHasPreamble && !bHasPreamble) return -1;\n          if (!aHasPreamble && bHasPreamble) return 1;\n          return a.Statute_Name.localeCompare(b.Statute_Name);\n        default:\n          return 0;\n      }\n    });\n\n    return filtered;\n  };\n\n  // Export results\n  const exportResults = async () => {\n    try {\n      const exportData = {\n        export_date: new Date().toISOString(),\n        total_statutes: statuteGroups.length,\n        total_sections: statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0),\n        statutes: statuteGroups.map(statute => ({\n          statute_name: statute.Statute_Name,\n          section_count: statute.section_count,\n          sections: statute.Sections.map((section: any) => ({\n            number: section.number || section.section_number || 'N/A',\n            type: getSectionType(section),\n            content: section.definition || section.content || 'No content'\n          }))\n        }))\n      };\n\n      const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `normalization_results_${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      setMessage({ type: 'success', text: 'Results exported successfully' });\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error exporting results' });\n    }\n  };\n\n  // Execute sorting (Backend implementation completed)\n  const executeSorting = async () => {\n    try {\n      const response = await fetch('/api/v1/phase2/apply-sorting', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          rules: sortOptions,\n          scope: 'all'\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMessage({ type: 'success', text: `Sorting applied successfully! ${data.changes_count} documents changed.` });\n        await fetchResultsData(); // Refresh data\n      } else {\n        setMessage({ type: 'error', text: data.message || 'Failed to apply sorting' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error applying sorting' });\n    }\n  };\n\n  // Execute cleaning (Backend implementation completed)\n  const executeCleaning = async () => {\n    try {\n      const response = await fetch('/api/v1/phase2/apply-cleaning', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          mappings: fieldMappings,\n          scope: 'all'\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setMessage({ type: 'success', text: `Field cleaning applied successfully! ${data.changes_count} documents changed.` });\n        await fetchResultsData(); // Refresh data\n      } else {\n        setMessage({ type: 'error', text: data.message || 'Failed to apply cleaning' });\n      }\n    } catch (error) {\n      setMessage({ type: 'error', text: 'Error applying cleaning' });\n    }\n  };  useEffect(() => {\n    fetchResultsData();\n  }, [fetchResultsData]);\n\n  const filteredStatutes = getFilteredAndSortedStatutes();\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n          <Eye className=\"w-5 h-5 mr-2\" />\n          Results Preview - Unified Phase 2 Interface\n        </h2>\n        <p className=\"text-gray-600 mb-4\">\n          Centralized view for previewing, sorting, cleaning, and tracking normalization progress.\n        </p>\n        \n        {/* Controls */}\n        <div className=\"flex flex-wrap gap-4 items-center\">\n          <button\n            onClick={fetchResultsData}\n            disabled={loading}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center\"\n          >\n            <RefreshCw className={`w-4 h-4 mr-2 ${loading ? 'animate-spin' : ''}`} />\n            Refresh Results\n          </button>\n          \n          <button\n            onClick={exportResults}\n            disabled={statuteGroups.length === 0}\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center\"\n          >\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export Results\n          </button>\n        </div>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Search & Filters</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {/* Search */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Search Statutes</label>\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search statute names...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n\n          {/* Type Filter */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Filter by Section Type</label>\n            <select\n              value={filterType}\n              onChange={(e) => setFilterType(e.target.value as any)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">All Types</option>\n              <option value=\"preamble\">Has Preamble</option>\n              <option value=\"numeric\">Has Numeric Sections</option>\n              <option value=\"text\">Has Text Sections</option>\n            </select>\n          </div>\n\n          {/* Sort Order */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Sort Order</label>\n            <select\n              value={sortOrder}\n              onChange={(e) => setSortOrder(e.target.value as any)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"name\">By Name (A-Z)</option>\n              <option value=\"sections\">By Section Count</option>\n              <option value=\"type\">By Type (Preamble First)</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Results Summary */}\n        <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n          <div className=\"text-sm text-gray-600\">\n            Showing {filteredStatutes.length} of {statuteGroups.length} statutes • \n            Total sections: {filteredStatutes.reduce((sum, statute) => sum + statute.section_count, 0)} • \n            Filter: {filterType === 'all' ? 'All types' : filterType} • \n            Sort: {sortOrder === 'name' ? 'By name' : sortOrder === 'sections' ? 'By section count' : 'By type'}\n          </div>\n        </div>\n      </div>\n\n      {/* Message Display */}\n      {message && (\n        <div className={`p-4 rounded-lg flex items-center ${\n          message.type === 'success' ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'\n        }`}>\n          {message.type === 'success' ? (\n            <CheckCircle className=\"w-5 h-5 mr-2\" />\n          ) : (\n            <AlertTriangle className=\"w-5 h-5 mr-2\" />\n          )}\n          {message.text}\n        </div>\n      )}\n\n      {/* Main Results Panel */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div \n          className=\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\"\n          onClick={() => togglePanelExpansion('main')}\n        >\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Eye className=\"w-5 h-5 mr-2\" />\n              Main Results Preview\n            </h3>\n            {expandedPanels.has('main') ? (\n              <ChevronDown className=\"w-5 h-5 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\n            )}\n          </div>\n        </div>\n        \n        {expandedPanels.has('main') && (\n          <div className=\"p-4\">\n            {loading ? (\n              <div className=\"p-8 text-center text-gray-500\">\n                <RefreshCw className=\"w-8 h-8 mx-auto mb-2 animate-spin\" />\n                Loading results...\n              </div>\n            ) : filteredStatutes.length === 0 ? (\n              <div className=\"p-8 text-center text-gray-500\">\n                {searchTerm || filterType !== 'all' ? 'No statutes match your search/filter criteria.' : 'No results found. Run normalization first to populate the database.'}\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-200\">\n                {filteredStatutes.map((statute) => (\n                  <div key={statute._id} className=\"p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <button\n                        onClick={() => toggleGroupExpansion(statute._id)}\n                        className=\"flex items-center space-x-2 text-left hover:text-blue-600\"\n                      >\n                        {expandedGroups.has(statute._id) ? (\n                          <ChevronDown className=\"w-4 h-4\" />\n                        ) : (\n                          <ChevronRight className=\"w-4 h-4\" />\n                        )}\n                        <span className=\"font-medium text-gray-900\">{statute.Statute_Name}</span>\n                        <span className=\"text-sm text-gray-500\">({statute.section_count} sections)</span>\n                      </button>\n                      \n                      <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n                        <div className=\"flex items-center space-x-2\">\n                          {statute.Sections.some((section: any) => getSectionType(section) === 'preamble') && (\n                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              <FileText className=\"w-3 h-3 mr-1\" />\n                              Preamble\n                            </span>\n                          )}\n                          {statute.Sections.some((section: any) => getSectionType(section) === 'numeric') && (\n                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                              <Hash className=\"w-3 h-3 mr-1\" />\n                              Numeric\n                            </span>\n                          )}\n                          {statute.Sections.some((section: any) => getSectionType(section) === 'text') && (\n                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                              <Text className=\"w-3 h-3 mr-1\" />\n                              Text\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    {/* Expanded Sections View */}\n                    {expandedGroups.has(statute._id) && (\n                      <div className=\"mt-3 ml-8 space-y-2\">\n                        <div className=\"text-sm text-gray-600 font-medium\">Sorted Sections:</div>\n                        {statute.Sections && statute.Sections.length > 0 ? (\n                          <div className=\"space-y-2\">\n                            {statute.Sections.map((section: any, index: number) => {\n                              const sectionType = getSectionType(section);\n                              return (\n                                <div key={index} className={`p-3 rounded-lg border-l-4 ${\n                                  sectionType === 'preamble' ? 'border-l-blue-500 bg-blue-50' :\n                                  sectionType === 'numeric' ? 'border-l-green-500 bg-green-50' :\n                                  'border-l-gray-500 bg-gray-50'\n                                }`}>\n                                  <div className=\"flex items-center justify-between mb-2\">\n                                    <div className=\"font-medium text-gray-700\">\n                                      {section.number || section.section_number || `Section ${index + 1}`}\n                                    </div>\n                                    <span className={`px-2 py-1 rounded text-xs font-medium ${\n                                      sectionType === 'preamble' ? 'bg-blue-100 text-blue-800' :\n                                      sectionType === 'numeric' ? 'bg-green-100 text-green-800' :\n                                      'bg-gray-100 text-gray-800'\n                                    }`}>\n                                      {sectionType === 'preamble' ? <FileText className=\"w-3 h-3 inline mr-1\" /> :\n                                       sectionType === 'numeric' ? <Hash className=\"w-3 h-3 inline mr-1\" /> :\n                                       <Text className=\"w-3 h-3 inline mr-1\" />}\n                                      {sectionType}\n                                    </span>\n                                  </div>\n                                  <div className=\"text-sm text-gray-600\">\n                                    {section.definition || section.content || 'No content available'}\n                                  </div>\n                                  {section.year && (\n                                    <div className=\"text-xs text-gray-500 mt-1\">\n                                      Year: {section.year}\n                                    </div>\n                                  )}\n                                </div>\n                              );\n                            })}\n                          </div>\n                        ) : (\n                          <div className=\"text-gray-500 text-sm\">No sections found</div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Sorting Configuration Panel */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div \n          className=\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\"\n          onClick={() => togglePanelExpansion('sorting')}\n        >\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <SortAsc className=\"w-5 h-5 mr-2\" />\n              Sorting Configuration\n            </h3>\n            {expandedPanels.has('sorting') ? (\n              <ChevronDown className=\"w-5 h-5 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\n            )}\n          </div>\n        </div>\n        \n        {expandedPanels.has('sorting') && (\n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Sorting Options */}\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-4\">Sorting Rules</h4>\n                <div className=\"space-y-3\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={sortOptions.preambleFirst}\n                      onChange={(e) => setSortOptions(prev => ({ ...prev, preambleFirst: e.target.checked }))}\n                      className=\"mr-3\"\n                    />\n                    <span className=\"text-sm text-gray-700\">Preamble sections first</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={sortOptions.numericOrder}\n                      onChange={(e) => setSortOptions(prev => ({ ...prev, numericOrder: e.target.checked }))}\n                      className=\"mr-3\"\n                    />\n                    <span className=\"text-sm text-gray-700\">Numeric sections in order</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={sortOptions.alphabeticalFallback}\n                      onChange={(e) => setSortOptions(prev => ({ ...prev, alphabeticalFallback: e.target.checked }))}\n                      className=\"mr-3\"\n                    />\n                    <span className=\"text-sm text-gray-700\">Alphabetical fallback for text sections</span>\n                  </label>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={sortOptions.customSortOrder}\n                      onChange={(e) => setSortOptions(prev => ({ ...prev, customSortOrder: e.target.checked }))}\n                      className=\"mr-3\"\n                    />\n                    <span className=\"text-sm text-gray-700\">Custom sort order (future feature)</span>\n                  </label>\n                </div>\n                \n                <div className=\"mt-4\">\n                  <button\n                    onClick={executeSorting}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center\"\n                  >\n                    <Play className=\"w-4 h-4 mr-2\" />\n                    Execute Sorting\n                  </button>\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Apply the current sorting configuration to all statutes\n                  </p>\n                </div>\n              </div>\n\n              {/* Sorting Preview */}\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-4\">Sorting Preview</h4>\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <div className=\"text-sm text-gray-600 mb-3\">\n                    Current sorting applied to {filteredStatutes.length} statutes\n                  </div>\n                  <div className=\"space-y-2\">\n                    {filteredStatutes.slice(0, 3).map((statute, index) => (\n                      <div key={index} className=\"text-sm\">\n                        <div className=\"font-medium\">{statute.Statute_Name}</div>\n                        <div className=\"text-gray-500\">\n                          {statute.section_count} sections • \n                          {statute.Sections.some((s: any) => getSectionType(s) === 'preamble') && ' Has preamble •'}\n                          {statute.Sections.some((s: any) => getSectionType(s) === 'numeric') && ' Has numeric •'}\n                          {statute.Sections.some((s: any) => getSectionType(s) === 'text') && ' Has text'}\n                        </div>\n                      </div>\n                    ))}\n                    {filteredStatutes.length > 3 && (\n                      <div className=\"text-xs text-gray-500\">\n                        ... and {filteredStatutes.length - 3} more\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Field Mapping & Cleaning Panel */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div \n          className=\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\"\n          onClick={() => togglePanelExpansion('cleaning')}\n        >\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Settings className=\"w-5 h-5 mr-2\" />\n              Field Mapping & Cleaning\n            </h3>\n            {expandedPanels.has('cleaning') ? (\n              <ChevronDown className=\"w-5 h-5 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\n            )}\n          </div>\n        </div>\n        \n        {expandedPanels.has('cleaning') && (\n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {/* Field Mapping Editor */}\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-4\">Field Mappings</h4>\n                <FieldMappingEditor\n                  fieldMappings={fieldMappings}\n                  updateFieldMapping={updateFieldMapping}\n                  addFieldMapping={addFieldMapping}\n                  removeFieldMapping={removeFieldMapping}\n                />\n                \n                <div className=\"mt-4\">\n                  <button\n                    onClick={executeCleaning}\n                    className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center\"\n                  >\n                    <Play className=\"w-4 h-4 mr-2\" />\n                    Execute Cleaning\n                  </button>\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Apply the current field mappings to all statutes\n                  </p>\n                </div>\n              </div>\n\n              {/* Cleaning Preview */}\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-4\">Cleaning Preview</h4>\n                <div className=\"bg-gray-50 p-4 rounded-lg\">\n                  <div className=\"text-sm text-gray-600 mb-3\">\n                    Field mappings applied to {filteredStatutes.length} statutes\n                  </div>\n                  <div className=\"space-y-2\">\n                    {filteredStatutes.slice(0, 2).map((statute, index) => (\n                      <div key={index} className=\"text-sm\">\n                        <div className=\"font-medium\">{statute.Statute_Name}</div>\n                        <div className=\"text-gray-500\">\n                          {statute.section_count} sections • \n                          Mapped fields: {fieldMappings.filter(m => m.enabled).length}\n                        </div>\n                      </div>\n                    ))}\n                    {filteredStatutes.length > 2 && (\n                      <div className=\"text-xs text-gray-500\">\n                        ... and {filteredStatutes.length - 2} more\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Progress Panel */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div \n          className=\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\"\n          onClick={() => togglePanelExpansion('progress')}\n        >\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <BarChart3 className=\"w-5 h-5 mr-2\" />\n              Progress Tracking\n            </h3>\n            {expandedPanels.has('progress') ? (\n              <ChevronDown className=\"w-5 h-5 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\n            )}\n          </div>\n        </div>\n        \n        {expandedPanels.has('progress') && progressMetrics && (\n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n              {/* KPI Cards */}\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <Database className=\"w-8 h-8 text-blue-600 mr-3\" />\n                  <div>\n                    <div className=\"text-2xl font-bold text-blue-900\">{progressMetrics.total_statutes}</div>\n                    <div className=\"text-sm text-blue-700\">Total Statutes</div>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <CheckCircle className=\"w-8 h-8 text-green-600 mr-3\" />\n                  <div>\n                    <div className=\"text-2xl font-bold text-green-900\">{progressMetrics.processed_statutes}</div>\n                    <div className=\"text-sm text-green-700\">Processed Statutes</div>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"bg-purple-50 p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <FileText className=\"w-8 h-8 text-purple-600 mr-3\" />\n                  <div>\n                    <div className=\"text-2xl font-bold text-purple-900\">{progressMetrics.total_sections}</div>\n                    <div className=\"text-sm text-purple-700\">Total Sections</div>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"bg-orange-50 p-4 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <TrendingUp className=\"w-8 h-8 text-orange-600 mr-3\" />\n                  <div>\n                    <div className=\"text-2xl font-bold text-orange-900\">{Math.round(progressMetrics.overall_progress)}%</div>\n                    <div className=\"text-sm text-orange-700\">Overall Progress</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Progress Bars */}\n            <div className=\"space-y-4\">\n              <div>\n                <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\n                  <span>Normalization Progress</span>\n                  <span>{Math.round(progressMetrics.normalization_progress)}%</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-blue-600 h-2 rounded-full\" \n                    style={{ width: `${progressMetrics.normalization_progress}%` }}\n                  ></div>\n                </div>\n              </div>\n              \n              <div>\n                <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\n                  <span>Sorting Progress</span>\n                  <span>{Math.round(progressMetrics.sorting_progress)}%</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-green-600 h-2 rounded-full\" \n                    style={{ width: `${progressMetrics.sorting_progress}%` }}\n                  ></div>\n                </div>\n              </div>\n            </div>\n\n            {/* Status Info */}\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n              <div className=\"text-sm text-gray-600\">\n                <div className=\"flex items-center mb-2\">\n                  <Clock className=\"w-4 h-4 mr-2\" />\n                  Last Updated: {new Date(progressMetrics.last_updated).toLocaleString()}\n                </div>\n                <div className=\"flex items-center\">\n                  <CheckCircle className=\"w-4 h-4 mr-2 text-green-600\" />\n                  Status: {progressMetrics.current_phase}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* History Panel */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div \n          className=\"p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50\"\n          onClick={() => togglePanelExpansion('history')}\n        >\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <History className=\"w-5 h-5 mr-2\" />\n              Normalization History\n            </h3>\n            {expandedPanels.has('history') ? (\n              <ChevronDown className=\"w-5 h-5 text-gray-500\" />\n            ) : (\n              <ChevronRight className=\"w-5 h-5 text-gray-500\" />\n            )}\n          </div>\n        </div>\n        \n        {expandedPanels.has('history') && (\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {/* Mock History Events */}\n              <div className=\"border-l-4 border-blue-500 pl-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Normalization Completed</div>\n                    <div className=\"text-sm text-gray-600\">\n                      {statuteGroups.length} statutes processed with {statuteGroups.reduce((sum, s) => sum + s.section_count, 0)} sections\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    {new Date().toLocaleString()}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"border-l-4 border-green-500 pl-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Section Sorting Applied</div>\n                    <div className=\"text-sm text-gray-600\">\n                      Preamble, numeric, and text sections sorted according to rules\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    {new Date().toLocaleString()}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"border-l-4 border-purple-500 pl-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Field Mapping Configured</div>\n                    <div className=\"text-sm text-gray-600\">\n                      {fieldMappings.filter(m => m.enabled).length} active field mappings\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-500\">\n                    {new Date().toLocaleString()}\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800\">\n              <strong>Note:</strong> This is a preview of normalization history. \n              Full history tracking will be implemented with backend integration.\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Data Structure Info */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Data Structure Information</h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <h4 className=\"font-medium text-gray-900 mb-2\">Output Schema</h4>\n            <div className=\"bg-gray-50 p-3 rounded text-sm font-mono\">\n              <div>{\"{\"}</div>\n              <div className=\"ml-4\">\"Statute_Name\": \"string\",</div>\n              <div className=\"ml-4\">\"Sections\": [</div>\n              <div className=\"ml-8\">{\"{\"}</div>\n              <div className=\"ml-12\">\"number\": \"string\",</div>\n              <div className=\"ml-12\">\"definition\": \"string\",</div>\n              <div className=\"ml-12\">\"year\": \"number\",</div>\n              <div className=\"ml-8\">{\"}\"}</div>\n              <div className=\"ml-4\">]</div>\n              <div>{\"}\"}</div>\n            </div>\n          </div>\n          \n          <div>\n            <h4 className=\"font-medium text-gray-900 mb-2\">Section Types</h4>\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-blue-500 rounded\"></div>\n                <span className=\"text-sm text-gray-700\">Preamble - Always sorted first</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-green-500 rounded\"></div>\n                <span className=\"text-sm text-gray-700\">Numeric - Sorted by value</span>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-4 h-4 bg-gray-500 rounded\"></div>\n                <span className=\"text-sm text-gray-700\">Text - Sorted alphabetically</span>\n              </div>\n            </div>\n            \n            <div className=\"mt-4 p-3 bg-blue-50 rounded text-sm text-blue-800\">\n              <strong>Note:</strong> Each statute is now a single document containing all its sections, \n              making it easier to work with related legal content as a cohesive unit.\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Summary */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <div className=\"text-sm text-gray-600\">\n          Total: {statuteGroups.length} statute group(s) • \n          Total sections: {statuteGroups.reduce((sum, statute) => sum + statute.section_count, 0)} • \n          Showing: {filteredStatutes.length} filtered • \n          Data structure: Grouped with sorted sections\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResultsPreview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}