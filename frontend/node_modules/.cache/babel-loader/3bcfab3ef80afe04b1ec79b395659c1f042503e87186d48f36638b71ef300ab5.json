{"ast":null,"code":"var _jsxFileName = \"D:\\\\DigiFloat\\\\LawChronicle\\\\frontend\\\\src\\\\pages\\\\Phase3.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Scissors, Database, FileText, Settings, History, Eye, RotateCcw, Split, Layers, Loader2, AlertCircle } from 'lucide-react';\n\n// Configuration interface - updated to match CLI flow\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Default configuration - matches CLI scripts\nconst DEFAULT_CONFIG = {\n  source_database: \"Statutes\",\n  source_collection: \"normalized_statutes\",\n  target_database: \"Batched-Statutes\",\n  target_collection_prefix: \"batch_\",\n  batch_size: 10,\n  enable_ai_cleaning: false\n};\nconst Phase3 = () => {\n  _s();\n  var _status$collection_st, _status$collection_st2, _status$collection_st3, _status$collection_st4, _validationResults$me, _validationResults$me2, _validationResults$me3, _validationResults$me4, _validationResults$me5, _statistics$statistic, _statistics$statistic2, _statistics$statistic3, _statistics$statistic4, _statistics$statistic5, _statistics$statistic6, _statistics$statistic7, _statistics$statistic8, _statistics$statistic9, _statistics$statistic0, _statistics$statistic1, _statistics$statistic10, _statistics$statistic11, _statistics$statistic12, _statistics$statistic13;\n  const [activeTab, setActiveTab] = useState('overview');\n  const [config, setConfig] = useState(DEFAULT_CONFIG);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [status, setStatus] = useState(null);\n  const [statistics, setStatistics] = useState(null);\n  const [batchPreview, setBatchPreview] = useState(null);\n  const [progressStep, setProgressStep] = useState('');\n  const [progressDetails, setProgressDetails] = useState('');\n  const [processingStats, setProcessingStats] = useState(null);\n  const [operationError, setOperationError] = useState(null);\n  const [history, setHistory] = useState(null);\n  const [availableBatches, setAvailableBatches] = useState(null);\n  const [selectedBatches, setSelectedBatches] = useState([]);\n  const [cleanAllBatches, setCleanAllBatches] = useState(true);\n  const [dryRun, setDryRun] = useState(true);\n  const [validationResults, setValidationResults] = useState(null);\n  const [expandedStatutes, setExpandedStatutes] = useState({});\n  const [expandedSections, setExpandedSections] = useState({});\n\n  // Load config from localStorage on mount\n  useEffect(() => {\n    const savedConfig = localStorage.getItem('phase3_config');\n    if (savedConfig) {\n      try {\n        setConfig(JSON.parse(savedConfig));\n      } catch (error) {\n        console.error('Error loading Phase 3 config:', error);\n      }\n    }\n  }, []);\n\n  // Save config to localStorage when it changes\n  useEffect(() => {\n    localStorage.setItem('phase3_config', JSON.stringify(config));\n  }, [config]);\n\n  // Update configuration\n  const updateConfig = updates => {\n    setConfig(prev => ({\n      ...prev,\n      ...updates\n    }));\n  };\n\n  // Reset configuration to defaults\n  const resetConfig = () => {\n    setConfig(DEFAULT_CONFIG);\n  };\n\n  // Fetch Phase 3 status\n  const fetchStatus = async () => {\n    try {\n      const response = await fetch('/api/v1/phase3/status');\n      if (response.ok) {\n        const data = await response.json();\n        setStatus(data);\n      }\n    } catch (error) {\n      console.error('Error fetching Phase 3 status:', error);\n    }\n  };\n\n  // Fetch statistics\n  const fetchStatistics = async () => {\n    try {\n      const response = await fetch('/api/v1/phase3/statistics', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setStatistics(data);\n      }\n    } catch (error) {\n      console.error('Error fetching Phase 3 statistics:', error);\n    }\n  };\n\n  // Fetch batch preview\n  const fetchBatchPreview = async () => {\n    try {\n      const response = await fetch('/api/v1/phase3/preview-batches', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setBatchPreview(data);\n      }\n    } catch (error) {\n      console.error('Error fetching batch preview:', error);\n    }\n  };\n\n  // Fetch history\n  const fetchHistory = async () => {\n    try {\n      const response = await fetch('/api/v1/phase3/history');\n      if (response.ok) {\n        const data = await response.json();\n        setHistory(data);\n      }\n    } catch (error) {\n      console.error('Error fetching history:', error);\n    }\n  };\n\n  // Fetch available batches for cleaning\n  const fetchAvailableBatches = async () => {\n    try {\n      const response = await fetch('/api/v1/phase3/available-batches', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setAvailableBatches(data);\n      }\n    } catch (error) {\n      console.error('Error fetching available batches:', error);\n    }\n  };\n\n  // Generate metadata\n  const generateMetadata = async () => {\n    try {\n      const response = await fetch('/api/v1/phase3/generate-metadata', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        alert(`Metadata generated successfully! File: ${result.metadata_file}`);\n        fetchHistory();\n      } else {\n        const error = await response.json();\n        alert(`Error generating metadata: ${error.detail}`);\n      }\n    } catch (error) {\n      console.error('Error generating metadata:', error);\n      alert('Failed to generate metadata');\n    }\n  };\n\n  // Start section splitting using modern service endpoint\n  const startSectionSplitting = async () => {\n    setIsProcessing(true);\n    setOperationError(null);\n    setProgressStep('Initializing section splitting process...');\n    setProgressDetails('Preparing to analyze and split statute sections');\n    setProcessingStats(null);\n    try {\n      // Step 1: Prepare request\n      setProgressStep('Preparing section splitting request');\n      setProgressDetails(`Source: ${config.source_database}.${config.source_collection} → Target: ${config.target_database}.${config.target_collection_prefix}*`);\n\n      // Step 2: Send to the correct endpoint\n      setProgressStep('Connecting to section splitting service');\n      setProgressDetails('Analyzing statute structure and splitting into batches...');\n      const response = await fetch('/api/v1/phase3/start-section-splitting', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n\n      // Step 3: Process results\n      setProgressStep('Processing section splitting results');\n      setProgressDetails('Analyzing split sections and organizing data...');\n      if (response.ok) {\n        const result = await response.json();\n        setProgressStep('Section splitting completed successfully!');\n        setProgressDetails(`Successfully created ${result.batches_created || 0} batch collections`);\n\n        // Show success notification with details\n        const batchCount = result.batches_created || 0;\n        setProcessingStats({\n          processed: batchCount,\n          total: batchCount,\n          operation: 'Section Splitting'\n        });\n        fetchStatus();\n\n        // Clear progress after delay\n        setTimeout(() => {\n          setProgressStep('');\n          setProgressDetails('');\n          setProcessingStats(null);\n        }, 3000);\n      } else {\n        const error = await response.json();\n        throw new Error(error.detail || 'Section splitting failed');\n      }\n    } catch (error) {\n      setProgressStep('Error during section splitting');\n      const errorMessage = error instanceof Error ? error.message : 'Failed to start section splitting';\n      setProgressDetails(errorMessage);\n      setOperationError(errorMessage);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Start field cleaning using modern service endpoint\n  const startFieldCleaning = async () => {\n    setIsProcessing(true);\n    setOperationError(null);\n    setProgressStep('Initializing field cleaning process...');\n    setProgressDetails('Preparing to clean and validate field data');\n    setProcessingStats(null);\n    try {\n      // Step 1: Prepare cleaning request (send the Phase3 config)\n      setProgressStep('Preparing field cleaning request');\n      setProgressDetails(`Scheduling cleaning for collections with prefix: ${config.target_collection_prefix}`);\n\n      // Step 2: Schedule cleaning on the backend (background task)\n      setProgressStep('Scheduling field cleaning on server');\n      setProgressDetails('Requesting server to start field cleaning in background...');\n      const response = await fetch('/api/v1/phase3/start-field-cleaning', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n\n      // Step 3: Process cleaning results\n      setProgressStep('Processing field cleaning results');\n      setProgressDetails('Validating cleaned data and updating collections...');\n      if (response.ok) {\n        const result = await response.json();\n        const batches = result.batches_scheduled || [];\n        setProgressStep('Field cleaning scheduled');\n        setProgressDetails(`Cleaning scheduled for ${batches.length} batches. Server is processing in background.`);\n        setProcessingStats({\n          processed: batches.length,\n          total: batches.length || 1,\n          operation: 'Field Cleaning'\n        });\n        fetchStatus();\n\n        // Clear progress after short delay but keep status visible\n        setTimeout(() => {\n          setProgressStep('');\n          setProgressDetails('');\n        }, 3000);\n      } else {\n        const error = await response.json();\n        throw new Error(error.detail || 'Field cleaning scheduling failed');\n      }\n    } catch (error) {\n      setProgressStep('Error during field cleaning');\n      const errorMessage = error instanceof Error ? error.message : 'Failed to start field cleaning';\n      setProgressDetails(errorMessage);\n      setOperationError(errorMessage);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Start batch cleaning (using service architecture)\n  const startBatchCleaning = async () => {\n    setIsProcessing(true);\n    try {\n      const serviceRequest = {\n        metadata: {\n          processing_type: \"batch_cleaning\",\n          target_database: config.target_database,\n          target_collection_prefix: config.target_collection_prefix,\n          batch_numbers: cleanAllBatches ? null : selectedBatches,\n          clean_all: cleanAllBatches\n        }\n      };\n      const response = await fetch('/api/v1/phase3/process-statute', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(serviceRequest)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        alert(`Batch cleaning started successfully!`);\n        fetchStatus();\n        fetchHistory(); // Refresh history to show new metadata\n      } else {\n        const error = await response.json();\n        alert(`Error starting batch cleaning: ${error.detail}`);\n      }\n    } catch (error) {\n      console.error('Error starting batch cleaning:', error);\n      alert('Failed to start batch cleaning');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  // Start Pakistan Law Validation\n  const startPakistanLawValidation = async () => {\n    setIsProcessing(true);\n    setValidationResults(null);\n    try {\n      const payload = {\n        target_database: config.target_database,\n        target_collection_prefix: config.target_collection_prefix,\n        batch_numbers: cleanAllBatches ? null : selectedBatches,\n        clean_all: cleanAllBatches\n      };\n      const url = `/api/v1/phase3/validate-pakistan-batches?dry_run=${dryRun}`;\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        setValidationResults(result);\n        fetchStatus();\n        fetchHistory();\n      } else {\n        const err = await response.json();\n        alert(`Error during validation: ${err.message || err.detail}`);\n      }\n    } catch (error) {\n      console.error('Error validating Pakistan law batches:', error);\n      alert('Pakistan law validation failed');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Preview validation metadata\n  const previewValidationMetadata = async () => {\n    setIsProcessing(true);\n    try {\n      const payload = {\n        target_database: config.target_database,\n        target_collection_prefix: config.target_collection_prefix,\n        batch_numbers: cleanAllBatches ? null : selectedBatches,\n        clean_all: cleanAllBatches\n      };\n      const response = await fetch('/api/v1/phase3/preview-validation-metadata', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        alert(`Metadata Preview:\\n\\nEstimated Documents: ${result.estimated_documents}\\nBatches: ${result.batches_to_process.length}\\n\\nMetadata structure generated successfully!`);\n      } else {\n        const err = await response.json();\n        alert(`Error previewing metadata: ${err.message || err.detail}`);\n      }\n    } catch (error) {\n      console.error('Error previewing validation metadata:', error);\n      alert('Metadata preview failed');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Handle batch selection\n  const toggleBatchSelection = batchNumber => {\n    setSelectedBatches(prev => prev.includes(batchNumber) ? prev.filter(n => n !== batchNumber) : [...prev, batchNumber]);\n  };\n\n  // Toggle statute expansion\n  const toggleStatuteExpansion = statuteKey => {\n    setExpandedStatutes(prev => ({\n      ...prev,\n      [statuteKey]: !prev[statuteKey]\n    }));\n  };\n\n  // Toggle section expansion\n  const toggleSectionExpansion = sectionKey => {\n    setExpandedSections(prev => ({\n      ...prev,\n      [sectionKey]: !prev[sectionKey]\n    }));\n  };\n\n  // Rollback Phase 3\n  const rollbackPhase3 = async () => {\n    if (!window.confirm('Are you sure you want to rollback Phase 3? This will delete all created batch collections and databases.')) {\n      return;\n    }\n    try {\n      const response = await fetch('/api/v1/phase3/rollback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(config)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        alert('Phase 3 rollback completed successfully!');\n        fetchStatus();\n        fetchStatistics();\n      } else {\n        const error = await response.json();\n        alert(`Error rolling back Phase 3: ${error.detail}`);\n      }\n    } catch (error) {\n      console.error('Error rolling back Phase 3:', error);\n      alert('Failed to rollback Phase 3');\n    }\n  };\n\n  // Load data on mount\n  useEffect(() => {\n    fetchStatus();\n    fetchStatistics();\n  }, []);\n  // Auto-load batches when Pakistan Law Validation tab is active\n  useEffect(() => {\n    if (activeTab === 'pakistan-law-validation') {\n      fetchAvailableBatches();\n    }\n  }, [activeTab]);\n  const tabs = [{\n    id: 'overview',\n    name: 'Overview',\n    icon: Database\n  }, {\n    id: 'section-splitting',\n    name: 'Section Splitting',\n    icon: Split\n  }, {\n    id: 'field-cleaning',\n    name: 'Field Cleaning',\n    icon: Scissors\n  }, {\n    id: 'pakistan-law-validation',\n    name: 'Pakistan Law Validation',\n    icon: FileText\n  }, {\n    id: 'preview',\n    name: 'Batch Preview',\n    icon: Eye\n  }, {\n    id: 'statistics',\n    name: 'Statistics',\n    icon: Settings\n  }, {\n    id: 'history',\n    name: 'History',\n    icon: History\n  }];\n  // Start Pakistan Law Validation (mirrors batch cleaning, but uses different processing_type)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold text-gray-900 mb-1\",\n        children: \"Phase 3: Field Cleaning & Splitting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-sm\",\n        children: \"Split normalized statutes into batches, then clean each batch using CLI logic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Current Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetConfig,\n          className: \"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            className: \"h-4 w-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), \"Reset to Defaults\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Source DB:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: config.source_database,\n            onChange: e => updateConfig({\n              source_database: e.target.value\n            }),\n            className: \"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Source Collection:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: config.source_collection,\n            onChange: e => updateConfig({\n              source_collection: e.target.value\n            }),\n            className: \"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Target DB:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: config.target_database,\n            onChange: e => updateConfig({\n              target_database: e.target.value\n            }),\n            className: \"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Batch Prefix:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: config.target_collection_prefix,\n            onChange: e => updateConfig({\n              target_collection_prefix: e.target.value\n            }),\n            className: \"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: \"Number of Batches:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: config.batch_size,\n            onChange: e => updateConfig({\n              batch_size: parseInt(e.target.value) || 10\n            }),\n            className: \"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-16\",\n            min: \"1\",\n            max: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: config.enable_ai_cleaning,\n            onChange: e => updateConfig({\n              enable_ai_cleaning: e.target.checked\n            }),\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-gray-700\",\n              children: \"AI-enhanced Cleaning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Use GPT-based enhancements for field cleaning when enabled.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 mt-2\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex space-x-8 px-4\",\n        \"aria-label\": \"Tabs\",\n        children: tabs.map(tab => {\n          const Icon = tab.icon;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab(tab.id),\n            className: `py-3 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${activeTab === tab.id ? 'border-purple-500 text-purple-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: tab.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this)]\n          }, tab.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mt-2\",\n      children: [activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-blue-900 mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Split, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 19\n              }, this), \"Section Splitting\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-700 text-sm mb-3\",\n              children: [\"Split normalized statutes from \", config.source_database, \".\", config.source_collection, \" into \", config.batch_size, \" equal batches in \", config.target_database, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startSectionSplitting,\n              disabled: isProcessing,\n              className: \"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isProcessing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-4 h-4 mr-2 inline animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 23\n                }, this), progressStep || 'Processing...']\n              }, void 0, true) : 'Start Section Splitting'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-green-900 mb-2 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Scissors, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 19\n              }, this), \"Field Cleaning\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-700 text-sm mb-3\",\n              children: \"Clean each batch using CLI logic: drop unnecessary fields, bring common fields up, handle single sections, remove duplicates, and sort sections.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startFieldCleaning,\n              disabled: isProcessing,\n              className: \"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: isProcessing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-4 h-4 mr-2 inline animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 23\n                }, this), progressStep || 'Processing...']\n              }, void 0, true) : 'Start Field Cleaning'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 13\n        }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Processing Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"w-5 h-5 text-blue-600 animate-spin mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-blue-700\",\n                children: \"In Progress\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 17\n          }, this), progressStep && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-base font-medium text-gray-800 mb-1\",\n              children: progressStep\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 21\n            }, this), progressDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: progressDetails\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 19\n          }, this), processingStats && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg p-4 border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-700\",\n                children: processingStats.operation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [processingStats.processed.toLocaleString(), \" processed\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 664,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500 ease-out\",\n                style: {\n                  width: `${processingStats.processed / processingStats.total * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 668,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 15\n        }, this), operationError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"w-5 h-5 text-red-600 mr-3 mt-0.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-base font-medium text-red-900 mb-2\",\n                children: \"Operation Failed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-red-800 mb-3\",\n                children: operationError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-red-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Troubleshooting Steps:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 688,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"mt-2 ml-4 list-disc space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Verify database connection is active\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 690,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Check that source collections contain data\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 691,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Ensure sufficient permissions for target database\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 692,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Review configuration settings for accuracy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"Try refreshing the page and attempting the operation again\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 694,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 689,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setOperationError(null),\n                className: \"mt-3 text-sm text-red-600 hover:text-red-800 underline\",\n                children: \"Dismiss error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 15\n        }, this), status && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-3\",\n            children: \"Current Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-blue-600\",\n                children: (_status$collection_st = status.collection_status) !== null && _status$collection_st !== void 0 && _status$collection_st.source_exists ? '✅' : '❌'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Source Collection\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: [config.source_database, \".\", config.source_collection]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 21\n              }, this), ((_status$collection_st2 = status.collection_status) === null || _status$collection_st2 === void 0 ? void 0 : _status$collection_st2.source_count) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: [status.collection_status.source_count, \" documents\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-green-600\",\n                children: (_status$collection_st3 = status.collection_status) !== null && _status$collection_st3 !== void 0 && _status$collection_st3.target_database_exists ? '✅' : '❌'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Target Database\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: config.target_database\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-purple-600\",\n                children: ((_status$collection_st4 = status.collection_status) === null || _status$collection_st4 === void 0 ? void 0 : _status$collection_st4.batch_count) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Batch Collections\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: [config.target_collection_prefix, \"1, \", config.target_collection_prefix, \"2, ...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-red-900 mb-2\",\n            children: \"Rollback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-700 text-sm mb-3\",\n            children: \"Rollback Phase 3 changes and restore previous state if needed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: rollbackPhase3,\n            className: \"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\",\n            children: \"Rollback Phase 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 11\n      }, this), activeTab === 'section-splitting' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Section Splitting Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-900 mb-2\",\n            children: \"Section Splitting Process\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-blue-700 text-sm space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 Read all documents from \", config.source_database, \".\", config.source_collection]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 763,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 Split into exactly \", config.batch_size, \" batches with documents distributed evenly\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 Create collections: \", config.target_collection_prefix, \"1, \", config.target_collection_prefix, \"2, ...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Distribute statutes across batches as evenly as possible\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 766,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Maintain section structure and metadata\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 762,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startSectionSplitting,\n            disabled: isProcessing,\n            className: \"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: isProcessing ? 'Processing...' : 'Start Section Splitting'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: generateMetadata,\n            className: \"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700\",\n            children: \"Generate Metadata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchStatus,\n            className: \"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\",\n            children: \"Refresh Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 11\n      }, this), activeTab === 'field-cleaning' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Field Cleaning Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchAvailableBatches,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n            children: \"Load Available Batches\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-green-900 mb-2\",\n            children: \"Field Cleaning Process (per batch)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-green-700 text-sm space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Drop unnecessary fields:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 23\n              }, this), \" Keep only essential fields for processing\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Bring common fields up:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 23\n              }, this), \" Move fields common across all sections to statute level\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Clean single-section statutes:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 812,\n                columnNumber: 23\n              }, this), \" Handle single-section statutes specially\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Remove preamble duplicates:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 23\n              }, this), \" Remove duplicate preamble sections\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Sort sections:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 23\n              }, this), \" Preamble first, then numeric, then text\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Validate Pakistan law:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 23\n              }, this), \" Drop non-Pakistan laws using CLI logic\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-900 mb-3\",\n            children: \"Cleaning Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"cleaningMode\",\n                checked: cleanAllBatches,\n                onChange: () => setCleanAllBatches(true),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Clean All Batches\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"cleaningMode\",\n                checked: !cleanAllBatches,\n                onChange: () => setCleanAllBatches(false),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 836,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Clean Selected Batches\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 15\n          }, this), !cleanAllBatches && availableBatches && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"font-medium text-gray-700 mb-2\",\n              children: \"Select Batches to Clean:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 850,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto\",\n              children: availableBatches.batches.map(batch => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedBatches.includes(batch.batch_number),\n                  onChange: () => toggleBatchSelection(batch.batch_number),\n                  className: \"rounded\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 854,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: batch.is_cleaned ? \"text-green-600\" : \"text-gray-700\",\n                  children: [batch.batch_name, \" (\", batch.document_count, \" docs)\", batch.is_cleaned && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs\",\n                    children: \" \\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 48\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 860,\n                  columnNumber: 25\n                }, this)]\n              }, batch.batch_number, true, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-2\",\n              children: [\"Selected: \", selectedBatches.length, \" batches. Green items are already cleaned.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 849,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startBatchCleaning,\n            disabled: isProcessing || !cleanAllBatches && selectedBatches.length === 0,\n            className: \"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: isProcessing ? 'Processing...' : cleanAllBatches ? 'Clean All Batches' : `Clean ${selectedBatches.length} Selected Batches`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 875,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: generateMetadata,\n            className: \"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700\",\n            children: \"Generate Metadata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 883,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchStatus,\n            className: \"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\",\n            children: \"Refresh Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 889,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 874,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 11\n      }, this), activeTab === 'pakistan-law-validation' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center mr-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: dryRun,\n                onChange: e => setDryRun(e.target.checked),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: \"Dry Run (Preview Only)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 905,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Preview which statutes will be dropped before actual deletion.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 907,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center mr-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: true,\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-sm\",\n                children: \"Generate Metadata\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 912,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Save validation statistics and analysis.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 11\n        }, this), validationResults && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-900\",\n              children: \"Validation Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this), validationResults.metadata_file && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded\",\n              children: [\"\\uD83D\\uDCC1 Metadata: \", validationResults.metadata_file]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Scanned:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 928,\n              columnNumber: 17\n            }, this), \" \", validationResults.total_scanned, \" \\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Dropped:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 17\n            }, this), \" \", validationResults.total_dropped, \" \\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Kept:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 930,\n              columnNumber: 17\n            }, this), \" \", validationResults.total_kept, \" \\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Batches:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 931,\n              columnNumber: 17\n            }, this), \" \", validationResults.processed_batches]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 927,\n            columnNumber: 15\n          }, this), validationResults.metadata && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 text-xs bg-white p-2 rounded border\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Drop Analysis:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 935,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-2 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Drop Rate: \", (_validationResults$me = validationResults.metadata.validation_results) === null || _validationResults$me === void 0 ? void 0 : (_validationResults$me2 = _validationResults$me.drop_rate) === null || _validationResults$me2 === void 0 ? void 0 : _validationResults$me2.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Keep Rate: \", (_validationResults$me3 = validationResults.metadata.validation_results) === null || _validationResults$me3 === void 0 ? void 0 : (_validationResults$me4 = _validationResults$me3.keep_rate) === null || _validationResults$me4 === void 0 ? void 0 : _validationResults$me4.toFixed(1), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 938,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 936,\n              columnNumber: 19\n            }, this), ((_validationResults$me5 = validationResults.metadata.drop_reason_analysis) === null || _validationResults$me5 === void 0 ? void 0 : _validationResults$me5.top_drop_reasons) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Top Reasons:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 23\n              }, this), \" \", validationResults.metadata.drop_reason_analysis.top_drop_reasons.map(([reason, count]) => `${reason} (${count})`).join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 934,\n            columnNumber: 17\n          }, this), validationResults.dropped_docs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Dropped Statutes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 949,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc ml-6 text-xs\",\n              children: validationResults.dropped_docs.map((doc, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [doc.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-600\",\n                  children: [\" (\", doc.reason, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 954,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: [\" [\", doc.batch, \"]\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 955,\n                  columnNumber: 25\n                }, this)]\n              }, doc.name + idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 17\n          }, this), validationResults.kept_docs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Kept Statutes:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 963,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-disc ml-6 text-xs\",\n              children: validationResults.kept_docs.map((doc, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [doc.name, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-600\",\n                  children: \" [Kept]\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 968,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: [\" [\", doc.batch, \"]\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 969,\n                  columnNumber: 25\n                }, this)]\n              }, doc.name + idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 962,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: validationResults.dry_run ? \"No changes made (preview only)\" : \"Non-Pakistan statutes have been dropped.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Pakistan Law Validation Configuration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchAvailableBatches,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n            children: \"Load Available Batches\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-yellow-50 p-4 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-yellow-700 text-sm space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Drop non-Pakistan laws using CLI logic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 987,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Validate all or selected batches\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                checked: cleanAllBatches,\n                onChange: () => setCleanAllBatches(true),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 993,\n                columnNumber: 54\n              }, this), \"Validate All\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                checked: !cleanAllBatches,\n                onChange: () => setCleanAllBatches(false),\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 54\n              }, this), \"Validate Selected\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 15\n          }, this), availableBatches === null && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-4 text-gray-500\",\n            children: \"Click \\\"Load Available Batches\\\" to load batches for validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 17\n          }, this), !cleanAllBatches && availableBatches && availableBatches.batches.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 grid grid-cols-3 gap-2 max-h-48 overflow-y-auto\",\n            children: availableBatches.batches.map(b => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center space-x-2 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: selectedBatches.includes(b.batch_number),\n                onChange: () => toggleBatchSelection(b.batch_number),\n                className: \"rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: b.is_cleaned ? 'text-green-600' : 'text-gray-700',\n                children: [b.batch_name, \" (\", b.document_count, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 23\n              }, this)]\n            }, b.batch_number, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1005,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 13\n        }, this), availableBatches && availableBatches.batches.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-4 text-gray-500\",\n          children: \"No batch collections found. Run section splitting first to create batches.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startPakistanLawValidation,\n            disabled: isProcessing || !cleanAllBatches && selectedBatches.length === 0,\n            className: \"bg-yellow-600 text-white px-6 py-2 rounded-md hover:bg-yellow-700 disabled:opacity-50\",\n            children: isProcessing ? 'Processing...' : cleanAllBatches ? 'Validate All' : 'Validate Selected'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1022,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: previewValidationMetadata,\n            disabled: isProcessing || !cleanAllBatches && selectedBatches.length === 0,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50\",\n            children: \"Preview Metadata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1023,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchStatus,\n            className: \"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\",\n            children: \"Refresh Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1021,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 900,\n        columnNumber: 9\n      }, this), activeTab === 'preview' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Batch Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchBatchPreview,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n            children: \"Load Batch Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1033,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 13\n        }, this), batchPreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: batchPreview.batches.length > 0 ? batchPreview.batches.map((batch, index) => {\n            var _batch$sample_documen;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 p-4 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-900 mb-2\",\n                children: batch.batch_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4 text-sm mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Documents:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1049,\n                    columnNumber: 27\n                  }, this), \" \", batch.document_count]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1048,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Sample Documents:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1052,\n                    columnNumber: 27\n                  }, this), \" \", ((_batch$sample_documen = batch.sample_documents) === null || _batch$sample_documen === void 0 ? void 0 : _batch$sample_documen.length) || 0]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1051,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1047,\n                columnNumber: 23\n              }, this), batch.sample_documents && batch.sample_documents.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500 mb-2\",\n                  children: \"Sample Documents (click to expand):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1058,\n                  columnNumber: 27\n                }, this), batch.sample_documents.map((doc, docIndex) => {\n                  var _doc$Sections;\n                  const statuteKey = `${batch.batch_name}-${docIndex}`;\n                  const isStatuteExpanded = expandedStatutes[statuteKey];\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white border rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"p-3 cursor-pointer hover:bg-gray-50 flex items-center justify-between\",\n                      onClick: () => toggleStatuteExpansion(statuteKey),\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"font-medium text-sm text-gray-900\",\n                          children: doc.Statute_Name || 'N/A'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1071,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-500\",\n                          children: [((_doc$Sections = doc.Sections) === null || _doc$Sections === void 0 ? void 0 : _doc$Sections.length) || 0, \" sections \\u2022 Province: \", doc.Province || 'N/A']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1074,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1070,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-gray-400\",\n                        children: isStatuteExpanded ? '▼' : '▶'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1078,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1066,\n                      columnNumber: 33\n                    }, this), isStatuteExpanded && doc.section_details && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-t border-gray-100\",\n                      children: doc.section_details.map((section, sectionIndex) => {\n                        const sectionKey = `${statuteKey}-section-${sectionIndex}`;\n                        const isSectionExpanded = expandedSections[sectionKey];\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"border-b border-gray-50 last:border-b-0\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 pl-6 cursor-pointer hover:bg-gray-25 flex items-center justify-between\",\n                            onClick: () => toggleSectionExpansion(sectionKey),\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"flex-1\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"font-medium text-sm text-blue-900\",\n                                children: section.section_title\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1098,\n                                columnNumber: 47\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"text-xs text-gray-500 mt-1\",\n                                children: section.content_preview\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 1101,\n                                columnNumber: 47\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1097,\n                              columnNumber: 45\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-gray-400 text-sm\",\n                              children: isSectionExpanded ? '▼' : '▶'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1105,\n                              columnNumber: 45\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1093,\n                            columnNumber: 43\n                          }, this), isSectionExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-3 pl-8 bg-gray-50 border-t border-gray-100\",\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"text-sm text-gray-800 whitespace-pre-wrap\",\n                              children: section.content || 'No content available'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1113,\n                              columnNumber: 47\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1112,\n                            columnNumber: 45\n                          }, this)]\n                        }, sectionIndex, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1091,\n                          columnNumber: 41\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1085,\n                      columnNumber: 35\n                    }, this), isStatuteExpanded && !doc.section_details && doc.Sections && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border-t border-gray-100 p-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500 mb-2\",\n                        children: \"Basic Section Info:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1127,\n                        columnNumber: 37\n                      }, this), doc.Sections.map((section, sectionIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-700 mb-1\",\n                        children: [\"\\u2022 \", section.Section || `Section ${sectionIndex + 1}`]\n                      }, sectionIndex, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1129,\n                        columnNumber: 39\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1126,\n                      columnNumber: 35\n                    }, this)]\n                  }, docIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1064,\n                    columnNumber: 31\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 21\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Layers, {\n              className: \"h-12 w-12 mx-auto mb-4 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No batch collections found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Run section splitting first to create batches\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1042,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            className: \"h-12 w-12 mx-auto mb-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1152,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click \\\"Load Batch Preview\\\" to see batch collections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1151,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 11\n      }, this), activeTab === 'statistics' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Processing Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchStatistics,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n            children: \"Load Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 13\n        }, this), statistics ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-4 rounded-lg text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-blue-600\",\n              children: ((_statistics$statistic = statistics.statistics) === null || _statistics$statistic === void 0 ? void 0 : (_statistics$statistic2 = _statistics$statistic.source_collection) === null || _statistics$statistic2 === void 0 ? void 0 : _statistics$statistic2.count) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-600\",\n              children: \"Source Documents\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1177,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-blue-500\",\n              children: (_statistics$statistic3 = statistics.statistics) === null || _statistics$statistic3 === void 0 ? void 0 : (_statistics$statistic4 = _statistics$statistic3.source_collection) === null || _statistics$statistic4 === void 0 ? void 0 : _statistics$statistic4.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1178,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: (_statistics$statistic5 = statistics.statistics) !== null && _statistics$statistic5 !== void 0 && (_statistics$statistic6 = _statistics$statistic5.source_collection) !== null && _statistics$statistic6 !== void 0 && _statistics$statistic6.exists ? '✅ Exists' : '❌ Missing'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1179,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1173,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 p-4 rounded-lg text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-green-600\",\n              children: ((_statistics$statistic7 = statistics.statistics) === null || _statistics$statistic7 === void 0 ? void 0 : (_statistics$statistic8 = _statistics$statistic7.target_database) === null || _statistics$statistic8 === void 0 ? void 0 : (_statistics$statistic9 = _statistics$statistic8.batch_collections) === null || _statistics$statistic9 === void 0 ? void 0 : _statistics$statistic9.length) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-green-600\",\n              children: \"Batch Collections\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-green-500\",\n              children: (_statistics$statistic0 = statistics.statistics) === null || _statistics$statistic0 === void 0 ? void 0 : (_statistics$statistic1 = _statistics$statistic0.target_database) === null || _statistics$statistic1 === void 0 ? void 0 : _statistics$statistic1.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1189,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: (_statistics$statistic10 = statistics.statistics) !== null && _statistics$statistic10 !== void 0 && (_statistics$statistic11 = _statistics$statistic10.target_database) !== null && _statistics$statistic11 !== void 0 && _statistics$statistic11.exists ? '✅ Exists' : '❌ Missing'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 17\n          }, this), ((_statistics$statistic12 = statistics.statistics) === null || _statistics$statistic12 === void 0 ? void 0 : (_statistics$statistic13 = _statistics$statistic12.target_database) === null || _statistics$statistic13 === void 0 ? void 0 : _statistics$statistic13.batch_collections) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-2 bg-purple-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-purple-900 mb-2\",\n              children: \"Batch Collections\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\",\n              children: statistics.statistics.target_database.batch_collections.map((batch, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white p-2 rounded text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: batch\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1201,\n                  columnNumber: 27\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1200,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1172,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Settings, {\n            className: \"h-12 w-12 mx-auto mb-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1210,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No statistics available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchStatistics,\n            className: \"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n            children: \"Load Statistics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1209,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1160,\n        columnNumber: 11\n      }, this), activeTab === 'history' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Processing History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchHistory,\n            className: \"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\",\n            children: \"Refresh History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1227,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1225,\n          columnNumber: 13\n        }, this), history ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: history.history.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Operation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1242,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Database\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1245,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Collection\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1248,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1251,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Processed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1254,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1257,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1241,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1240,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-white divide-y divide-gray-200\",\n                children: history.history.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${item.operation_type === 'split' ? 'bg-blue-100 text-blue-800' : 'bg-green-100 text-green-800'}`,\n                      children: item.operation_type === 'split' ? 'Section Splitting' : 'Field Cleaning'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1266,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1265,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                    children: item.database\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1274,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                    children: item.collection\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1277,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                    children: new Date(item.created_at).toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1280,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                    children: [item.total_processed, \" items\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1283,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => window.open(`/api/v1/phase3/history/${item.filename}`, '_blank'),\n                      className: \"text-indigo-600 hover:text-indigo-900\",\n                      children: \"View Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1287,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1286,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1264,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1239,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"h-12 w-12 mx-auto mb-4 text-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1301,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No processing history found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1302,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Run section splitting or field cleaning to generate history\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1303,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1300,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1236,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(History, {\n            className: \"h-12 w-12 mx-auto mb-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1309,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click \\\"Refresh History\\\" to load processing history\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1310,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 text-xs text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Section splitting creates batch collections\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1312,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Field cleaning processes each batch individually\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1313,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 All operations are logged with timestamps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1314,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 Metadata files contain detailed statistics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1315,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1311,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1308,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1224,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 471,\n    columnNumber: 5\n  }, this);\n};\n_s(Phase3, \"Ztzuud9ZVMr0EK1Bb44za/JGjeU=\");\n_c = Phase3;\nexport default Phase3;\nvar _c;\n$RefreshReg$(_c, \"Phase3\");","map":{"version":3,"names":["React","useState","useEffect","Scissors","Database","FileText","Settings","History","Eye","RotateCcw","Split","Layers","Loader2","AlertCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","DEFAULT_CONFIG","source_database","source_collection","target_database","target_collection_prefix","batch_size","enable_ai_cleaning","Phase3","_s","_status$collection_st","_status$collection_st2","_status$collection_st3","_status$collection_st4","_validationResults$me","_validationResults$me2","_validationResults$me3","_validationResults$me4","_validationResults$me5","_statistics$statistic","_statistics$statistic2","_statistics$statistic3","_statistics$statistic4","_statistics$statistic5","_statistics$statistic6","_statistics$statistic7","_statistics$statistic8","_statistics$statistic9","_statistics$statistic0","_statistics$statistic1","_statistics$statistic10","_statistics$statistic11","_statistics$statistic12","_statistics$statistic13","activeTab","setActiveTab","config","setConfig","isProcessing","setIsProcessing","status","setStatus","statistics","setStatistics","batchPreview","setBatchPreview","progressStep","setProgressStep","progressDetails","setProgressDetails","processingStats","setProcessingStats","operationError","setOperationError","history","setHistory","availableBatches","setAvailableBatches","selectedBatches","setSelectedBatches","cleanAllBatches","setCleanAllBatches","dryRun","setDryRun","validationResults","setValidationResults","expandedStatutes","setExpandedStatutes","expandedSections","setExpandedSections","savedConfig","localStorage","getItem","JSON","parse","error","console","setItem","stringify","updateConfig","updates","prev","resetConfig","fetchStatus","response","fetch","ok","data","json","fetchStatistics","method","headers","body","fetchBatchPreview","fetchHistory","fetchAvailableBatches","generateMetadata","result","alert","metadata_file","detail","startSectionSplitting","batches_created","batchCount","processed","total","operation","setTimeout","Error","errorMessage","message","startFieldCleaning","batches","batches_scheduled","length","startBatchCleaning","serviceRequest","metadata","processing_type","batch_numbers","clean_all","startPakistanLawValidation","payload","url","err","previewValidationMetadata","estimated_documents","batches_to_process","toggleBatchSelection","batchNumber","includes","filter","n","toggleStatuteExpansion","statuteKey","toggleSectionExpansion","sectionKey","rollbackPhase3","window","confirm","tabs","id","name","icon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","value","onChange","e","target","parseInt","min","max","checked","map","tab","Icon","disabled","toLocaleString","style","width","collection_status","source_exists","source_count","target_database_exists","batch_count","batch","batch_number","is_cleaned","batch_name","document_count","total_scanned","total_dropped","total_kept","processed_batches","validation_results","drop_rate","toFixed","keep_rate","drop_reason_analysis","top_drop_reasons","reason","count","join","dropped_docs","doc","idx","kept_docs","dry_run","b","index","_batch$sample_documen","sample_documents","docIndex","_doc$Sections","isStatuteExpanded","Statute_Name","Sections","Province","section_details","section","sectionIndex","isSectionExpanded","section_title","content_preview","content","Section","exists","batch_collections","item","operation_type","database","collection","Date","created_at","toLocaleDateString","total_processed","open","filename","_c","$RefreshReg$"],"sources":["D:/DigiFloat/LawChronicle/frontend/src/pages/Phase3.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Scissors, Database, FileText, Settings, History, Eye, Play, RotateCcw, Split, Layers, Loader2, AlertCircle } from 'lucide-react';\r\n\r\n// Configuration interface - updated to match CLI flow\r\ninterface Phase3Config {\r\n  source_database: string;\r\n  source_collection: string;\r\n  target_database: string;\r\n  target_collection_prefix: string;\r\n  batch_size: number;\r\n  enable_ai_cleaning: boolean;\r\n}\r\n\r\n// Default configuration - matches CLI scripts\r\nconst DEFAULT_CONFIG: Phase3Config = {\r\n  source_database: \"Statutes\",\r\n  source_collection: \"normalized_statutes\",\r\n  target_database: \"Batched-Statutes\",\r\n  target_collection_prefix: \"batch_\",\r\n  batch_size: 10,\r\n  enable_ai_cleaning: false\r\n};\r\n\r\nconst Phase3: React.FC = () => {\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [config, setConfig] = useState<Phase3Config>(DEFAULT_CONFIG);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [status, setStatus] = useState<any>(null);\r\n  const [statistics, setStatistics] = useState<any>(null);\r\n  const [batchPreview, setBatchPreview] = useState<any>(null);\r\n  const [progressStep, setProgressStep] = useState<string>('');\r\n  const [progressDetails, setProgressDetails] = useState<string>('');\r\n  const [processingStats, setProcessingStats] = useState<{processed: number, total: number, operation: string} | null>(null);\r\n  const [operationError, setOperationError] = useState<string | null>(null);\r\n  const [history, setHistory] = useState<any>(null);\r\n  const [availableBatches, setAvailableBatches] = useState<any>(null);\r\n  const [selectedBatches, setSelectedBatches] = useState<number[]>([]);\r\n  const [cleanAllBatches, setCleanAllBatches] = useState(true);\r\n  const [dryRun, setDryRun] = useState(true);\r\n  const [validationResults, setValidationResults] = useState<any>(null);\r\n  const [expandedStatutes, setExpandedStatutes] = useState<{[key: string]: boolean}>({});\r\n  const [expandedSections, setExpandedSections] = useState<{[key: string]: boolean}>({});\r\n\r\n  // Load config from localStorage on mount\r\n  useEffect(() => {\r\n    const savedConfig = localStorage.getItem('phase3_config');\r\n    if (savedConfig) {\r\n      try {\r\n        setConfig(JSON.parse(savedConfig));\r\n      } catch (error) {\r\n        console.error('Error loading Phase 3 config:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save config to localStorage when it changes\r\n  useEffect(() => {\r\n    localStorage.setItem('phase3_config', JSON.stringify(config));\r\n  }, [config]);\r\n\r\n  // Update configuration\r\n  const updateConfig = (updates: Partial<Phase3Config>) => {\r\n    setConfig(prev => ({ ...prev, ...updates }));\r\n  };\r\n\r\n  // Reset configuration to defaults\r\n  const resetConfig = () => {\r\n    setConfig(DEFAULT_CONFIG);\r\n  };\r\n\r\n  // Fetch Phase 3 status\r\n  const fetchStatus = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/status');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStatus(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching Phase 3 status:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch statistics\r\n  const fetchStatistics = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/statistics', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStatistics(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching Phase 3 statistics:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch batch preview\r\n  const fetchBatchPreview = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/preview-batches', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBatchPreview(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching batch preview:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch history\r\n  const fetchHistory = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/history');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setHistory(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching history:', error);\r\n    }\r\n  };\r\n\r\n  // Fetch available batches for cleaning\r\n  const fetchAvailableBatches = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/available-batches', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setAvailableBatches(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching available batches:', error);\r\n    }\r\n  };\r\n\r\n  // Generate metadata\r\n  const generateMetadata = async () => {\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/generate-metadata', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert(`Metadata generated successfully! File: ${result.metadata_file}`);\r\n        fetchHistory();\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error generating metadata: ${error.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error generating metadata:', error);\r\n      alert('Failed to generate metadata');\r\n    }\r\n  };\r\n\r\n  // Start section splitting using modern service endpoint\r\n  const startSectionSplitting = async () => {\r\n    setIsProcessing(true);\r\n    setOperationError(null);\r\n    setProgressStep('Initializing section splitting process...');\r\n    setProgressDetails('Preparing to analyze and split statute sections');\r\n    setProcessingStats(null);\r\n    \r\n    try {\r\n      // Step 1: Prepare request\r\n      setProgressStep('Preparing section splitting request');\r\n      setProgressDetails(`Source: ${config.source_database}.${config.source_collection} → Target: ${config.target_database}.${config.target_collection_prefix}*`);\r\n      \r\n      // Step 2: Send to the correct endpoint\r\n      setProgressStep('Connecting to section splitting service');\r\n      setProgressDetails('Analyzing statute structure and splitting into batches...');\r\n\r\n      const response = await fetch('/api/v1/phase3/start-section-splitting', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      // Step 3: Process results\r\n      setProgressStep('Processing section splitting results');\r\n      setProgressDetails('Analyzing split sections and organizing data...');\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setProgressStep('Section splitting completed successfully!');\r\n        setProgressDetails(`Successfully created ${result.batches_created || 0} batch collections`);\r\n        \r\n        // Show success notification with details\r\n        const batchCount = result.batches_created || 0;\r\n        setProcessingStats({\r\n          processed: batchCount,\r\n          total: batchCount,\r\n          operation: 'Section Splitting'\r\n        });\r\n        \r\n        fetchStatus();\r\n        \r\n        // Clear progress after delay\r\n        setTimeout(() => {\r\n          setProgressStep('');\r\n          setProgressDetails('');\r\n          setProcessingStats(null);\r\n        }, 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        throw new Error(error.detail || 'Section splitting failed');\r\n      }\r\n    } catch (error) {\r\n      setProgressStep('Error during section splitting');\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to start section splitting';\r\n      setProgressDetails(errorMessage);\r\n      setOperationError(errorMessage);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Start field cleaning using modern service endpoint\r\n  const startFieldCleaning = async () => {\r\n    setIsProcessing(true);\r\n    setOperationError(null);\r\n    setProgressStep('Initializing field cleaning process...');\r\n    setProgressDetails('Preparing to clean and validate field data');\r\n    setProcessingStats(null);\r\n    \r\n    try {\r\n      // Step 1: Prepare cleaning request (send the Phase3 config)\r\n      setProgressStep('Preparing field cleaning request');\r\n      setProgressDetails(`Scheduling cleaning for collections with prefix: ${config.target_collection_prefix}`);\r\n\r\n      // Step 2: Schedule cleaning on the backend (background task)\r\n      setProgressStep('Scheduling field cleaning on server');\r\n      setProgressDetails('Requesting server to start field cleaning in background...');\r\n\r\n      const response = await fetch('/api/v1/phase3/start-field-cleaning', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      // Step 3: Process cleaning results\r\n      setProgressStep('Processing field cleaning results');\r\n      setProgressDetails('Validating cleaned data and updating collections...');\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        const batches = result.batches_scheduled || [];\r\n\r\n        setProgressStep('Field cleaning scheduled');\r\n        setProgressDetails(`Cleaning scheduled for ${batches.length} batches. Server is processing in background.`);\r\n\r\n        setProcessingStats({\r\n          processed: batches.length,\r\n          total: batches.length || 1,\r\n          operation: 'Field Cleaning'\r\n        });\r\n\r\n        fetchStatus();\r\n\r\n        // Clear progress after short delay but keep status visible\r\n        setTimeout(() => {\r\n          setProgressStep('');\r\n          setProgressDetails('');\r\n        }, 3000);\r\n      } else {\r\n        const error = await response.json();\r\n        throw new Error(error.detail || 'Field cleaning scheduling failed');\r\n      }\r\n    } catch (error) {\r\n      setProgressStep('Error during field cleaning');\r\n      const errorMessage = error instanceof Error ? error.message : 'Failed to start field cleaning';\r\n      setProgressDetails(errorMessage);\r\n      setOperationError(errorMessage);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Start batch cleaning (using service architecture)\r\n  const startBatchCleaning = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      const serviceRequest = {\r\n        metadata: {\r\n          processing_type: \"batch_cleaning\",\r\n          target_database: config.target_database,\r\n          target_collection_prefix: config.target_collection_prefix,\r\n          batch_numbers: cleanAllBatches ? null : selectedBatches,\r\n          clean_all: cleanAllBatches\r\n        }\r\n      };\r\n\r\n      const response = await fetch('/api/v1/phase3/process-statute', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(serviceRequest)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert(`Batch cleaning started successfully!`);\r\n        fetchStatus();\r\n        fetchHistory(); // Refresh history to show new metadata\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error starting batch cleaning: ${error.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting batch cleaning:', error);\r\n      alert('Failed to start batch cleaning');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n  // Start Pakistan Law Validation\r\n  const startPakistanLawValidation = async () => {\r\n    setIsProcessing(true);\r\n    setValidationResults(null);\r\n    try {\r\n      const payload = {\r\n        target_database: config.target_database,\r\n        target_collection_prefix: config.target_collection_prefix,\r\n        batch_numbers: cleanAllBatches ? null : selectedBatches,\r\n        clean_all: cleanAllBatches\r\n      };\r\n      const url = `/api/v1/phase3/validate-pakistan-batches?dry_run=${dryRun}`;\r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setValidationResults(result);\r\n        fetchStatus();\r\n        fetchHistory();\r\n      } else {\r\n        const err = await response.json();\r\n        alert(`Error during validation: ${err.message || err.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error validating Pakistan law batches:', error);\r\n      alert('Pakistan law validation failed');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Preview validation metadata\r\n  const previewValidationMetadata = async () => {\r\n    setIsProcessing(true);\r\n    try {\r\n      const payload = {\r\n        target_database: config.target_database,\r\n        target_collection_prefix: config.target_collection_prefix,\r\n        batch_numbers: cleanAllBatches ? null : selectedBatches,\r\n        clean_all: cleanAllBatches\r\n      };\r\n      const response = await fetch('/api/v1/phase3/preview-validation-metadata', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert(`Metadata Preview:\\n\\nEstimated Documents: ${result.estimated_documents}\\nBatches: ${result.batches_to_process.length}\\n\\nMetadata structure generated successfully!`);\r\n      } else {\r\n        const err = await response.json();\r\n        alert(`Error previewing metadata: ${err.message || err.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error previewing validation metadata:', error);\r\n      alert('Metadata preview failed');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Handle batch selection\r\n  const toggleBatchSelection = (batchNumber: number) => {\r\n    setSelectedBatches(prev => \r\n      prev.includes(batchNumber) \r\n        ? prev.filter(n => n !== batchNumber)\r\n        : [...prev, batchNumber]\r\n    );\r\n  };\r\n\r\n  // Toggle statute expansion\r\n  const toggleStatuteExpansion = (statuteKey: string) => {\r\n    setExpandedStatutes(prev => ({\r\n      ...prev,\r\n      [statuteKey]: !prev[statuteKey]\r\n    }));\r\n  };\r\n\r\n  // Toggle section expansion\r\n  const toggleSectionExpansion = (sectionKey: string) => {\r\n    setExpandedSections(prev => ({\r\n      ...prev,\r\n      [sectionKey]: !prev[sectionKey]\r\n    }));\r\n  };\r\n\r\n  // Rollback Phase 3\r\n  const rollbackPhase3 = async () => {\r\n    if (!window.confirm('Are you sure you want to rollback Phase 3? This will delete all created batch collections and databases.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('/api/v1/phase3/rollback', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(config)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        alert('Phase 3 rollback completed successfully!');\r\n        fetchStatus();\r\n        fetchStatistics();\r\n      } else {\r\n        const error = await response.json();\r\n        alert(`Error rolling back Phase 3: ${error.detail}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error rolling back Phase 3:', error);\r\n      alert('Failed to rollback Phase 3');\r\n    }\r\n  };\r\n\r\n  // Load data on mount\r\n  useEffect(() => {\r\n    fetchStatus();\r\n    fetchStatistics();\r\n  }, []);\r\n  // Auto-load batches when Pakistan Law Validation tab is active\r\n  useEffect(() => {\r\n    if (activeTab === 'pakistan-law-validation') {\r\n      fetchAvailableBatches();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  const tabs = [\r\n    { id: 'overview', name: 'Overview', icon: Database },\r\n    { id: 'section-splitting', name: 'Section Splitting', icon: Split },\r\n    { id: 'field-cleaning', name: 'Field Cleaning', icon: Scissors },\r\n    { id: 'pakistan-law-validation', name: 'Pakistan Law Validation', icon: FileText },\r\n    { id: 'preview', name: 'Batch Preview', icon: Eye },\r\n    { id: 'statistics', name: 'Statistics', icon: Settings },\r\n    { id: 'history', name: 'History', icon: History }\r\n  ];\r\n  // Start Pakistan Law Validation (mirrors batch cleaning, but uses different processing_type)\r\n\r\n  return (\r\n    <div className=\"space-y-0\">\r\n      {/* Header */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-2\">\r\n        <h1 className=\"text-xl font-bold text-gray-900 mb-1\">\r\n          Phase 3: Field Cleaning & Splitting\r\n        </h1>\r\n        <p className=\"text-gray-600 text-sm\">\r\n          Split normalized statutes into batches, then clean each batch using CLI logic\r\n        </p>\r\n      </div>\r\n\r\n      {/* Current Configuration */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-2 mt-2\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900\">Current Configuration</h2>\r\n          <button\r\n            onClick={resetConfig}\r\n            className=\"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n          >\r\n            <RotateCcw className=\"h-4 w-4 mr-1\" />\r\n            Reset to Defaults\r\n          </button>\r\n        </div>\r\n  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Source DB:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.source_database}\r\n              onChange={(e) => updateConfig({ source_database: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Source Collection:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.source_collection}\r\n              onChange={(e) => updateConfig({ source_collection: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Target DB:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.target_database}\r\n              onChange={(e) => updateConfig({ target_database: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Batch Prefix:</span>\r\n            <input\r\n              type=\"text\"\r\n              value={config.target_collection_prefix}\r\n              onChange={(e) => updateConfig({ target_collection_prefix: e.target.value })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-full\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-medium text-gray-700\">Number of Batches:</span>\r\n            <input\r\n              type=\"number\"\r\n              value={config.batch_size}\r\n              onChange={(e) => updateConfig({ batch_size: parseInt(e.target.value) || 10 })}\r\n              className=\"ml-2 px-2 py-1 border border-gray-300 rounded text-xs w-16\"\r\n              min=\"1\"\r\n              max=\"50\"\r\n            />\r\n          </div>\r\n          <div className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={config.enable_ai_cleaning}\r\n              onChange={(e) => updateConfig({ enable_ai_cleaning: e.target.checked })}\r\n              className=\"mr-2\"\r\n            />\r\n            <div>\r\n              <span className=\"font-medium text-gray-700\">AI-enhanced Cleaning</span>\r\n              <p className=\"text-xs text-gray-500\">\r\n                Use GPT-based enhancements for field cleaning when enabled.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 mt-2\">\r\n        <nav className=\"flex space-x-8 px-4\" aria-label=\"Tabs\">\r\n          {tabs.map((tab) => {\r\n            const Icon = tab.icon;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => setActiveTab(tab.id)}\r\n                className={`py-3 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${\r\n                  activeTab === tab.id\r\n                    ? 'border-purple-500 text-purple-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <Icon className=\"h-4 w-4\" />\r\n                <span>{tab.name}</span>\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mt-2\">\r\n        {activeTab === 'overview' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                <h3 className=\"text-lg font-semibold text-blue-900 mb-2 flex items-center\">\r\n                  <Split className=\"h-5 w-5 mr-2\" />\r\n                  Section Splitting\r\n                </h3>\r\n                <p className=\"text-blue-700 text-sm mb-3\">\r\n                  Split normalized statutes from {config.source_database}.{config.source_collection} into {config.batch_size} equal batches in {config.target_database}.\r\n                </p>\r\n                <button\r\n                  onClick={startSectionSplitting}\r\n                  disabled={isProcessing}\r\n                  className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isProcessing ? (\r\n                    <>\r\n                      <Loader2 className=\"w-4 h-4 mr-2 inline animate-spin\" />\r\n                      {progressStep || 'Processing...'}\r\n                    </>\r\n                  ) : (\r\n                    'Start Section Splitting'\r\n                  )}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"bg-green-50 p-4 rounded-lg\">\r\n                <h3 className=\"text-lg font-semibold text-green-900 mb-2 flex items-center\">\r\n                  <Scissors className=\"h-5 w-5 mr-2\" />\r\n                  Field Cleaning\r\n                </h3>\r\n                <p className=\"text-green-700 text-sm mb-3\">\r\n                  Clean each batch using CLI logic: drop unnecessary fields, bring common fields up, handle single sections, remove duplicates, and sort sections.\r\n                </p>\r\n                <button\r\n                  onClick={startFieldCleaning}\r\n                  disabled={isProcessing}\r\n                  className=\"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isProcessing ? (\r\n                    <>\r\n                      <Loader2 className=\"w-4 h-4 mr-2 inline animate-spin\" />\r\n                      {progressStep || 'Processing...'}\r\n                    </>\r\n                  ) : (\r\n                    'Start Field Cleaning'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Enhanced Processing Progress Display */}\r\n            {isProcessing && (\r\n              <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg p-6 mb-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Processing Status</h3>\r\n                  <div className=\"flex items-center\">\r\n                    <Loader2 className=\"w-5 h-5 text-blue-600 animate-spin mr-2\" />\r\n                    <span className=\"text-sm font-medium text-blue-700\">In Progress</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                {progressStep && (\r\n                  <div className=\"mb-3\">\r\n                    <div className=\"text-base font-medium text-gray-800 mb-1\">\r\n                      {progressStep}\r\n                    </div>\r\n                    {progressDetails && (\r\n                      <div className=\"text-sm text-gray-600\">\r\n                        {progressDetails}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                \r\n                {processingStats && (\r\n                  <div className=\"bg-white rounded-lg p-4 border border-gray-200\">\r\n                    <div className=\"flex justify-between items-center mb-2\">\r\n                      <span className=\"text-sm font-medium text-gray-700\">{processingStats.operation}</span>\r\n                      <span className=\"text-sm text-gray-600\">\r\n                        {processingStats.processed.toLocaleString()} processed\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                      <div \r\n                        className=\"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500 ease-out\" \r\n                        style={{ width: `${(processingStats.processed / processingStats.total) * 100}%` }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Enhanced Error Display */}\r\n            {operationError && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\r\n                <div className=\"flex items-start\">\r\n                  <AlertCircle className=\"w-5 h-5 text-red-600 mr-3 mt-0.5\" />\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-base font-medium text-red-900 mb-2\">Operation Failed</h3>\r\n                    <div className=\"text-sm text-red-800 mb-3\">{operationError}</div>\r\n                    <div className=\"text-xs text-red-600\">\r\n                      <strong>Troubleshooting Steps:</strong>\r\n                      <ul className=\"mt-2 ml-4 list-disc space-y-1\">\r\n                        <li>Verify database connection is active</li>\r\n                        <li>Check that source collections contain data</li>\r\n                        <li>Ensure sufficient permissions for target database</li>\r\n                        <li>Review configuration settings for accuracy</li>\r\n                        <li>Try refreshing the page and attempting the operation again</li>\r\n                      </ul>\r\n                    </div>\r\n                    <button\r\n                      onClick={() => setOperationError(null)}\r\n                      className=\"mt-3 text-sm text-red-600 hover:text-red-800 underline\"\r\n                    >\r\n                      Dismiss error\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Status Overview */}\r\n            {status && (\r\n              <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Current Status</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl font-bold text-blue-600\">\r\n                      {status.collection_status?.source_exists ? '✅' : '❌'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">Source Collection</div>\r\n                    <div className=\"text-xs text-gray-500\">{config.source_database}.{config.source_collection}</div>\r\n                    {status.collection_status?.source_count > 0 && (\r\n                      <div className=\"text-xs text-gray-500\">{status.collection_status.source_count} documents</div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl font-bold text-green-600\">\r\n                      {status.collection_status?.target_database_exists ? '✅' : '❌'}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">Target Database</div>\r\n                    <div className=\"text-xs text-gray-500\">{config.target_database}</div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl font-bold text-purple-600\">\r\n                      {status.collection_status?.batch_count || 0}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">Batch Collections</div>\r\n                    <div className=\"text-xs text-gray-500\">{config.target_collection_prefix}1, {config.target_collection_prefix}2, ...</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Rollback Section */}\r\n            <div className=\"bg-red-50 p-4 rounded-lg\">\r\n              <h3 className=\"text-lg font-semibold text-red-900 mb-2\">Rollback</h3>\r\n              <p className=\"text-red-700 text-sm mb-3\">\r\n                Rollback Phase 3 changes and restore previous state if needed.\r\n              </p>\r\n              <button\r\n                onClick={rollbackPhase3}\r\n                className=\"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\"\r\n              >\r\n                Rollback Phase 3\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'section-splitting' && (\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">Section Splitting Configuration</h3>\r\n            <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-medium text-blue-900 mb-2\">Section Splitting Process</h4>\r\n              <ul className=\"text-blue-700 text-sm space-y-1\">\r\n                <li>• Read all documents from {config.source_database}.{config.source_collection}</li>\r\n                <li>• Split into exactly {config.batch_size} batches with documents distributed evenly</li>\r\n                <li>• Create collections: {config.target_collection_prefix}1, {config.target_collection_prefix}2, ...</li>\r\n                <li>• Distribute statutes across batches as evenly as possible</li>\r\n                <li>• Maintain section structure and metadata</li>\r\n              </ul>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={startSectionSplitting}\r\n                disabled={isProcessing}\r\n                className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {isProcessing ? 'Processing...' : 'Start Section Splitting'}\r\n              </button>\r\n              <button\r\n                onClick={generateMetadata}\r\n                className=\"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700\"\r\n              >\r\n                Generate Metadata\r\n              </button>\r\n              <button\r\n                onClick={fetchStatus}\r\n                className=\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\"\r\n              >\r\n                Refresh Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'field-cleaning' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Field Cleaning Configuration</h3>\r\n              <button\r\n                onClick={fetchAvailableBatches}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Load Available Batches\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"bg-green-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-medium text-green-900 mb-2\">Field Cleaning Process (per batch)</h4>\r\n              <ul className=\"text-green-700 text-sm space-y-1\">\r\n                <li>• <strong>Drop unnecessary fields:</strong> Keep only essential fields for processing</li>\r\n                <li>• <strong>Bring common fields up:</strong> Move fields common across all sections to statute level</li>\r\n                <li>• <strong>Clean single-section statutes:</strong> Handle single-section statutes specially</li>\r\n                <li>• <strong>Remove preamble duplicates:</strong> Remove duplicate preamble sections</li>\r\n                <li>• <strong>Sort sections:</strong> Preamble first, then numeric, then text</li>\r\n                <li>• <strong>Validate Pakistan law:</strong> Drop non-Pakistan laws using CLI logic</li>\r\n              </ul>\r\n            </div>\r\n\r\n            {/* Cleaning Options */}\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <h4 className=\"font-medium text-gray-900 mb-3\">Cleaning Options</h4>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"cleaningMode\"\r\n                    checked={cleanAllBatches}\r\n                    onChange={() => setCleanAllBatches(true)}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span className=\"font-medium\">Clean All Batches</span>\r\n                </label>\r\n                \r\n                <label className=\"flex items-center\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"cleaningMode\"\r\n                    checked={!cleanAllBatches}\r\n                    onChange={() => setCleanAllBatches(false)}\r\n                    className=\"mr-2\"\r\n                  />\r\n                  <span className=\"font-medium\">Clean Selected Batches</span>\r\n                </label>\r\n              </div>\r\n\r\n              {/* Batch Selection */}\r\n              {!cleanAllBatches && availableBatches && (\r\n                <div className=\"mt-4\">\r\n                  <h5 className=\"font-medium text-gray-700 mb-2\">Select Batches to Clean:</h5>\r\n                  <div className=\"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto\">\r\n                    {availableBatches.batches.map((batch: any) => (\r\n                      <label key={batch.batch_number} className=\"flex items-center space-x-2 text-sm\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedBatches.includes(batch.batch_number)}\r\n                          onChange={() => toggleBatchSelection(batch.batch_number)}\r\n                          className=\"rounded\"\r\n                        />\r\n                        <span className={batch.is_cleaned ? \"text-green-600\" : \"text-gray-700\"}>\r\n                          {batch.batch_name} ({batch.document_count} docs)\r\n                          {batch.is_cleaned && <span className=\"text-xs\"> ✓</span>}\r\n                        </span>\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 mt-2\">\r\n                    Selected: {selectedBatches.length} batches. Green items are already cleaned.\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-4\">\r\n              <button\r\n                onClick={startBatchCleaning}\r\n                disabled={isProcessing || (!cleanAllBatches && selectedBatches.length === 0)}\r\n                className=\"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {isProcessing ? 'Processing...' : \r\n                  cleanAllBatches ? 'Clean All Batches' : `Clean ${selectedBatches.length} Selected Batches`}\r\n              </button>\r\n              <button\r\n                onClick={generateMetadata}\r\n                className=\"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700\"\r\n              >\r\n                Generate Metadata\r\n              </button>\r\n              <button\r\n                onClick={fetchStatus}\r\n                className=\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\"\r\n              >\r\n                Refresh Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Pakistan Law Validation Tab */}\r\n        {activeTab === 'pakistan-law-validation' && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"flex items-center\">\r\n              <label className=\"flex items-center mr-4\">\r\n                <input type=\"checkbox\" checked={dryRun} onChange={e => setDryRun(e.target.checked)} className=\"mr-2\" />\r\n                <span className=\"font-medium\">Dry Run (Preview Only)</span>\r\n              </label>\r\n              <span className=\"text-xs text-gray-500\">Preview which statutes will be dropped before actual deletion.</span>\r\n            </div>\r\n            <div className=\"flex items-center\">\r\n              <label className=\"flex items-center mr-4\">\r\n                <input type=\"checkbox\" checked={true} className=\"mr-2\" />\r\n                <span className=\"font-medium text-sm\">Generate Metadata</span>\r\n              </label>\r\n              <span className=\"text-xs text-gray-500\">Save validation statistics and analysis.</span>\r\n            </div>\r\n          </div>\r\n          {validationResults && (\r\n            <div className=\"bg-gray-50 p-4 rounded-lg mt-4\">\r\n              <div className=\"flex justify-between items-center mb-2\">\r\n                <h4 className=\"font-medium text-gray-900\">Validation Results</h4>\r\n                {validationResults.metadata_file && (\r\n                  <span className=\"text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded\">\r\n                    📁 Metadata: {validationResults.metadata_file}\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-2 text-sm\">\r\n                <strong>Scanned:</strong> {validationResults.total_scanned} &nbsp;\r\n                <strong>Dropped:</strong> {validationResults.total_dropped} &nbsp;\r\n                <strong>Kept:</strong> {validationResults.total_kept} &nbsp;\r\n                <strong>Batches:</strong> {validationResults.processed_batches}\r\n              </div>\r\n              {validationResults.metadata && (\r\n                <div className=\"mb-2 text-xs bg-white p-2 rounded border\">\r\n                  <strong>Drop Analysis:</strong>\r\n                  <div className=\"grid grid-cols-2 gap-2 mt-1\">\r\n                    <div>Drop Rate: {validationResults.metadata.validation_results?.drop_rate?.toFixed(1)}%</div>\r\n                    <div>Keep Rate: {validationResults.metadata.validation_results?.keep_rate?.toFixed(1)}%</div>\r\n                  </div>\r\n                  {validationResults.metadata.drop_reason_analysis?.top_drop_reasons && (\r\n                    <div className=\"mt-1\">\r\n                      <strong>Top Reasons:</strong> {validationResults.metadata.drop_reason_analysis.top_drop_reasons.map(([reason, count]: [string, number]) => `${reason} (${count})`).join(', ')}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n              {validationResults.dropped_docs.length > 0 && (\r\n                <div className=\"mb-2\">\r\n                  <strong>Dropped Statutes:</strong>\r\n                  <ul className=\"list-disc ml-6 text-xs\">\r\n                    {validationResults.dropped_docs.map((doc: any, idx: number) => (\r\n                      <li key={doc.name + idx}>\r\n                        {doc.name}\r\n                        <span className=\"text-red-600\"> ({doc.reason})</span>\r\n                        <span className=\"text-gray-500\"> [{doc.batch}]</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {validationResults.kept_docs.length > 0 && (\r\n                <div className=\"mb-2\">\r\n                  <strong>Kept Statutes:</strong>\r\n                  <ul className=\"list-disc ml-6 text-xs\">\r\n                    {validationResults.kept_docs.map((doc: any, idx: number) => (\r\n                      <li key={doc.name + idx}>\r\n                        {doc.name}\r\n                        <span className=\"text-green-600\"> [Kept]</span>\r\n                        <span className=\"text-gray-500\"> [{doc.batch}]</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              <div className=\"text-xs text-gray-500\">{validationResults.dry_run ? \"No changes made (preview only)\" : \"Non-Pakistan statutes have been dropped.\"}</div>\r\n            </div>\r\n          )}\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Pakistan Law Validation Configuration</h3>\r\n              <button\r\n                onClick={fetchAvailableBatches}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >Load Available Batches</button>\r\n            </div>\r\n            <div className=\"bg-yellow-50 p-4 rounded-lg\">\r\n              <ul className=\"text-yellow-700 text-sm space-y-1\">\r\n                <li>• Drop non-Pakistan laws using CLI logic</li>\r\n                <li>• Validate all or selected batches</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\r\n              <div className=\"space-y-3\">\r\n                <label className=\"flex items-center\"><input type=\"radio\" checked={cleanAllBatches} onChange={() => setCleanAllBatches(true)} className=\"mr-2\"/>Validate All</label>\r\n                <label className=\"flex items-center\"><input type=\"radio\" checked={!cleanAllBatches} onChange={() => setCleanAllBatches(false)} className=\"mr-2\"/>Validate Selected</label>\r\n              </div>\r\n              {/* Show guidance when batches not loaded */}\r\n              {availableBatches === null && (\r\n                <div className=\"text-center py-4 text-gray-500\">\r\n                  Click \"Load Available Batches\" to load batches for validation\r\n                </div>\r\n              )}\r\n              {/* Batch Selection */}\r\n              {/* Batch Selection */}\r\n              {!cleanAllBatches && availableBatches && availableBatches.batches.length > 0 && (\r\n                <div className=\"mt-4 grid grid-cols-3 gap-2 max-h-48 overflow-y-auto\">\r\n                  {availableBatches.batches.map((b: any) => (\r\n                    <label key={b.batch_number} className=\"flex items-center space-x-2 text-sm\">\r\n                      <input type=\"checkbox\" checked={selectedBatches.includes(b.batch_number)} onChange={() => toggleBatchSelection(b.batch_number)} className=\"rounded\"/>\r\n                      <span className={b.is_cleaned ? 'text-green-600' : 'text-gray-700'}>{b.batch_name} ({b.document_count})</span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            {/* No batches fallback */}\r\n            {availableBatches && availableBatches.batches.length === 0 && (\r\n              <div className=\"text-center py-4 text-gray-500\">\r\n                No batch collections found. Run section splitting first to create batches.\r\n              </div>\r\n            )}\r\n            <div className=\"flex space-x-4\">\r\n              <button onClick={startPakistanLawValidation} disabled={isProcessing || (!cleanAllBatches && selectedBatches.length===0)} className=\"bg-yellow-600 text-white px-6 py-2 rounded-md hover:bg-yellow-700 disabled:opacity-50\">{isProcessing?'Processing...':(cleanAllBatches?'Validate All':'Validate Selected')}</button>\r\n              <button onClick={previewValidationMetadata} disabled={isProcessing || (!cleanAllBatches && selectedBatches.length===0)} className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50\">Preview Metadata</button>\r\n              <button onClick={fetchStatus} className=\"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700\">Refresh Status</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'preview' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Batch Preview</h3>\r\n              <button\r\n                onClick={fetchBatchPreview}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Load Batch Preview\r\n              </button>\r\n            </div>\r\n            \r\n            {batchPreview ? (\r\n              <div className=\"space-y-4\">\r\n                {batchPreview.batches.length > 0 ? (\r\n                  batchPreview.batches.map((batch: any, index: number) => (\r\n                    <div key={index} className=\"bg-gray-50 p-4 rounded-lg\">\r\n                      <h4 className=\"font-medium text-gray-900 mb-2\">{batch.batch_name}</h4>\r\n                      <div className=\"grid grid-cols-2 gap-4 text-sm mb-3\">\r\n                        <div>\r\n                          <span className=\"font-medium\">Documents:</span> {batch.document_count}\r\n                        </div>\r\n                        <div>\r\n                          <span className=\"font-medium\">Sample Documents:</span> {batch.sample_documents?.length || 0}\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      {batch.sample_documents && batch.sample_documents.length > 0 && (\r\n                        <div className=\"space-y-2\">\r\n                          <div className=\"text-xs text-gray-500 mb-2\">Sample Documents (click to expand):</div>\r\n                          {batch.sample_documents.map((doc: any, docIndex: number) => {\r\n                            const statuteKey = `${batch.batch_name}-${docIndex}`;\r\n                            const isStatuteExpanded = expandedStatutes[statuteKey];\r\n                            \r\n                            return (\r\n                              <div key={docIndex} className=\"bg-white border rounded-lg\">\r\n                                {/* Statute Header */}\r\n                                <div \r\n                                  className=\"p-3 cursor-pointer hover:bg-gray-50 flex items-center justify-between\"\r\n                                  onClick={() => toggleStatuteExpansion(statuteKey)}\r\n                                >\r\n                                  <div className=\"flex-1\">\r\n                                    <div className=\"font-medium text-sm text-gray-900\">\r\n                                      {doc.Statute_Name || 'N/A'}\r\n                                    </div>\r\n                                    <div className=\"text-xs text-gray-500\">\r\n                                      {doc.Sections?.length || 0} sections • Province: {doc.Province || 'N/A'}\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"text-gray-400\">\r\n                                    {isStatuteExpanded ? '▼' : '▶'}\r\n                                  </div>\r\n                                </div>\r\n                                \r\n                                {/* Expanded Sections */}\r\n                                {isStatuteExpanded && doc.section_details && (\r\n                                  <div className=\"border-t border-gray-100\">\r\n                                    {doc.section_details.map((section: any, sectionIndex: number) => {\r\n                                      const sectionKey = `${statuteKey}-section-${sectionIndex}`;\r\n                                      const isSectionExpanded = expandedSections[sectionKey];\r\n                                      \r\n                                      return (\r\n                                        <div key={sectionIndex} className=\"border-b border-gray-50 last:border-b-0\">\r\n                                          {/* Section Header */}\r\n                                          <div \r\n                                            className=\"p-3 pl-6 cursor-pointer hover:bg-gray-25 flex items-center justify-between\"\r\n                                            onClick={() => toggleSectionExpansion(sectionKey)}\r\n                                          >\r\n                                            <div className=\"flex-1\">\r\n                                              <div className=\"font-medium text-sm text-blue-900\">\r\n                                                {section.section_title}\r\n                                              </div>\r\n                                              <div className=\"text-xs text-gray-500 mt-1\">\r\n                                                {section.content_preview}\r\n                                              </div>\r\n                                            </div>\r\n                                            <div className=\"text-gray-400 text-sm\">\r\n                                              {isSectionExpanded ? '▼' : '▶'}\r\n                                            </div>\r\n                                          </div>\r\n                                          \r\n                                          {/* Full Section Content */}\r\n                                          {isSectionExpanded && (\r\n                                            <div className=\"p-3 pl-8 bg-gray-50 border-t border-gray-100\">\r\n                                              <div className=\"text-sm text-gray-800 whitespace-pre-wrap\">\r\n                                                {section.content || 'No content available'}\r\n                                              </div>\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                      );\r\n                                    })}\r\n                                  </div>\r\n                                )}\r\n                                \r\n                                {/* Fallback for documents without section_details */}\r\n                                {isStatuteExpanded && !doc.section_details && doc.Sections && (\r\n                                  <div className=\"border-t border-gray-100 p-3\">\r\n                                    <div className=\"text-xs text-gray-500 mb-2\">Basic Section Info:</div>\r\n                                    {doc.Sections.map((section: any, sectionIndex: number) => (\r\n                                      <div key={sectionIndex} className=\"text-xs text-gray-700 mb-1\">\r\n                                        • {section.Section || `Section ${sectionIndex + 1}`}\r\n                                      </div>\r\n                                    ))}\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-gray-500\">\r\n                    <Layers className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                    <p>No batch collections found</p>\r\n                    <p className=\"text-sm\">Run section splitting first to create batches</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <Eye className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                <p>Click \"Load Batch Preview\" to see batch collections</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'statistics' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Processing Statistics</h3>\r\n              <button\r\n                onClick={fetchStatistics}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Load Statistics\r\n              </button>\r\n            </div>\r\n            \r\n            {statistics ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"bg-blue-50 p-4 rounded-lg text-center\">\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {statistics.statistics?.source_collection?.count || 0}\r\n                  </div>\r\n                  <div className=\"text-sm text-blue-600\">Source Documents</div>\r\n                  <div className=\"text-xs text-blue-500\">{statistics.statistics?.source_collection?.name}</div>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {statistics.statistics?.source_collection?.exists ? '✅ Exists' : '❌ Missing'}\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-green-50 p-4 rounded-lg text-center\">\r\n                  <div className=\"text-2xl font-bold text-green-600\">\r\n                    {statistics.statistics?.target_database?.batch_collections?.length || 0}\r\n                  </div>\r\n                  <div className=\"text-sm text-green-600\">Batch Collections</div>\r\n                  <div className=\"text-xs text-green-500\">{statistics.statistics?.target_database?.name}</div>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {statistics.statistics?.target_database?.exists ? '✅ Exists' : '❌ Missing'}\r\n                  </div>\r\n                </div>\r\n                \r\n                {statistics.statistics?.target_database?.batch_collections && (\r\n                  <div className=\"md:col-span-2 bg-purple-50 p-4 rounded-lg\">\r\n                    <h4 className=\"font-medium text-purple-900 mb-2\">Batch Collections</h4>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm\">\r\n                      {statistics.statistics.target_database.batch_collections.map((batch: string, index: number) => (\r\n                        <div key={index} className=\"bg-white p-2 rounded text-center\">\r\n                          <div className=\"font-medium\">{batch}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <Settings className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                <p>No statistics available</p>\r\n                <button\r\n                  onClick={fetchStatistics}\r\n                  className=\"mt-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n                >\r\n                  Load Statistics\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'history' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Processing History</h3>\r\n              <button\r\n                onClick={fetchHistory}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n              >\r\n                Refresh History\r\n              </button>\r\n            </div>\r\n            \r\n            {history ? (\r\n              <div className=\"space-y-4\">\r\n                {history.history.length > 0 ? (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                      <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Operation\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Database\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Collection\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Date\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Processed\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Actions\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {history.history.map((item: any, index: number) => (\r\n                          <tr key={index} className=\"hover:bg-gray-50\">\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                              <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                                item.operation_type === 'split' \r\n                                  ? 'bg-blue-100 text-blue-800' \r\n                                  : 'bg-green-100 text-green-800'\r\n                              }`}>\r\n                                {item.operation_type === 'split' ? 'Section Splitting' : 'Field Cleaning'}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {item.database}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {item.collection}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              {new Date(item.created_at).toLocaleDateString()}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {item.total_processed} items\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                              <button\r\n                                onClick={() => window.open(`/api/v1/phase3/history/${item.filename}`, '_blank')}\r\n                                className=\"text-indigo-600 hover:text-indigo-900\"\r\n                              >\r\n                                View Details\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8 text-gray-500\">\r\n                    <History className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                    <p>No processing history found</p>\r\n                    <p className=\"text-sm\">Run section splitting or field cleaning to generate history</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8 text-gray-500\">\r\n                <History className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\r\n                <p>Click \"Refresh History\" to load processing history</p>\r\n                <div className=\"mt-4 text-xs text-gray-500\">\r\n                  <p>• Section splitting creates batch collections</p>\r\n                  <p>• Field cleaning processes each batch individually</p>\r\n                  <p>• All operations are logged with timestamps</p>\r\n                  <p>• Metadata files contain detailed statistics</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phase3;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}